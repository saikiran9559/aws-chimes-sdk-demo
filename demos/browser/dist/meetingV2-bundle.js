/*! For license information please see meetingV2-bundle.js.LICENSE.txt */
var app_meetingV2;(()=>{var __webpack_modules__={601:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2378);t.default=class{constructor(e,t,r,i=1e3,n=200){this.realtimeController=e,this.selfAttendeeId=t,this.hasBandwidthPriorityCallback=r,this.waitIntervalMs=i,this.updateIntervalMs=n,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}needUpdate(e){return!this.activeSpeakers||0===this.speakerScores[e]&&this.activeSpeakers.includes(e)||this.speakerScores[e]>0&&!this.activeSpeakers.includes(e)}updateActiveSpeakers(e,t,r){if(!this.needUpdate(r))return;const i=[],n=Object.keys(this.speakerScores);for(let e=0;e<n.length;e++){const t=n[e];i.push({attendeeId:t,activeScore:this.speakerScores[t]})}const o=i.sort(((e,t)=>t.activeScore-e.activeScore)).filter((function(e){return e.activeScore>0})).map((function(e){return e.attendeeId}));this.activeSpeakers=o,t(o);const s=o.length>0&&o[0]===this.selfAttendeeId&&e.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==s&&(this.hasBandwidthPriority=s,this.hasBandwidthPriorityCallback(s))}updateScore(e,t,r,i,n){const o=e.calculateScore(r,i,n);this.speakerScores[r]!==o&&(this.speakerScores[r]=o,this.mostRecentUpdateTimestamp[r]=Date.now(),this.updateActiveSpeakers(e,t,r))}subscribe(e,t,r,i){const o=(r,i)=>{if(!i)return this.speakerScores[r]=0,this.mostRecentUpdateTimestamp[r]=Date.now(),void this.updateActiveSpeakers(e,t,r);this.realtimeController.realtimeSubscribeToVolumeIndicator(r,((r,i,n,o)=>{this.mostRecentUpdateTimestamp[r]=Date.now(),null!==n&&(this.speakerMuteState[r]=n),this.updateScore(e,t,r,i,n)}))};this.detectorCallbackToHandler.set(t,o);const s=new n.default(this.updateIntervalMs);if(s.start((()=>{for(const r in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[r]>this.waitIntervalMs&&this.updateScore(e,t,r,0,this.speakerMuteState[r])})),this.detectorCallbackToActivityTimer.set(t,s),r&&i){const e=new n.default(i);e.start((()=>{r(this.speakerScores)})),this.detectorCallbackToScoresTimer.set(t,e)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(o)}unsubscribe(e){const t=this.detectorCallbackToHandler.get(e);this.detectorCallbackToHandler.delete(e),t&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t);const r=this.detectorCallbackToActivityTimer.get(e);r&&(r.stop(),this.detectorCallbackToActivityTimer.delete(e));const i=this.detectorCallbackToScoresTimer.get(e);i&&(i.stop(),this.detectorCallbackToHandler.delete(e))}destroy(){return i(this,void 0,void 0,(function*(){for(const e of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e);for(const e of this.detectorCallbackToActivityTimer.values())e.stop();for(const e of this.detectorCallbackToScoresTimer.values())e.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()}))}}},3360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e=.9,t=.01,r=.2,i=.2){this.speakerWeight=e,this.cutoffThreshold=t,this.silenceThreshold=r,this.takeoverRate=i,this.volumes={}}calculateScore(e,t,r){(r||null===t)&&(t=0),this.volumes.hasOwnProperty(e)||(this.volumes[e]=0),t=t>this.silenceThreshold?1:0;const i=this.volumes[e]*this.speakerWeight+t*(1-this.speakerWeight);this.volumes[e]=i;for(const r in this.volumes)r!==e&&(this.volumes[r]=Math.max(this.volumes[r]-this.takeoverRate*t,0));return i<this.cutoffThreshold?0:i}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}}},8906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.appName=e,this.appVersion=t}static create(e,t){const i=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!e||e.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!i.test(e))throw new Error(`appName must satisfy ${i} regular expression`);if(!t||t.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm.test(t))throw new Error("appVersion must satisfy Semantic Versioning format");return new r(e,t)}}t.default=r},6943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},443:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297),o=r(996);t.default=class{constructor(e){this.logger=e,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new n.default,this.observers=new Set}bindAudioElement(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error(`Cannot bind audio element: ${e}`);return this.audioElement=e,this.audioElement.autoplay=!0,this.bindAudioMix()}))}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver((e=>{this.audioStream&&e.meetingAudioStreamBecameInactive(this.audioStream)})))}bindAudioStream(e){return i(this,void 0,void 0,(function*(){if(e){this.audioStream=e;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}}))}bindAudioDevice(e){return i(this,void 0,void 0,(function*(){if(e&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=e,this.bindAudioMix()}))}forEachObserver(e){for(const t of this.observers)o.default.nextTick((()=>{e(t)}))}bindAudioMix(){var e,t;return i(this,void 0,void 0,(function*(){if(!this.audioElement)return;const r=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),r!==this.audioStream&&this.forEachObserver((e=>{r&&e.meetingAudioStreamBecameInactive(r),this.audioStream&&e.meetingAudioStreamBecameActive(this.audioStream)}));const i=(null===(e=this.audioDevice)||void 0===e?void 0:e.deviceId)!==this.audioElement.sinkId;if(i&&void 0===this.audioElement.sinkId)throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const n=this.audioDevice?this.audioDevice.deviceId:"";if(n===this.audioElement.sinkId)return;const o=this.audioElement,s=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(o.srcObject=null),i)try{yield o.setSinkId(n)}catch(e){throw null===(t=this.logger)||void 0===t||t.error(`Failed to set sinkId for audio element: ${e}`),e}this.browserBehavior.hasChromiumWebRTC()&&(o.srcObject=s)}))}getCurrentMeetingAudioStream(){return i(this,void 0,void 0,(function*(){return this.audioStream}))}addAudioMixObserver(e){return i(this,void 0,void 0,(function*(){this.observers.add(e)}))}removeAudioMixObserver(e){return i(this,void 0,void 0,(function*(){this.observers.delete(e)}))}audioOutputDidChange(e){return i(this,void 0,void 0,(function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(e)}))}}},1545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e=null){this.audioBitrateBps=e}static fullbandSpeechMono(){return new r(4e4)}static fullbandMusicMono(){return new r(64e3)}static fullbandMusicStereo(){return new r(128e3)}isStereo(){return 128e3===this.audioBitrateBps}}t.default=r},2757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.logger=null,this.browserBehavior=null,this.signalingClient=null,this.meetingSessionConfiguration=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.audioMixController=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=25,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}}},483:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(601),o=r(443),s=r(1545),a=r(9297),c=r(2217),l=r(1),d=r(5956),u=r(1736),h=r(7840),p=r(6878),m=r(744),f=r(7461),g=r(996),b=r(4549),v=r(9694),y=r(9042),w=r(5462),S=r(3837),x=r(4123),k=r(2402),C=r(8330),E=r(3081),_=r(1722),T=r(6310),I=r(8861),M=r(805),A=r(9098),O=r(7998),P=r(3333),D=r(3717),R=r(2325),L=r(6537),F=r(406),B=r(9154),N=r(8717),V=r(6700),j=r(701),U=r(6464),z=r(7946),$=r(1967),q=r(9231),H=r(686),W=r(9203),K=r(3913),G=r(251),J=r(5859),Z=r(1580),Q=r(9690),X=r(2205),Y=r(1706),ee=r(2019),te=r(6085),re=r(2816),ie=r(8791),ne=r(4688),oe=r(1688),se=r(507),ae=r(5695),ce=r(4505),le=r(6932),de=r(6640),ue=r(2187),he=r(2757);class pe{constructor(e,t,r,i,n,a){this._audioProfile=new s.default,this.connectionHealthData=new c.default,this.observerQueue=new Set,this.meetingSessionContext=new he.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this.usePromises=!0,this._logger=t,this.sessionStateController=new b.default(this._logger),this._configuration=e,this._webSocketAdapter=r,this._realtimeController=new f.default(i),this._realtimeController.realtimeSetLocalAttendeeId(e.credentials.attendeeId,e.credentials.externalUserId),this._mediaStreamBroker=i,this._reconnectController=n,this._videoTileController=new ae.default(new ce.default,this,this._logger),this._audioMixController=new o.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=a}destroy(){return i(this,void 0,void 0,(function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0}))}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new n.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(e){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(e):null}setAudioProfile(e){this._audioProfile=e}addObserver(e){this.logger.info("adding meeting observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing meeting observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)g.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}initSignalingClient(){this.connectionHealthData.reset(),this.meetingSessionContext.signalingClient||(this.meetingSessionContext=new he.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new a.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new S.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){var e;null===(e=this.meetingSessionContext.signalingClient)||void 0===e||e.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then((()=>{const e=()=>i(this,void 0,void 0,(function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}));this.preStartObserver={handleSignalingClientEvent(t){t.type===x.default.WebSocketClosed&&e()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)})).catch((e=>{this.logger.error(`Signaling task pre-start failed: ${e}`),this.signalingTask=void 0}))}start(e){this.startReturningPromise(e).then((()=>{this.logger.info("start completed")})).catch((e=>{this.logger.error(`start failed: ${e}`)}))}startReturningPromise(e){return!0===(null==e?void 0:e.signalingOnly)?this.prestart():(this.activeSpeakerDetector,new Promise(((e,t)=>{this.sessionStateController.perform(v.default.Connect,(()=>{this.actionConnect(!1).then(e).catch(t)}))})))}connectWithPromises(e){const t=this.meetingSessionContext;this.monitorTask=new L.default(t,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const r=this.monitorTask.once(),i=new V.default(t).once();this.receiveIndexTask=new z.default(t),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const n=new q.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new R.default(t),new $.default(t),new P.default(t),new j.default(t),this.receiveIndexTask]).once(),o=new M.default(t).once(n),s=new _.default(t).once(o,i),a=new A.default(t).once(s),c=new H.default(t).once(a),l=new O.default(t).once(c),d=new K.default(t).once(l);return new q.default(this.logger,this.wrapTaskName("AudioVideoStart"),[r,((e,t)=>new G.default(this.logger,t,e))(this.configuration.connectionTimeoutMs,new q.default(this.logger,"Peer",[d,e?new G.default(this.logger,new B.default(this.logger,"FinalizeConnection",[new J.default(t),new W.default(t)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new W.default(t)]))])}connectWithTasks(e){return this.receiveIndexTask=new z.default(this.meetingSessionContext),this.monitorTask=new L.default(this.meetingSessionContext,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData),this.receiveIndexTask.pauseIngestion(),this.monitorTask.pauseResubscribeCheck(),new q.default(this.logger,this.wrapTaskName("AudioVideoStart"),[this.monitorTask,new V.default(this.meetingSessionContext),new G.default(this.logger,new q.default(this.logger,"Media",[new q.default(this.logger,"Signaling",[new F.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new $.default(this.meetingSessionContext),new P.default(this.meetingSessionContext),new j.default(this.meetingSessionContext),this.receiveIndexTask]),new q.default(this.logger,"Peer",[new M.default(this.meetingSessionContext),new _.default(this.meetingSessionContext),new A.default(this.meetingSessionContext),new H.default(this.meetingSessionContext),new O.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),e?new G.default(this.logger,new B.default(this.logger,"FinalizeConnection",[new J.default(this.meetingSessionContext),new W.default(this.meetingSessionContext)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new W.default(this.meetingSessionContext)])]),this.configuration.connectionTimeoutMs)])}actionConnect(e){var t;return i(this,void 0,void 0,(function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(new a.default).hasChromiumWebRTC();const r=!!this.configuration.urls.audioHostURL;if(r?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new p.default(this.configuration.credentials.attendeeId).hasModality(p.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Q.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new X.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new Z.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Y.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new ue.default(this.logger,this._realtimeController,pe.MIN_VOLUME_DECIBELS,pe.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let e=this.meetingSessionContext.videoUplinkBandwidthPolicy;e||(e=new le.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=e),e.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ie.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new se.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new oe.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new de.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new re.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.lastKnownVideoAvailability=new h.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new te.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new ne.default,this.meetingSessionContext.videosPaused=new ne.default,this.meetingSessionContext.statsCollector=new E.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new l.default(this,this._realtimeController,this.connectionHealthData,new m.default(this.meetingSessionContext.signalingClient,pe.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},e||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStartConnecting).map((t=>t.bind(e)(!1)))})),null===(t=this.eventController)||void 0===t||t.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const n=r&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;let o;this.logger.info("Needs to wait for attendee presence? "+n),o=this.usePromises?this.connectWithPromises(n):this.connectWithTasks(n);try{yield o.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(v.default.FinishConnecting,(()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()}))}catch(e){this.signalingTask=void 0;const t=new d.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);if(this.logger.info(`Start failed: ${t} due to error ${e}.`),this.sessionStateController.state()===y.default.NotConnected)return void this.logger.info("Start failed and not connected. Not cleaning up.");this.sessionStateController.perform(v.default.Fail,(()=>i(this,void 0,void 0,(function*(){yield this.actionDisconnect(t,!0,e),this.handleMeetingSessionStatus(t,e)||this.notifyStop(t,e)}))))}}))}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new G.default(this.logger,new F.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=C.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStart).map((t=>t.bind(e)()))})),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var e;return this.sessionStateController.state()===y.default.NotConnected?(null===(e=this.meetingSessionContext.signalingClient)||void 0===e||e.closeConnection(),this.meetingSessionContext.signalingClient=null,this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise(((e,t)=>{this.sessionStateController.perform(v.default.Disconnect,(()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new d.default(u.default.Left),!1,null).then(e).catch(t)}))}))}stop(){this.stopReturningPromise()}actionDisconnect(e,t,r){return i(this,void 0,void 0,(function*(){try{yield new q.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new G.default(this.logger,new D.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch(e){this.logger.info("fail to stop")}try{const e=[new G.default(this.logger,new I.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new q.default(this.logger,this.wrapTaskName("AudioVideoClean"),e).run()}catch(e){this.logger.info("fail to clean")}this.sessionStateController.perform(v.default.FinishDisconnecting,(()=>{t||(this.meetingSessionContext.signalingClient=null,this.notifyStop(e,r))}))}))}update(e={needsRenegotiation:!0}){let t=e.needsRenegotiation;if(t||(t=void 0===this.meetingSessionContext.peer),t||(t=!this.updateRemoteVideosFromLastVideosToReceive()),t||(t=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!t)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const r=this.sessionStateController.perform(v.default.Update,(()=>{this.actionUpdateWithRenegotiation(!0)}));return r===w.default.Transitioned||r===w.default.DeferredTransition}updateRemoteVideosFromLastVideosToReceive(){var e,t;const r=this.meetingSessionContext;if((null===(e=r.videosToReceive)||void 0===e?void 0:e.empty())||(null===(t=r.lastVideosToReceive)||void 0===t?void 0:t.empty()))return!1;if(!(r.transceiverController&&r.transceiverController.getMidForStreamId&&r.transceiverController.setStreamIdForMid&&r.videosToReceive.forEach&&r.signalingClient.remoteVideoUpdate&&r.videoStreamIndex.overrideStreamIdMappings))return!1;let i=[];const n=new Map;let o=[];if(null===r.lastVideosToReceive)i=r.videosToReceive.array();else{const e=r.videoStreamIndex;r.videosToReceive.forEach((t=>{if(r.lastVideosToReceive.contain(t))return;let o=!1;r.lastVideosToReceive.forEach((r=>{o||e.StreamIdsInSameGroup(r,t)&&(n.set(r,t),o=!0)})),o||i.push(t)})),o=r.lastVideosToReceive.array().filter((e=>{const t=r.videosToReceive.contain(e),i=n.has(e);return!t&&!i}))}this.logger.info(`Request to update remote videos with added: ${i}, updated: ${[...n.entries()]}, removed: ${o}`);const s=[];for(const[e,t]of n.entries()){const i=new k.default;if(i.streamId=t,i.attendeeId=r.videoStreamIndex.attendeeIdForStreamId(t),i.mid=r.transceiverController.getMidForStreamId(e),void 0===i.mid)return this.logger.info(`No MID found for stream ID ${e}, cannot update stream without renegotiation`),!1;if(s.push(i),r.transceiverController.setStreamIdForMid(i.mid,t),r.videoStreamIndex.overrideStreamIdMappings(e,t),r.videoTileController.haveVideoTileForAttendeeId(i.attendeeId)){const e=r.videoTileController.getVideoTileForAttendeeId(i.attendeeId);if(!e.setStreamId)return!1;e.setStreamId(t)}}return 0!==s.length&&r.signalingClient.remoteVideoUpdate(s,[]),0===i.length&&0===o.length&&(r.videoStreamIndex.subscribeFrameSent(),!0)}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const e=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(e)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const e=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!(!e||!e.headerExtensions)&&e.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"===e.uri))}restartLocalVideo(e){const t=()=>i(this,void 0,void 0,(function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),e()})),r=this.sessionStateController.perform(v.default.Update,(()=>{t()}));return r===w.default.Transitioned||r===w.default.DeferredTransition}replaceLocalVideo(e){return i(this,void 0,void 0,(function*(){if(!e||e.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const t=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(t){const r=t.state(),i=e.getVideoTracks()[0].getSettings();t.bindVideoStream(r.boundAttendeeId,!0,e,i.width,i.height,r.streamId,r.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(e.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=e,this.logger.info("Local video input is updated")}))}replaceLocalAudio(e){return i(this,void 0,void 0,(function*(){if(!e||e.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(e.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=e,this.logger.info("Local audio input is updated")}))}actionUpdateWithRenegotiation(e){return i(this,void 0,void 0,(function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new q.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new U.default(this.meetingSessionContext),new G.default(this.logger,new q.default(this.logger,"UpdateSession",[new _.default(this.meetingSessionContext),new A.default(this.meetingSessionContext),new H.default(this.meetingSessionContext),new O.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new W.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),e&&this.sessionStateController.perform(v.default.FinishUpdating,(()=>{this.actionFinishUpdating()}))}catch(e){this.sessionStateController.perform(v.default.FinishUpdating,(()=>{const t=new d.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);t.statusCode()!==u.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(t,e)}))}}))}notifyStop(e,t){var r;if(this.forEachObserver((t=>{ee.Maybe.of(t.audioVideoDidStop).map((r=>r.bind(t)(e)))})),this.promotedToPrimaryMeeting&&t&&this.forEachObserver((e=>{this.promotedToPrimaryMeeting=!1,ee.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((t=>t.bind(e)(new d.default(u.default.SignalingInternalServerError))))})),this.eventController){const{signalingOpenDurationMs:i,poorConnectionCount:n,startTimeMs:o,iceGatheringDurationMs:s,attendeePresenceDurationMs:a,meetingStartDurationMs:c}=this.meetingSessionContext,l={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:null===o?0:Math.round(Date.now()-o),meetingStatus:u.default[e.statusCode()],signalingOpenDurationMs:i,iceGatheringDurationMs:s,attendeePresenceDurationMs:a,poorConnectionCount:n,meetingStartDurationMs:c,retryCount:this.totalRetryCount},d=t&&t.message||(null===(r=e.toString)||void 0===r?void 0:r.call(e))||"";0===l.meetingDurationMs?(l.meetingErrorMessage=d,delete l.meetingDurationMs,delete l.attendeePresenceDurationMs,delete l.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",l)):e.isFailure()||e.isAudioConnectionFailure()?(l.meetingErrorMessage=d,this.eventController.publishEvent("meetingFailed",l)):this.eventController.publishEvent("meetingEnded",l)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const e=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(e)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(e,t){const r=this._reconnectController.retryWithBackoff((()=>i(this,void 0,void 0,(function*(){this.sessionStateController.state()===y.default.NotConnected?this.sessionStateController.perform(v.default.Connect,(()=>{this.actionConnect(!0)})):this.sessionStateController.perform(v.default.Reconnect,(()=>{this.actionReconnect(e)})),this.totalRetryCount+=1}))),(()=>{this.logger.info("canceled retry")}));return r||this.sessionStateController.perform(v.default.Fail,(()=>{this.actionDisconnect(e,!1,t)})),r}actionReconnect(e){return i(this,void 0,void 0,(function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStartConnecting).map((t=>t.bind(e)(!0)))}))),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new q.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new G.default(this.logger,new q.default(this.logger,"Media",[new T.default(this.meetingSessionContext),new q.default(this.logger,"Signaling",[new F.default(this.meetingSessionContext),new P.default(this.meetingSessionContext),new j.default(this.meetingSessionContext)]),new M.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new U.default(this.meetingSessionContext),new G.default(this.logger,new q.default(this.logger,"UpdateSession",[new _.default(this.meetingSessionContext),new A.default(this.meetingSessionContext),new H.default(this.meetingSessionContext),new O.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),new W.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(v.default.FinishConnecting,(()=>{if(this.eventController){const{signalingOpenDurationMs:t,poorConnectionCount:r,startTimeMs:i,iceGatheringDurationMs:n,attendeePresenceDurationMs:o,meetingStartDurationMs:s}=this.meetingSessionContext,a={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-i),meetingStatus:u.default[e.statusCode()],signalingOpenDurationMs:t,iceGatheringDurationMs:n,attendeePresenceDurationMs:o,poorConnectionCount:r,meetingStartDurationMs:s,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",a)}this.actionFinishConnecting()}))}catch(e){this.sessionStateController.perform(v.default.FinishConnecting,(()=>{this.logger.info("failed to reconnect audio-video session");const t=new d.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);this.handleMeetingSessionStatus(t,e)}))}this.connectionHealthData.setConnectionStartTime()}))}wrapTaskName(e){return`${e}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(e){const t=/the meeting status code: (\d+)/.exec(e&&e.message);return t&&t.length>1?Number.parseInt(t[1],10):null}enforceBandwidthLimitationForSender(e){return i(this,void 0,void 0,(function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(e)}))}handleMeetingSessionStatus(e,t){if(this.logger.info(`handling status: ${u.default[e.statusCode()]}`),e.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(e),e.statusCode()===u.default.IncompatibleSDP)return this.restartLocalVideo((()=>{this.logger.info("handled incompatible SDP by attempting to restart video")})),!0;if(e.statusCode()===u.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver((e=>{ee.Maybe.of(e.videoSendDidBecomeUnavailable).map((t=>t.bind(e)()))})),!1;if(e.statusCode()===u.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver((t=>{ee.Maybe.of(t.audioVideoWasDemotedFromPrimaryMeeting).map((r=>r.bind(t)(e)))})),!1;if(e.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(e.isFailure()||e.isTerminal())&&this.meetingSessionContext.reconnectController){const r=this.reconnect(e,t);return r?this.logger.warn(`will retry due to status code ${u.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`):this.logger.error(`failed with status code ${u.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`),r}return!1}setVideoMaxBandwidthKbps(e){if(e<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${e} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(e)),this.maxUplinkBandwidthKbps=e}handleHasBandwidthPriority(e){return i(this,void 0,void 0,(function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink)return this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),void(yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController());const t=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e);const r=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();t!==r&&(this.logger.info(`video send bandwidth priority ${e} max has changed from ${t} kbps to ${r} kbps`),yield this.enforceBandwidthLimitationForSender(r))}}))}pauseReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([e])}resumeReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([e])}setVideoCodecSendPreferences(e){this.videoSendCodecPreferences=e,this.meetingSessionContext.videoSendCodecPreferences=e,this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:e}=this.meetingSessionContext;if(!e)return this.logger.info("meeting has not started"),[];const t=this.configuration.credentials.attendeeId;return e.allVideoSendingSourcesExcludingSelf(t)}encodingSimulcastLayersDidChange(e){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver((t=>{ee.Maybe.of(t.encodingSimulcastLayersDidChange).map((r=>r.bind(t)(e)))}))}promoteToPrimaryMeeting(e){return this.actionPromoteToPrimaryMeeting(e)}actionPromoteToPrimaryMeeting(e){return i(this,void 0,void 0,(function*(){let t=new d.default(u.default.SignalingRequestFailed);return yield new q.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new G.default(this.logger,new N.default(this.meetingSessionContext,e,(e=>{t=e})),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=t.statusCode()===u.default.OK,t}))}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((t=>t.bind(e)(new d.default(u.default.OK))))}))}videoInputDidChange(e){return i(this,void 0,void 0,(function*(){this.logger.info("Receive a video input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer?this._videoTileController.hasStartedLocalVideoTile()&&(e?yield this.replaceLocalVideo(e):this._videoTileController.stopLocalVideoTile()):this.logger.info("Skip updating video input because there is no active meeting and peer connection")}))}audioInputDidChange(e){return i(this,void 0,void 0,(function*(){if(this.logger.info("Receive an audio input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer){if(!e)try{e=yield this.mediaStreamBroker.acquireAudioInputStream()}catch(e){return void this.logger.error("Could not acquire audio track from mediaStreamBroker")}yield this.replaceLocalAudio(e)}else this.logger.info("Skip updating audio input because there is no active meeting and peer connection")}))}}t.default=pe,pe.MIN_VOLUME_DECIBELS=-42,pe.MAX_VOLUME_DECIBELS=-14,pe.PING_PONG_INTERVAL_MS=1e4},3739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6467),n=r(8672),o=r(7677),s=r(3120),a=r(231),c=r(2721),l=r(5956),d=r(1736),u=r(9384),h=r(1316),p=r(5786),m=r(483);class f extends m.default{constructor(e){const t=new a.default;t.meetingId="",t.externalMeetingId="",t.credentials=new c.default,t.credentials.attendeeId="",t.credentials.joinToken="",t.urls=new u.default,t.urls.turnControlURL="",t.urls.audioHostURL="",t.urls.signalingURL="wss://localhost/";const r=new o.default;super(e||t,r,new p.default(new o.default),new s.default,new h.default(0,new i.default(0,0,0)),new n.default(e||t,r))}setAudioProfile(e){}start(){}stop(){}promoteToPrimaryMeeting(e){return Promise.resolve(new l.default(d.default.OK))}demoteFromPrimaryMeeting(){}}t.default=f},8104:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4153);t.default=class{constructor(e,t,r,i,n,o){this.audioVideoController=e,this.videoTileController=t,this.realtimeController=r,this.audioMixController=i,this.deviceController=n,this.contentShareController=o}addObserver(e){this.audioVideoController.addObserver(e),this.trace("addObserver")}removeObserver(e){this.audioVideoController.removeObserver(e),this.trace("removeObserver")}setAudioProfile(e){this.trace("setAudioProfile",e),this.audioVideoController.setAudioProfile(e)}start(e){this.audioVideoController.start(e),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(e){return this.trace("getRTCPeerConnectionStats",e?e.id:null),this.audioVideoController.getRTCPeerConnectionStats(e)}bindAudioElement(e){const t=this.audioMixController.bindAudioElement(e);return this.trace("bindAudioElement",e.id,t),t}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(e){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(e)}removeAudioMixObserver(e){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(e)}bindVideoElement(e,t){this.videoTileController.bindVideoElement(e,t),this.trace("bindVideoElement",{tileId:e,videoElementId:t.id})}unbindVideoElement(e,t=!0){this.videoTileController.unbindVideoElement(e,t),this.trace("unbindVideoElement",{tileId:e,cleanUpVideoElement:t})}startLocalVideoTile(){const e=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,e),e}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const e=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,e),e}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const e=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),e}pauseVideoTile(e){this.videoTileController.pauseVideoTile(e),this.trace("pauseVideoTile",e)}unpauseVideoTile(e){this.videoTileController.unpauseVideoTile(e),this.trace("unpauseVideoTile",e)}getVideoTile(e){const t=this.videoTileController.getVideoTile(e);return this.trace("getVideoTile",e),t}getAllRemoteVideoTiles(){const e=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),e}getAllVideoTiles(){const e=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),e}addVideoTile(){const e=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,e.state()),e}removeVideoTile(e){this.videoTileController.removeVideoTile(e),this.trace("removeVideoTile",e)}removeVideoTilesByAttendeeId(e){const t=this.videoTileController.removeVideoTilesByAttendeeId(e);return this.trace("removeVideoTilesByAttendeeId",e,t),t}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(e){const t=this.videoTileController.captureVideoTile(e);return this.trace("captureVideoTile",e),t}realtimeSubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(e),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSetCanUnmuteLocalAudio(e),this.trace("realtimeSetCanUnmuteLocalAudio",e)}realtimeSubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const e=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,e),e}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const e=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),e}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const e=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),e}realtimeSubscribeToVolumeIndicator(e,t){this.realtimeController.realtimeSubscribeToVolumeIndicator(e,t),this.trace("realtimeSubscribeToVolumeIndicator",e)}realtimeUnsubscribeFromVolumeIndicator(e,t){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(e,t),this.trace("realtimeUnsubscribeFromVolumeIndicator",e,t)}realtimeSubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(e),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(e,t,r){this.realtimeController.realtimeSendDataMessage(e,t,r),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(e,t){this.realtimeController.realtimeSubscribeToReceiveDataMessage(e,t),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(e){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(e),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(e){this.realtimeController.realtimeSubscribeToFatalError(e),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(e){this.realtimeController.realtimeUnsubscribeToFatalError(e),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(e,t,r,i){this.audioVideoController.activeSpeakerDetector.subscribe(e,t,r,i),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(e){this.audioVideoController.activeSpeakerDetector.unsubscribe(e),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listAudioInputDevices(e);return this.trace("listAudioInputDevices",e,t),t}))}listVideoInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listVideoInputDevices(e);return this.trace("listVideoInputDevices",e,t),t}))}listAudioOutputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listAudioOutputDevices(e);return this.trace("listAudioOutputDevices",e,t),t}))}startAudioInput(e){return i(this,void 0,void 0,(function*(){return this.trace("startAudioInput",e),this.deviceController.startAudioInput(e)}))}stopAudioInput(){return i(this,void 0,void 0,(function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()}))}startVideoInput(e){return i(this,void 0,void 0,(function*(){return n.isVideoTransformDevice(e)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",e),this.deviceController.startVideoInput(e)}))}stopVideoInput(){return i(this,void 0,void 0,(function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()}))}chooseAudioOutput(e){const t=this.deviceController.chooseAudioOutput(e);return this.trace("chooseAudioOutput",e),t}addDeviceChangeObserver(e){this.deviceController.addDeviceChangeObserver(e),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.deviceController.removeDeviceChangeObserver(e),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const e=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),e}startVideoPreviewForVideoInput(e){this.deviceController.startVideoPreviewForVideoInput(e),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){this.deviceController.stopVideoPreviewForVideoInput(e),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){this.deviceController.setDeviceLabelTrigger(e),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){const t=this.deviceController.mixIntoAudioInput(e);return this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,r){this.deviceController.chooseVideoInputQuality(e,t,r),this.trace("chooseVideoInputQuality",{width:e,height:t,frameRate:r})}setVideoMaxBandwidthKbps(e){this.audioVideoController.setVideoMaxBandwidthKbps(e),this.trace("setVideoMaxBandwidthKbps",e)}setVideoCodecSendPreferences(e){this.audioVideoController.setVideoCodecSendPreferences(e),this.trace("setVideoCodecSendPreferences",e)}getVideoInputQualitySettings(){const e=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),e}setContentAudioProfile(e){this.trace("setContentAudioProfile",e),this.contentShareController.setContentAudioProfile(e)}enableSimulcastForContentShare(e,t){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(e,t)}startContentShare(e){const t=this.contentShareController.startContentShare(e);return this.trace("startContentShare"),t}startContentShareFromScreenCapture(e,t){const r=this.contentShareController.startContentShareFromScreenCapture(e,t);return this.trace("startContentShareFromScreenCapture"),r}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(e){this.contentShareController.addContentShareObserver(e),this.trace("addContentShareObserver")}removeContentShareObserver(e){this.contentShareController.removeContentShareObserver(e),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(e){this.contentShareController.setContentShareVideoCodecPreferences(e),this.trace("setContentShareVideoCodecPreferences")}trace(e,t,r){let i=`API/DefaultAudioVideoFacade/${this.audioVideoController.configuration.meetingId}/${this.audioVideoController.configuration.credentials.attendeeId}/${e}`;void 0!==t&&(i+=` ${JSON.stringify(t)}`),void 0!==r&&(i+=` -> ${JSON.stringify(r)}`),this.audioVideoController.logger.info(i)}getRemoteVideoSources(){const e=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,e),e}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(e){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const t=this.audioVideoController.promoteToPrimaryMeeting(e);return this.trace("promoteToPrimaryMeeting",null,t),t}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(e){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}},5001:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2010),o=r(795);class s extends n.default{constructor(e,t){super(e,t),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}drawImageWithMask(e,t){const r=this.blurredImage,{canvasCtx:i,targetCanvas:n}=this,{width:o,height:s}=n;t&&r?(this.scaledCanvas.getContext("2d").putImageData(t,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),i.save(),i.clearRect(0,0,o,s),i.drawImage(this.scaledCanvas,0,0,o,s),i.globalCompositeOperation="source-in",i.drawImage(e,0,0,o,s),i.globalCompositeOperation="destination-over",i.drawImage(this.blurCanvas,0,0,o,s),i.restore()):i.clearRect(0,0,o,s)}setBlurStrength(e){if(super.setBlurStrength(e),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=o.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));const t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(e){this.blurredImage=e.payload.blurOutput,super.handlePredict(e)}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});var t;return i(this,void 0,void 0,(function*(){e.destroy.call(this),null===(t=this.blurCanvas)||void 0===t||t.remove(),this.blurCanvas=void 0}))}}t.default=s},2010:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2556),o=r(795),s=r(5524);class a extends n.default{constructor(e,t){super("background blur",e,t,new s.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:r,targetCanvas:i}=this,{width:n,height:o}=i;r.save(),r.clearRect(0,0,n,o),r.drawImage(this.scaledCanvas,0,0,n,o),r.globalCompositeOperation="source-in",r.drawImage(e,0,0,n,o),r.globalCompositeOperation="destination-over",r.filter=`blur(${this.blurAmount}px)`,r.drawImage(e,0,0,i.width,i.height),r.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=o.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return i(this,void 0,void 0,(function*(){const e=document.createElement("canvas"),t=void 0!==e.getContext("2d").filter;return e.remove(),t}))}}t.default=a},795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlurStrengthMapper=void 0;class r{static getBlurAmount(e,t){if(e<=0)throw new Error(`invalid value for blur strength: ${e}`);return Math.round(e*t.height/this.BLUR_STRENGTH_DIVISOR)}}t.BlurStrengthMapper=r,r.BLUR_STRENGTH_DIVISOR=540,t.default={LOW:7,MEDIUM:15,HIGH:30}},4776:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7012),o=r(6108),s=r(7718),a=r(2850),c=r(5001),l=r(2010),d=r(795);class u extends a.default{setBlurStrength(){}loadAssets(){return i(this,void 0,void 0,(function*(){}))}addObserver(){}removeObserver(){}}class h extends n.default{static create(e,t){return i(this,void 0,void 0,(function*(){e=h.resolveSpec(e),t=h.resolveOptions(t);const{logger:r}=t,i=yield h.isSupported(e,t);if(r.info(`processor is ${i?"":"not"} supported`),!i)return r.warn("Using no-op processor because background blur is not supported"),new u;let n;return(yield l.default.isSupported())?(r.info("Using browser-provided background blur"),n=new l.default(e,t)):(r.info("Using built-in background blur"),n=new c.default(e,t)),yield n.loadAssets(),n}))}static resolveOptions(e={}){let t=Object.assign({},e);return t.blurStrength||(t.blurStrength=d.default.MEDIUM),t.logger||(t.logger=new o.default("BackgroundBlurProcessor",s.default.INFO)),t=super.resolveOptions(t),t}static isSupported(e,t){return e=h.resolveSpec(e),t=h.resolveOptions(t),super.isSupported(e,t)}}t.default=h},5524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3417);class n extends i.default{}t.default=n},1831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.path=null,this.input=null,this.output=null}static builder(){return new r}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){return this.path="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite",this.input={height:144,width:256,range:[0,1],channels:3},this.output={height:144,width:256,range:[0,1],channels:1},this}withPath(e){return this.path=e,this}withInput(e){return this.input=e,this}withOutput(e){return this.output=e,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}t.default=r},9248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i){this.delegate=e,this.reportingPeriodMillis=t,this.filterCPUUtilization=r,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}reportEvent(e){const t=e-this.lastReportedEventTimestamp;if(t>=this.reportingPeriodMillis){const r=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=e,0===this.framerate||0===r)return;const n=Math.round(i/r),o=Math.round(this.framerate*(t/1e3))-r,s=Math.round(100*i/t);n>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:o,avgFilterDurationMillis:n,framerate:this.framerate,periodMillis:t}),s>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:s,filterMillis:i,periodMillis:t})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*.8)}frameReceived(e){e!==this.framerate&&(this.framerate=e,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const t=Date.now();this.reportEvent(t)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}}},2556:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundFilterMonitor=void 0;const n=r(6889),o=r(9874),s=r(9248);class a{constructor(){this.value=void 0,this.resolve=null}whenNext(){return this.promise||(this.promise=new Promise((e=>this.resolve=e))),this.promise}next(e){this.value=e,this.resolve(e),delete this.promise}}class c{constructor(e,t,r,i){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new o.default(this.targetCanvas),this.mask$=new a,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=c.createWorkerPromise(),this.loadModelPromise=c.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=e,this.validateSpec(t),this.validateOptions(r),this.spec=t,this.logger=r.logger,this.delegate=i,this.initCPUMonitor(r)}static createWorkerPromise(){const e={resolve:null,reject:null,promise:null};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}validateSpec(e){if(!e)throw new Error("processor has null spec");if(!e.model)throw new Error("processor spec has null model");if(!e.paths)throw new Error("processor spec has null paths")}validateOptions(e){if(!e)throw new Error("processor has null options");if(!e.logger)throw new Error("processor has null options - logger");if(!e.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!e.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(e){this.videoFramesPerFilterUpdate=1,this.frameCounter=new s.default(this.delegate,e.reportingPeriodMillis,e.filterCPUUtilization,this.logger),this.cpuMonitor=new l(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(e){return JSON.stringify(e,null,2)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));const t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(e){if(this.logger.info(`received load model message: ${this.stringify(e)}`),2!==e.payload)return this.logger.error("failed to load model! status: "+e.payload),void this.loadModelPromise.reject(new Error("failed to load model! status: "+e.payload));this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(e){this.mask$.next(e.payload.output)}handleWorkerEvent(e){const t=e.data;switch(t.msg){case"initialize":this.handleInitialize(t);break;case"loadModel":this.handleLoadModel(t);break;case"predict":this.handlePredict(t);break;default:this.logger.info(`unexpected event msg: ${this.stringify(t)}`)}}loadAssets(){return i(this,void 0,void 0,(function*(){this.logger.info("start initializing the processor");try{this.worker=yield n.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",(e=>this.handleWorkerEvent(e))),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(e){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${e.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)}))}process(e){return i(this,void 0,void 0,(function*(){if(this.destroyed)return e;this.frameCounter.frameReceived(e[0].framerate),this.cpuMonitor.frameReceived();const t=e[0].asCanvasElement();if(!t)return e;if(!this.modelInitialized)return e[0]=this.canvasVideoFrameBuffer,e;const r=t.width,i=t.height;if(0===r||0===i)return e;0===this.sourceWidth&&(this.sourceWidth=r,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),this.sourceWidth===r&&this.sourceHeight===i||(this.sourceWidth=r,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let e=this.mask$.value;const r=this.spec.model.input.width/t.width,i=this.spec.model.input.height/t.height;void 0===this.scaledCanvas&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const n=this.scaledCanvas.getContext("2d");n.save(),n.scale(r,i),n.drawImage(t,0,0),n.restore();const o=n.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate==0){const t=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:o},[o.data.buffer]),e=yield t}this.destroyed||this.drawImageWithMask(t,e)}catch(t){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${t}`),e}finally{this.frameCounter.filterComplete(),this.frameNumber++}return e[0]=this.canvasVideoFrameBuffer,e}))}updateVideoFramesPerFilterUpdate(e){e!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=e,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var e,t,r,n;return i(this,void 0,void 0,(function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),null===(e=this.worker)||void 0===e||e.postMessage({msg:"destroy"}),null===(t=this.worker)||void 0===t||t.postMessage({msg:"stop"}),null===(r=this.targetCanvas)||void 0===r||r.remove(),this.targetCanvas=void 0,null===(n=this.scaledCanvas)||void 0===n||n.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)}))}}t.default=c;class l{constructor(e,t){this.monitoringPeriodMillis=e,this.observer=t,this.lastCPUChangeTimestamp=0}filterCPUUtilizationHigh(){const e=Date.now();e-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.reduceCPUUtilization())}frameReceived(){const e=Date.now();e-this.lastCPUChangeTimestamp>=2*this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.increaseCPUUtilization())}}t.BackgroundFilterMonitor=l},7012:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(6889),o=r(2479),s=r(1831),a=r(9297),c=r(8495),l=()=>s.default.builder().withSelfieSegmentationDefaults().build(),d="https://static.sdkassets.chime.aws",u={worker:`${d}/bgblur/workers/worker.js`,wasm:`${d}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${d}/bgblur/wasm/_cwt-wasm-simd.wasm`};t.default=class{static defaultAssetSpec(){const e=c.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}static createUrlWithParams(e,t){const r=new URL(e),i=Object.keys(t);for(const e of i)void 0!==t[e]&&r.searchParams.set(e,t[e]);return r.toString()}static resolveSpec(e){const{paths:t=u,model:r=l(),assetGroup:i=this.defaultAssetSpec().assetGroup,revisionID:n=this.defaultAssetSpec().revisionID}=e||{},o={assetGroup:i,revisionID:n,sdk:encodeURIComponent(c.default.sdkVersion),ua:encodeURIComponent(c.default.sdkUserAgentLowResolution)};return t.worker=this.createUrlWithParams(t.worker,o),t.wasm=this.createUrlWithParams(t.wasm,o),t.simd=this.createUrlWithParams(t.simd,o),r.path=this.createUrlWithParams(r.path,o),{paths:t,model:r,assetGroup:i,revisionID:n}}static resolveOptions(e){return e.reportingPeriodMillis||(e.reportingPeriodMillis=1e3),e.filterCPUUtilization?(e.filterCPUUtilization<0||e.filterCPUUtilization>100)&&(e.logger.warn("filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of 30 percent"),e.filterCPUUtilization=30):e.filterCPUUtilization=30,e}static isSupported(e,t){const{logger:r}=t;return"undefined"==typeof globalThis?(r.info("Browser does not have globalThis."),Promise.resolve(!1)):(new a.default).supportsBackgroundFilter()?o.supportsWASM(globalThis,r)?this.supportsBackgroundFilter(globalThis,e,r):(r.info("Browser does not support WASM."),Promise.resolve(!1)):(r.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(e=globalThis,t,r){return i(this,void 0,void 0,(function*(){if(!o.supportsWorker(e,r))return r.info("Browser does not support web workers."),!1;const i=t.paths.worker;try{const e=yield n.loadWorker(i,"BackgroundFilterWorker",{},null);try{e.terminate()}catch(e){r.info(`Failed to terminate worker. ${e.message}`)}return!0}catch(e){return r.info(`Failed to fetch and instantiate test worker ${e.message}`),!1}}))}}},3417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}filterFrameDurationHigh(e){var t;for(const r of this.observers)null===(t=r.filterFrameDurationHigh)||void 0===t||t.call(r,e)}filterCPUUtilizationHigh(e){var t;for(const r of this.observers)null===(t=r.filterCPUUtilizationHigh)||void 0===t||t.call(r,e)}}},4412:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2556),o=r(7428);class s extends n.default{constructor(e,t){super("background replacement",e,t,new o.default),this.replacementBlob=t.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(t)}`)}setImageBlob(e){return i(this,void 0,void 0,(function*(){this.replacementBlob=e,this.replacementImage=yield s.loadImage(this.createReplacementObjectUrl())}))}initOnFirstExecution(){}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:r,targetCanvas:i}=this,{width:n,height:o}=i;r.save(),r.clearRect(0,0,n,o),r.drawImage(this.scaledCanvas,0,0,n,o),r.globalCompositeOperation="source-in",r.drawImage(e,0,0,n,o),r.globalCompositeOperation="destination-over",r.drawImage(this.replacementImage,0,0,i.width,i.height),r.restore()}static loadImageExecutor(e,t,r){const i=new Image;i.crossOrigin="Anonymous",i.addEventListener("load",(()=>{e(i)}),!1),i.addEventListener("error",(e=>{t(new Error(`Could not load replacement image ${i.src}: ${e.message}`))}),!1),i.src=r}static loadImage(e){return i(this,void 0,void 0,(function*(){return new Promise(((t,r)=>this.loadImageExecutor(t,r,e)))}))}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const e=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return i(this,void 0,void 0,(function*(){this.replacementImage=yield s.loadImage(this.createReplacementObjectUrl()),e.loadAssets.call(this)}))}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});return i(this,void 0,void 0,(function*(){e.destroy.call(this),this.revokeReplacementObjectUrl()}))}}t.default=s},6214:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7012),o=r(6108),s=r(7718),a=r(2850),c=r(4412);class l extends a.default{loadAssets(){return i(this,void 0,void 0,(function*(){}))}addObserver(){}removeObserver(){}setImageBlob(){return i(this,void 0,void 0,(function*(){}))}}class d extends n.default{static create(e,t){return i(this,void 0,void 0,(function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);const{logger:r}=t;if(!(yield d.isSupported(e,t)))return r.warn("Using no-op processor because background replacement is not supported"),new l;r.info("Using background replacement filter");const i=new c.default(e,t);return yield i.loadAssets(),i}))}static resolveOptions(e={}){const t=Object.assign({},e);return t.logger||(t.logger=new o.default("BackgroundReplacementProcessor",s.default.INFO)),super.resolveOptions(t)}static resolveOptionsAsync(e){return i(this,void 0,void 0,(function*(){if(!e.imageBlob){const t=document.createElement("canvas");t.width=100,t.height=100;const r=t.getContext("2d");r.fillStyle="blue",r.fillRect(0,0,100,100);const i=yield new Promise((e=>{t.toBlob(e)}));e.imageBlob=i}}))}static isSupported(e,t){const r=Object.create(null,{isSupported:{get:()=>super.isSupported}});return i(this,void 0,void 0,(function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);const i=t.imageBlob,n=URL.createObjectURL(i);try{yield c.default.loadImage(n)}catch(e){return t.logger.info(`Failed to fetch load replacement image ${e.message}`),!1}finally{URL.revokeObjectURL(n)}return r.isSupported.call(this,e,t)}))}}t.default=d},7428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3417);class n extends i.default{}t.default=n},6467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=r,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}reset(){this.currentRetry=0}nextBackoffAmountMs(){const e=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,e}}},4742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6467),n=r(9355);t.default=class{constructor(e,t,r){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=r}create(){return new i.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(e){return new n.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,e)}}},9355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6467);class n extends i.default{constructor(e,t,r,i){super(e,t,r),this.limit=i,this.attempts=0}nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}}t.default=n},9297:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4924),o=r(6353);class s{constructor(){this.browser=n.detect(),this.uaParserResult=navigator&&navigator.userAgent?new o.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview"]}version(){return this.browser.version}majorVersion(){return parseInt(this.version().split(".")[0])}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const e of this.chromeLike)if(e===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const e of this.webkitBrowsers)if(e===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return-1!==navigator.userAgent.indexOf("Windows")}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()||this.osMajorVersion()>=s.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return("safari"!==this.name()||15!==this.majorVersion())&&!!this.supportsCanvasCapturedStreamPlayback()}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(e,t){return this.isAndroid()&&this.isPixel3()?[64*Math.ceil(e/64),64*Math.ceil(t/64)]:[e,t]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return"chromium-webview"===this.browser.name}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||"firefox"===this.browser.name&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const e=[];for(const t in this.browserSupport)e.push(`${this.browserName[t]} ${this.browserSupport[t]}+`);return e.join(", ")}supportedVideoCodecs(){return i(this,void 0,void 0,(function*(){const e=new RTCPeerConnection;return e.addTransceiver("video",{direction:"inactive",streams:[]}),(yield e.createOffer({offerToReceiveVideo:!0})).sdp.split("\r\n").filter((e=>e.includes("a=rtpmap:"))).map((e=>e.replace(/.* /,"").replace(/\/.*/,""))).filter(((e,t,r)=>r.indexOf(e)===t)).filter((e=>"rtx"!==e&&"red"!==e&&"ulpfec"!==e))}))}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&("15.1.0"===this.version()||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isIOSSafari(){return"ios"===this.browser.name||"ios-webview"===this.browser.name||"safari"===this.browser.name&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return"safari"===this.browser.name||this.isIOSSafari()}isFirefox(){return"firefox"===this.browser.name}isIOSFirefox(){return"fxios"===this.browser.name}isIOSChrome(){return"crios"===this.browser.name}isChrome(){return"chrome"===this.browser.name}isEdge(){return"edge-chromium"===this.browser.name}isSamsungInternet(){return"samsung"===this.browser.name}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}}t.default=s,s.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16},7057:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330),n=r(171),o=r(7957),s=r(1615);class a{constructor(e,t,r){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=r,this.globalMetricReport=new s.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=(e,t)=>{const r=t?this.streamMetricReports[t]:this.globalMetricReport;return Number(r.currentMetrics[e])},this.decoderLossPercent=(e,t)=>{const r=this.streamMetricReports[t],i=r.currentMetrics.concealedSamples-(r.previousMetrics.concealedSamples||0),n=r.currentMetrics.totalSamplesReceived-(r.previousMetrics.totalSamplesReceived||0);return n<=0||n-i<=0?0:i/n*100},this.packetLossPercent=(e,t)=>{const r=this.streamMetricReports[t],i=r.currentMetrics[e]-(r.previousMetrics[e]||0),n=r.currentMetrics.packetsLost-(r.previousMetrics.packetsLost||0),o=i+n;return o<=0||n<=0?0:100*n/o},this.jitterBufferMs=(e,t)=>{const r=this.streamMetricReports[t],i=r.currentMetrics.jitterBufferDelay-(r.previousMetrics.jitterBufferDelay||0),n=r.currentMetrics.jitterBufferEmittedCount-(r.previousMetrics.jitterBufferEmittedCount||0);return i<=0||n<=0?0:i/n*1e3},this.countPerSecond=(e,t)=>{const r=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const n=r.currentMetrics[e]-(r.previousMetrics[e]||0);return n<=0?0:Math.trunc(n/i)},this.bitsPerSecond=(e,t)=>{const r=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const n=8*(r.currentMetrics[e]-(r.previousMetrics[e]||0));return n<=0?0:Math.trunc(n/i)},this.secondsToMilliseconds=(e,t)=>{const r=t?this.streamMetricReports[t]:this.globalMetricReport;return Number(1e3*r.currentMetrics[e])},this.averageTimeSpentPerSecondInMilliseconds=(e,t)=>{const r=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const n=r.currentMetrics[e]-(r.previousMetrics[e]||0);return n<=0?0:1e3*n/i},this.isHardwareImplementation=(e,t)=>{const r=this.streamMetricReports[t],i=String(r.currentStringMetrics[e]),n=i.includes("ExternalDecoder")||i.includes("ExternalEncoder")||i.includes("EncodeAccelerator")||i.includes("DecodeAccelerator"),o=i.includes("fallback from");return n&&!o?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:i.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:i.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:i.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:i.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:i.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.RTC_SPK_BITRATE}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:i.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:i.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:i.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:i.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:i.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE}},this.streamDimensionMap={encoderImplementation:i.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:i.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:o.default.VIDEO,dir:n.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:o.default.VIDEO,dir:n.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:o.default.AUDIO,dir:n.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:o.default.AUDIO,dir:n.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:o.default.AUDIO,dir:n.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:o.default.AUDIO,dir:n.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:o.default.AUDIO,dir:n.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:o.default.AUDIO,dir:n.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:o.default.VIDEO,dir:n.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:o.default.VIDEO,dir:n.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:o.default.AUDIO,dir:n.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:o.default.AUDIO,dir:n.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:o.default.AUDIO,dir:n.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:o.default.VIDEO,dir:n.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"}}}getMetricMap(e,t){switch(e){case o.default.AUDIO:switch(t){case n.default.UPSTREAM:return this.audioUpstreamMetricMap;case n.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case o.default.VIDEO:switch(t){case n.default.UPSTREAM:return this.videoUpstreamMetricMap;case n.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){const t=this.observableMetricSpec[e],r=this.getMetricMap(t.media,t.dir)[t.source],{transform:i,source:n}=r;if(!t.hasOwnProperty("media"))return i(n||t.source);for(const e in this.streamMetricReports){const r=this.streamMetricReports[e];if(r.direction===t.dir&&r.mediaType===t.media)return i(n||t.source,Number(e))}return 0}getObservableVideoMetricValue(e,t){const r=this.observableVideoMetricSpec[e],i=this.getMetricMap(r.media,r.dir)[r.source],{transform:n,source:o}=i;return n(o||r.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===o.default.VIDEO){const r={};for(const e in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[e].dir===this.streamMetricReports[t].direction){const i=this.getObservableVideoMetricValue(e,Number(t));isNaN(i)||(r[e]=i)}const i=this.streamMetricReports[t].streamId,n=i?this.videoStreamIndex.attendeeIdForStreamId(i):this.selfAttendeeId;e[n]=e[n]?e[n]:{},e[n][t]=r}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new a(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug((()=>`Client Metric Report: ${JSON.stringify(e)}`))}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}}t.default=a},171:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportDirection=void 0,function(e){e[e.UPSTREAM=0]="UPSTREAM",e[e.DOWNSTREAM=1]="DOWNSTREAM"}(r=t.ClientMetricReportDirection||(t.ClientMetricReportDirection={})),t.default=r},7957:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportMediaType=void 0,function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(r=t.ClientMetricReportMediaType||(t.ClientMetricReportMediaType={})),t.default=r},2840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}}},7562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}}},9591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.minHealth=e.minHealth,this.maxHealth=e.maxHealth,this.currentHealth=e.initialHealth,this.currentData=t.clone(),this.name=r}minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(e){this.currentData=e}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const e=this.health();return e!==this.currentHealth?(this.currentHealth=e,e):null}}},2217:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}static isTimestampRecent(e,t){return Date.now()<e+t}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(e){return r.isTimestampRecent(this.connectionStartTimestampMs,e)}isLastPacketLossRecent(e){return r.isTimestampRecent(this.lastPacketLossInboundTimestampMs,e)}isGoodSignalRecent(e){return r.isTimestampRecent(this.lastGoodSignalTimestampMs,e)}isWeakSignalRecent(e){return r.isTimestampRecent(this.lastWeakSignalTimestampMs,e)}isNoSignalRecent(e){return r.isTimestampRecent(this.lastNoSignalTimestampMs,e)}clone(){const e=new r;return e.connectionStartTimestampMs=this.connectionStartTimestampMs,e.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,e.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,e.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,e.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,e.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,e.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,e.consecutiveMissedPongs=this.consecutiveMissedPongs,e.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),e.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),e.audioSpeakerDelayMs=this.audioSpeakerDelayMs,e}setConsecutiveMissedPongs(e){this.consecutiveMissedPongs=e}setConsecutiveStatsWithNoPackets(e){this.consecutiveStatsWithNoPackets=e}setConsecutiveStatsWithNoAudioPacketsSent(e){this.consecutiveStatsWithNoAudioPacketsSent=e}setLastPacketLossInboundTimestampMs(e){this.lastPacketLossInboundTimestampMs=e}setLastNoSignalTimestampMs(e){this.lastNoSignalTimestampMs=e}setLastWeakSignalTimestampMs(e){this.lastWeakSignalTimestampMs=e}setLastGoodSignalTimestampMs(e){this.lastGoodSignalTimestampMs=e}setAudioSpeakerDelayMs(e){this.audioSpeakerDelayMs=e}}t.default=r},2552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}}},2478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9591);class n extends i.default{constructor(e,t,r){super(t,r,"Reconnection Health"),this.logger=e,this.audioDelayPointsOverMaximum=0,n.CONNECTION_UNHEALTHY_THRESHOLD=t.connectionUnhealthyThreshold,n.CONNECTION_WAIT_TIME_MS=t.connectionWaitTimeMs,n.MISSED_PONGS_THRESHOLD=t.missedPongsUpperThreshold,n.MAXIMUM_AUDIO_DELAY_MS=t.maximumAudioDelayMs,n.MAXIMUM_AUDIO_DELAY_DATA_POINTS=t.maximumAudioDelayDataPoints}health(){if(this.currentData.isConnectionStartRecent(n.CONNECTION_WAIT_TIME_MS))return 1;const e=this.currentData.consecutiveStatsWithNoPackets>=n.CONNECTION_UNHEALTHY_THRESHOLD,t=this.currentData.consecutiveMissedPongs>=n.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>n.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const r=this.audioDelayPointsOverMaximum>n.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return r&&(this.audioDelayPointsOverMaximum=0),e||t||r?(this.logger.warn(`reconnection recommended due to: no packets received: ${e}, missed pongs: ${t}, bad audio delay: ${r}`),0):1}}t.default=n},2559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9591);class n extends i.default{constructor(e,t,r){super(t,r,"Sending Audio Health"),this.logger=e,this.sendingAudioFailureSamplesToConsider=t.sendingAudioFailureSamplesToConsider>0?t.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=t.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=t.maximumTimesToWarn,this.coolDownTimeMs=t.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}isSendingAudioUnhealthy(){const e=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),t=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return e&&t}health(){if(this.isSendingAudioUnhealthy()){const e=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!e?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}}t.default=n},1448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9591);class n extends i.default{constructor(e,t){super(e,t,"Unusable Audio Warning"),this.coolDownTimeMs=e.cooldownTimeMs,this.pastSamplesToConsider=e.pastSamplesToConsider,this.fractionalLoss=e.fractionalLoss,this.packetsExpected=e.packetsExpected,this.maximumTimesToWarn=e.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const e=this.pastSamplesToConsider,t=e*this.packetsExpected;let r=0;for(let t=0;t<e;t++)r+=this.currentData.packetsReceivedInLastMinute[t];return Math.min(Math.max(1-r/t,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?0!==this.currentHealth&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}}t.default=n},1:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2019);t.default=class{constructor(e,t,r,i,n){this.audioVideoController=e,this.realtimeController=t,this.connectionHealthData=r,this.pingPong=i,this.statsCollector=n,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange((e=>{this.isActive&&this.receiveSignalStrengthChange(e)}))}start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(e){0===e?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):e<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(e,t,r){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",t),this.statsCollector.logLatency("ping_pong_clock_skew",r),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(e){let t=0,r=0;const i=e.getObservableMetrics(),n=i.audioPacketsReceived,o=i.audioPacketsReceivedFractionLoss,s=i.audioSpeakerDelayMs;"number"!=typeof s||isNaN(s)||this.connectionHealthData.setAudioSpeakerDelayMs(s),"number"==typeof n&&"number"==typeof o&&(t=n,r=o,t<0||r<0||(this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,t),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,r),t>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(0===t||r>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),"number"==typeof i.audioPacketsSent&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()))}updateAudioPacketsSentInConnectionHealth(e){e>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(e,t){e.unshift(t),e.length>60&&e.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver((e=>{i.Maybe.of(e.connectionHealthDidChange).map((t=>t.bind(e)(this.connectionHealthData.clone())))}))}}},9511:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Modality="#content"}(r||(r={})),t.default=r},3345:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297),o=r(9802);class s{constructor(e){this.logger=e}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e}acquireAudioInputStream(){return i(this,void 0,void 0,(function*(){return 0===this._mediaStream.getAudioTracks().length?(this.logger.info("No audio stream available. Synthesizing an audio stream."),o.default.synthesizeAudioDevice(0)):this._mediaStream}))}acquireVideoInputStream(){return i(this,void 0,void 0,(function*(){return this._mediaStream}))}acquireDisplayInputStream(e){return i(this,void 0,void 0,(function*(){return e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(e):navigator.mediaDevices.getDisplayMedia(e)}))}acquireScreenCaptureDisplayInputStream(e,t){return i(this,void 0,void 0,(function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(e,t))}))}screenCaptureDisplayMediaConstraints(e,t){return{audio:!(e||!(new n.default).getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!e&&{frameRate:{max:t||s.defaultFrameRate}}),e&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:t||s.defaultFrameRate}})}}toggleMediaStream(e){let t=!1;if(this.mediaStream)for(let r=0;r<this.mediaStream.getTracks().length;r++)this.mediaStream.getTracks()[r].enabled!==e&&(this.mediaStream.getTracks()[r].enabled=e,t=!0);return t}cleanup(){if(this.mediaStream)for(let e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}t.default=s,s.defaultFrameRate=15},3265:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(231),o=r(2721),s=r(6878),a=r(996),c=r(2019),l=r(6636),d=r(9511);t.default=class{constructor(e,t,r){this.mediaStreamBroker=e,this.contentAudioVideo=t,this.attendeeAudioVideo=r,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}static createContentShareMeetingSessionConfigure(e){const t=new n.default;return t.meetingId=e.meetingId,t.externalMeetingId=e.externalMeetingId,t.urls=e.urls,t.credentials=new o.default,t.credentials.attendeeId=e.credentials.attendeeId+d.default.Modality,t.credentials.externalUserId=e.credentials.externalUserId,t.credentials.joinToken=e.credentials.joinToken+d.default.Modality,t}setContentAudioProfile(e){this.contentAudioVideo.setAudioProfile(e)}enableSimulcastForContentShare(e,t){e?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new l.default(this.contentAudioVideo.logger,t)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(e){return i(this,void 0,void 0,(function*(){if(e){this.mediaStreamBroker.mediaStream=e;for(let e=0;e<this.mediaStreamBroker.mediaStream.getTracks().length;e++)this.mediaStreamBroker.mediaStream.getTracks()[e].addEventListener("ended",(()=>{this.stopContentShare()}));this.contentAudioVideo.start()}}))}startContentShareFromScreenCapture(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(e,t);return yield this.startContentShare(r),r}))}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidPause).map((t=>t.call(e)))}))}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidUnpause).map((t=>t.call(e)))}))}setContentShareVideoCodecPreferences(e){this.contentAudioVideo.setVideoCodecSendPreferences(e)}destroy(){return i(this,void 0,void 0,(function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)}))}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(e){this.observerQueue.add(e)}removeContentShareObserver(e){this.observerQueue.delete(e)}forEachContentShareObserver(e){for(const t of this.observerQueue)a.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}audioVideoDidStart(){this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(e){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidStop).map((t=>t.call(e)))}))}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence(((e,t,r,i)=>{const n=new s.default(e).hasModality(s.default.MODALITY_CONTENT),o=new s.default(e).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!n||!o||!t||this.contentShareTile)return;const a=this.mediaStreamBroker.mediaStream;if(null==a?void 0:a.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const e=a.getVideoTracks()[0];let t,r;if(e.getSettings){const i=e.getSettings();t=i.width,r=i.height}else{const i=e.getCapabilities();t=i.width,r=i.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,a,t,r,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidStart).map((t=>t.call(e)))}))}))}}},9020:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static register(){"document"in r.g&&document.addEventListener&&i.shouldRegisterCSPMonitor&&(i.added||(document.addEventListener("securitypolicyviolation",i.listener),i.added=!0))}static unregister(){"document"in r.g&&document.removeEventListener&&(document.removeEventListener("securitypolicyviolation",i.listener),i.loggers=new Set,i.added=!1)}static disable(){i.shouldRegisterCSPMonitor=!1,i.unregister()}static addLogger(e){e&&i.loggers.add(e)}static removeLogger(e){e&&i.loggers.delete(e)}}t.default=i,i.loggers=new Set,i.shouldRegisterCSPMonitor=!0,i.added=!1,i.listener=e=>{const t=`Security Policy Violation\nBlocked URI: ${e.blockedURI}\nViolated Directive: ${e.violatedDirective}\nOriginal Policy: ${e.originalPolicy}\nDocument URI: ${e.documentURI}\nSource File: ${e.sourceFile}\nLine No.: ${e.lineNumber}\n`;for(const e of i.loggers)e.error(t);0===i.loggers.size&&console.error(t)}},3727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i,n,o){this.timestampMs=e,this.topic=t,this.data=r,this.senderAttendeeId=i,this.senderExternalUserId=n,this.throttled=!!o}text(){return(new TextDecoder).decode(this.data)}json(){return JSON.parse((new TextDecoder).decode(this.data))}}},9457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestroyable=void 0,t.isDestroyable=function(e){return e&&"destroy"in e}},2619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAudioTransformDevice=void 0,t.isAudioTransformDevice=function(e){return!!e&&"object"==typeof e&&"mute"in e&&"stop"in e&&"intrinsicDevice"in e}},9802:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297),o=r(1835),s=r(996),a=r(5849),c=r(2019),l=r(9912),d=r(2619),u=r(4297),h=r(2503),p=r(4465),m=r(1344),f=r(5459),g=r(5536),b=r(9485),v=r(8033),y=r(4153);class w{constructor(e,t,r=new n.default,i){this.logger=e,this.browserBehavior=r,this.eventController=i,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new a.default,this.videoInputTaskQueue=new a.default,this.muted=!1,this.mediaStreamMuteObserver=(e,t)=>{for(const r of this.deviceChangeObservers)s.default.nextTick((()=>{this.deviceChangeObservers.has(r)&&r.audioInputMuteStateChanged&&r.audioInputMuteStateChanged(e,t)}))},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:c=!1,useMediaConstraintsFallback:l=!0}=t||{};this.useWebAudio=c,this.useMediaConstraintsFallback=l,this.videoInputQualitySettings=new v.default(w.defaultVideoWidth,w.defaultVideoHeight,w.defaultVideoFrameRate);const d=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=d[0],this.videoInputQualitySettings.videoHeight=d[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=(new o.default).create();const e=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(e)}`)}catch(t){e.error(t.message)}}isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},null===(e=this.mediaDeviceWrapper)||void 0===e||e.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),null===(e=this.mediaDeviceWrapper)||void 0===e||e.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return!!this.deviceChangeObservers.size||(this.activeDevices.audio&&null!==this.activeDevices.audio.constraints||this.activeDevices.video&&null!==this.activeDevices.video.constraints||!!this.audioOutputDeviceId)}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return i(this,void 0,void 0,(function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()}))}listAudioInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("audioinput",e);return this.trace("listAudioInputDevices",e,t),t}))}listVideoInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("videoinput",e);return this.trace("listVideoInputDevices",e,t),t}))}listAudioOutputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("audiooutput",e);return this.trace("listAudioOutputDevices",e,t),t}))}pushAudioMeetingStateForPermissions(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"videoInputUnselected":"videoInputSelected")}startAudioInput(e){return i(this,void 0,void 0,(function*(){return yield this.audioInputTaskQueue.add((()=>this.startAudioInputTask(e)))}))}startAudioInputTask(e){var t;return i(this,void 0,void 0,(function*(){if(void 0!==e)try{return d.isAudioTransformDevice(e)?(this.logger.info(`Choosing transform input device ${e}`),yield this.chooseAudioTransformInputDevice(e)):(this.logger.info(`Choosing intrinsic audio input device ${e}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",e)),this.trace("startAudioInputDevice",e,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield null===(t=this.transform)||void 0===t?void 0:t.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(e){throw e}else this.logger.error("Audio input device cannot be undefined")}))}stopAudioInput(){return i(this,void 0,void 0,(function*(){return this.audioInputTaskQueue.add((()=>this.stopAudioInputTask()))}))}stopAudioInputTask(){return i(this,void 0,void 0,(function*(){try{if(this.useWebAudio)return void this.releaseAudioTransformStream();this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}}))}chooseAudioTransformInputDevice(e){var t;return i(this,void 0,void 0,(function*(){if((null===(t=this.transform)||void 0===t?void 0:t.device)===e)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const r=w.getAudioContext();if(r instanceof OfflineAudioContext);else switch(r.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield r.resume()}let i;try{i=yield e.createAudioNode(r)}catch(e){throw this.logger.error(`Unable to create transform device node: ${e}.`),e}const n=yield e.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",n),this.logger.debug(`Got inner stream: ${n}.`),this.setTransform(e,i)}))}chooseVideoTransformInputDevice(e){var t;return i(this,void 0,void 0,(function*(){if(e===this.chosenVideoTransformDevice)return void this.logger.info("Reselecting same VideoTransformDevice");const r=this.chosenVideoTransformDevice;r&&this.logger.info("Switched from previous VideoTransformDevice");const i=!!r,n=yield e.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId(null===(t=this.activeDevices.video)||void 0===t?void 0:t.stream,n))return this.logger.info("video transform device needs new intrinsic device"),i&&r.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=e,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",n),this.logger.info("apply processors to transform"),void(yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream));this.chosenVideoTransformDevice=e,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield e.transformStream(this.activeDevices.video.stream)}))}startVideoInput(e){return i(this,void 0,void 0,(function*(){return yield this.videoInputTaskQueue.add((()=>this.startVideoInputTask(e)))}))}startVideoInputTask(e){return i(this,void 0,void 0,(function*(){if(e)try{return y.isVideoTransformDevice(e)?(this.logger.info(`Choosing video transform device ${e}`),yield this.chooseVideoTransformInputDevice(e),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",e),this.trace("startVideoInputDevice",e),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(e){throw e}else this.logger.error("Invalid video input device")}))}stopVideoInput(){return i(this,void 0,void 0,(function*(){return this.videoInputTaskQueue.add((()=>this.stopVideoInputTask()))}))}stopVideoInputTask(){return i(this,void 0,void 0,(function*(){try{if(this.chosenVideoInputIsTransformDevice())return void this.releaseVideoTransformStream();this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}}))}chooseAudioOutput(e){return i(this,void 0,void 0,(function*(){this.audioOutputDeviceId=e,this.watchForDeviceChangesIfNecessary();const t=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(t),this.trace("chooseAudioOutput",e,null)}))}addDeviceChangeObserver(e){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(e),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(e),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var e,t;if(!this.activeDevices.audio)return null;const r=null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.end;if(r){const e=r.context.createAnalyser();return e.removeOriginalInputs=()=>{try{r.disconnect(e)}catch(e){}},r.connect(e),e}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(e){const t=w.getAudioContext(),r=t.createAnalyser(),i=t.createMediaStreamSource(e);return i.connect(r),this.trace("createAnalyserNodeForAudioInput"),r.removeOriginalInputs=()=>{try{i.disconnect(r)}catch(e){}},r}startVideoPreviewForVideoInput(e){if(!this.activeDevices.video)return this.logger.warn("cannot bind video preview since video input device has not been chosen"),void this.trace("startVideoPreviewForVideoInput",e.id);l.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,e,!0),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){l.default.disconnectVideoStreamFromVideoElement(e,!1),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){if(this.deviceInfoCache)for(const e of this.deviceInfoCache)if(!e.label){this.deviceInfoCache=null;break}this.deviceLabelTrigger=e,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){let t=null;return this.useWebAudio?(t=w.getAudioContext().createMediaStreamSource(e),t.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,r){const i=this.browserBehavior.requiresResolutionAlignment(e,t);this.videoInputQualitySettings=new v.default(i[0],i[1],r)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return i(this,void 0,void 0,(function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream}))}acquireVideoInputStream(){return i(this,void 0,void 0,(function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream}))}acquireDisplayInputStream(e){return i(this,void 0,void 0,(function*(){throw new Error("unsupported")}))}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(e){const t=this.activeDevices[e];if(!t)return;const r=t.endedCallback,i=t.trackMuteCallback,n=t.trackUnmuteCallback;for(const o of t.stream.getTracks())o.stop(),r&&o.removeEventListener("ended",r),i&&o.removeEventListener("mute",i),n&&o.removeEventListener("unmute",n),delete t.endedCallback,delete t.trackMuteCallback,delete t.trackUnmuteCallback,delete this.activeDevices[e]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(e){var t;let r=this.activeDevices.audio;if(this.useWebAudio&&(r=this.getMediaStreamDestinationNode()),r){for(const t of r.stream.getTracks())t.enabled!==e&&(t.enabled=e);this.muted!==!e&&(this.muted=!e,null===(t=this.transform)||void 0===t||t.device.mute(this.muted))}}static getIntrinsicDeviceId(e){if(!e)return;if("string"==typeof e)return e;if(e.id)return e.id;const t=e.deviceId;if(!t)return;if("string"==typeof t||Array.isArray(t))return t;const r=t;return"string"==typeof r.exact||Array.isArray(r.exact)?r.exact:void 0}static createEmptyAudioDevice(){return w.synthesizeAudioDevice(0)}static synthesizeAudioDevice(e){const t=w.getAudioContext(),r=t.createMediaStreamDestination();if(e){const i=t.createGain();i.gain.value=.1,i.connect(r);const n=t.createOscillator();n.frequency.value=e,n.connect(i),n.start()}else{const e=t.createBufferSource();try{e.buffer=t.createBuffer(1,5*t.sampleRate,t.sampleRate)}catch(r){if(!r||"NotSupportedError"!==r.name)throw r;e.buffer=t.createBuffer(1,5*w.defaultSampleRate,w.defaultSampleRate)}e.buffer.getChannelData(0)[0]=3e-4,e.loop=!0,e.connect(r),e.start()}return r.stream}listDevicesOfKind(e,t){return i(this,void 0,void 0,(function*(){return!t&&null!==this.deviceInfoCache&&this.isWatchingForDeviceChanges()||(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(e)}))}updateDeviceInfoCacheFromBrowser(){var e,t;return i(this,void 0,void 0,(function*(){if("undefined"==typeof MediaDeviceInfo)return void(this.deviceInfoCache=[]);let r=yield navigator.mediaDevices.enumerateDevices(),i=!0;for(const e of r)if(!e.label){i=!1;break}if(!i)try{this.logger.info("attempting to trigger media device labels since they are hidden");const e=yield this.deviceLabelTrigger();r=yield navigator.mediaDevices.enumerateDevices();for(const t of e.getTracks())t.stop()}catch(r){this.logger.info("unable to get media device labels"),null===(e=this.eventController)||void 0===e||e.publishEvent("audioInputFailed",{audioInputErrorMessage:this.getErrorMessage(r)}),null===(t=this.eventController)||void 0===t||t.publishEvent("videoInputFailed",{videoInputErrorMessage:this.getErrorMessage(r)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(r)}`),this.deviceInfoCache=r}))}listCachedDevicesOfKind(e){const t=[];if(this.deviceInfoCache)for(const r of this.deviceInfoCache)r.kind===e&&t.push(r);return t}handleDeviceChange(){return i(this,void 0,void 0,(function*(){if(null===this.deviceInfoCache)return;if(this.alreadyHandlingDeviceChange)return void s.default.nextTick((()=>{this.handleDeviceChange()}));this.alreadyHandlingDeviceChange=!0;const e=this.listCachedDevicesOfKind("audioinput"),t=this.listCachedDevicesOfKind("videoinput"),r=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const i=this.listCachedDevicesOfKind("audioinput"),n=this.listCachedDevicesOfKind("videoinput"),o=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver((s=>{this.areDeviceListsEqual(e,i)||c.Maybe.of(s.audioInputsChanged).map((e=>e.bind(s)(i))),this.areDeviceListsEqual(t,n)||c.Maybe.of(s.videoInputsChanged).map((e=>e.bind(s)(n))),this.areDeviceListsEqual(r,o)||c.Maybe.of(s.audioOutputsChanged).map((e=>e.bind(s)(o)))})),this.alreadyHandlingDeviceChange=!1}))}handleDeviceStreamEnded(e,t){return i(this,void 0,void 0,(function*(){try{"audio"===e?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch(e){this.logger.error("Failed to choose null device after stream ended.")}"audio"===e?this.forEachObserver((e=>{c.Maybe.of(e.audioInputStreamEnded).map((r=>r.bind(e)(t)))})):this.forEachObserver((e=>{c.Maybe.of(e.videoInputStreamEnded).map((r=>r.bind(e)(t)))}))}))}forEachObserver(e){for(const t of this.deviceChangeObservers)s.default.nextTick((()=>{this.deviceChangeObservers.has(t)&&e(t)}))}forEachMediaStreamBrokerObserver(e){for(const t of this.mediaStreamBrokerObservers)e(t)}areDeviceListsEqual(e,t){return JSON.stringify(e.map((e=>JSON.stringify(e))).sort())===JSON.stringify(t.map((e=>JSON.stringify(e))).sort())}intrinsicDeviceAsMediaStream(e){return e&&e.id?e:null}hasSameMediaStreamId(e,t,r){var i,n,o,s;let a;return"audio"===e?(a=null==r?void 0:r.audio.streamId,!!a&&a===(null===(n=null===(i=t.constraints)||void 0===i?void 0:i.audio)||void 0===n?void 0:n.streamId)):(a=null==r?void 0:r.video.streamId,!!a&&a===(null===(s=null===(o=null==t?void 0:t.constraints)||void 0===o?void 0:o.video)||void 0===s?void 0:s.streamId))}hasSameGroupId(e,t,r){if(""===e)return!0;const i=w.getIntrinsicDeviceId(r);return this.logger.debug(`Checking deviceIds ${i} of type ${typeof i} with groupId ${e}`),"string"==typeof i&&e===this.getGroupIdFromDeviceId(t,i)}getGroupIdFromDeviceId(e,t){if(null!==this.deviceInfoCache){const r=this.listCachedDevicesOfKind(`${e}input`).find((e=>e.deviceId===t));if(r&&r.groupId)return this.logger.debug(`GroupId of deviceId ${t} found in cache is ${r.groupId}`),r.groupId}return this.logger.debug(`GroupId of deviceId ${t} found in cache is empty`),""}handleGetUserMediaError(e,t){if(!e)throw new h.default(e);switch(e.name){case"NotReadableError":case"TrackStartError":throw new m.default(e);case"NotFoundError":case"DevicesNotFoundError":throw new p.default(e);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw t&&t<w.permissionDeniedOriginDetectionThresholdMs?new g.default(e,"Permission denied by browser"):new g.default(e,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new f.default(e);case"TypeError":throw new b.default(e);default:throw new h.default(e)}}matchesDeviceSelection(e,t,r,i){return!!(r&&r.stream.active&&(this.hasSameMediaStreamId(e,r,i)||null!==r.groupId&&this.hasSameGroupId(r.groupId,e,t)))&&(this.logger.debug(`Compare current device constraint ${JSON.stringify(r.constraints)} to proposed constraints ${JSON.stringify(i)}`),r.matchesConstraints(i))}chooseInputIntrinsicDevice(e,t){var r,n;return i(this,void 0,void 0,(function*(){const i=this.getMediaStreamConstraints(e,t);if(this.matchesDeviceSelection(e,t,this.activeDevices[e],i))return void this.logger.info(`reusing existing ${e} input device`);this.activeDevices[e]&&this.activeDevices[e].stream&&this.stopTracksAndRemoveCallbacks(e);const o=Date.now(),s=new u.default;try{this.logger.info(`requesting new ${e} device with constraint ${JSON.stringify(i)}`);const r=this.intrinsicDeviceAsMediaStream(t);"audio"===e&&null===t?(s.stream=w.createEmptyAudioDevice(),s.constraints=null):r?(this.logger.info(`using media stream ${r.id} for ${e} device`),s.stream=r,s.constraints=i):(s.stream=yield navigator.mediaDevices.getUserMedia(i),s.constraints=i),yield this.handleNewInputDevice(e,s)}catch(a){const c=this.getErrorMessage(a);"audio"===e?null===(r=this.eventController)||void 0===r||r.publishEvent("audioInputFailed",{audioInputErrorMessage:c}):null===(n=this.eventController)||void 0===n||n.publishEvent("videoInputFailed",{videoInputErrorMessage:c}),this.logger.error(`failed to get ${e} device for constraints ${JSON.stringify(i)}: ${c}`);let l=!0;if(a&&"constraint"in a&&(this.logger.error(`Over-constrained by constraint: ${a.constraint}`),this.useMediaConstraintsFallback)){const r=this.getMediaStreamConstraints(e,t,!0),n=JSON.stringify(r);if(n!==JSON.stringify(i)){this.logger.info(`retry requesting new ${e} device with minimal constraint ${n}`);try{s.stream=yield navigator.mediaDevices.getUserMedia(r),s.constraints=r,yield this.handleNewInputDevice(e,s),l=!1}catch(t){this.logger.error(`failed to get ${e} device for constraints ${n}: ${this.getErrorMessage(t)}`)}}}if(l){if("audio"===e){this.logger.info(`choosing null ${e} device instead`);try{s.stream=w.createEmptyAudioDevice(),s.constraints=null,yield this.handleNewInputDevice(e,s)}catch(t){this.logger.error(`failed to choose null ${e} device. ${t.name}: ${t.message}`)}}this.handleGetUserMediaError(a,Date.now()-o)}}finally{this.watchForDeviceChangesIfNecessary()}}))}getErrorMessage(e){return e?e.name&&e.message?`${e.name}: ${e.message}`:e.name?e.name:e.message?e.message:"UnknownError":"UnknownError"}handleNewInputDevice(e,t){var r;return i(this,void 0,void 0,(function*(){this.logger.info(`got ${e} device for constraints ${JSON.stringify(t.constraints)}`);const i=null===(r=this.getMediaTrackSettings(t.stream))||void 0===r?void 0:r.deviceId;t.groupId=i?this.getGroupIdFromDeviceId(e,i):"",this.activeDevices[e]=t,this.logger.debug(`Set activeDevice to ${JSON.stringify(t)}`),this.watchForDeviceChangesIfNecessary();const n=t.stream.getTracks()[0];if(n&&(t.endedCallback=()=>{this.activeDevices[e]&&this.activeDevices[e].stream===t.stream&&(this.handleDeviceStreamEnded(e,i),delete t.endedCallback)},n.addEventListener("ended",t.endedCallback,{once:!0})),"audio"===e){const e=t.stream.getAudioTracks()[0];if(e){const r=e.getSettings().deviceId||t.stream;t.trackMuteCallback=()=>{this.mediaStreamMuteObserver(r,!0)},t.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(r,!1)},e.addEventListener("mute",t.trackMuteCallback,{once:!1}),e.addEventListener("unmute",t.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),e.muted?t.trackMuteCallback():t.trackUnmuteCallback()}}}))}calculateMediaStreamConstraints(e,t,r,i){if(i&&1===this.listCachedDevicesOfKind(`${e}input`).length)return!0;const n={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?n.deviceId=t:n.deviceId={exact:t},r&&(n.groupId=r),i?n:"video"===e?(n.width={ideal:this.videoInputQualitySettings.videoWidth},n.height={ideal:this.videoInputQualitySettings.videoHeight},n.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},n):(this.supportSampleRateConstraint()&&(n.sampleRate={ideal:w.defaultSampleRate}),this.supportSampleSizeConstraint()&&(n.sampleSize={ideal:w.defaultSampleSize}),this.supportChannelCountConstraint()&&(n.channelCount={ideal:w.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},n))}getMediaStreamConstraintsFromTrackConstraints(e,t){return"audio"===e?{audio:t}:{video:t}}getMediaStreamConstraints(e,t,r=!1){let i={};if(!t)return null;const n=this.intrinsicDeviceAsMediaStream(t);if(n)return i.streamId=n.id,this.getMediaStreamConstraintsFromTrackConstraints(e,i);if("string"==typeof t){let n="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(null!==this.deviceInfoCache?n=this.getGroupIdFromDeviceId(e,t):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),i=this.calculateMediaStreamConstraints(e,t,n,r),this.getMediaStreamConstraintsFromTrackConstraints(e,i)}return function(e){return"object"==typeof e&&"deviceId"in e&&"groupId"in e&&"kind"in e&&"label"in e}(t)?(i=this.calculateMediaStreamConstraints(e,t.deviceId,t.groupId,r),this.getMediaStreamConstraintsFromTrackConstraints(e,i)):(i=t,this.getMediaStreamConstraintsFromTrackConstraints(e,i))}deviceInfoFromDeviceId(e,t){if(null===this.deviceInfoCache)return null;for(const r of this.deviceInfoCache)if(r.kind===e&&r.deviceId===t)return r;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(e,t){if(!e||!e.active||!t)return!1;if(t.id)return e.id===t.id;const r=this.getMediaTrackSettings(e);if(!r.deviceId)return!1;const i=w.getIntrinsicDeviceId(t);return"string"==typeof i&&r.deviceId===i}getMediaTrackSettings(e){var t;return null===(t=e.getTracks()[0])||void 0===t?void 0:t.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const e=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(e)}setTransform(e,t){var r,i;null===(i=null===(r=this.transform)||void 0===r?void 0:r.nodes)||void 0===i||i.end.disconnect(),this.transform={nodes:t,device:e};const n=null==t?void 0:t.end,o=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${n} to destination ${o}.`),null==n||n.connect(o),this.reconnectAudioInputs()}removeTransform(){var e;const t=this.transform;if(t)return null===(e=this.transform.nodes)||void 0===e||e.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),t}attachAudioInputStreamToAudioContext(e){var t;null===(t=this.audioInputSourceNode)||void 0===t||t.disconnect(),this.audioInputSourceNode=w.getAudioContext().createMediaStreamSource(e);const r=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(r)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=w.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var e,t;return(null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(e){w.defaultLatencyHint=e}static getAudioContext(){if(!w.audioContext){const e={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(e.sampleRate=w.defaultSampleRate),(new n.default).requiresPlaybackLatencyHintForAudioContext()&&(e.latencyHint="playback"),w.defaultLatencyHint&&(e.latencyHint=w.defaultLatencyHint),w.audioContext=new(window.AudioContext||window.webkitAudioContext)(e)}return w.audioContext}static closeAudioContext(){if(w.audioContext)try{w.audioContext.close()}catch(e){}w.audioContext=null}addMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.add(e)}removeMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.delete(e)}publishVideoInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.videoInputDidChange&&t.videoInputDidChange(e)})),this.pushVideoMeetingStateForPermissions(e)}publishAudioInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.audioInputDidChange&&t.audioInputDidChange(e)})),this.pushAudioMeetingStateForPermissions(e)}publishAudioOutputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.audioOutputDidChange&&t.audioOutputDidChange(e)}))}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(e,t,r){let i=`API/DefaultDeviceController/${e}`;void 0!==t&&(i+=` ${JSON.stringify(t)}`),void 0!==r&&(i+=` -> ${JSON.stringify(r)}`),this.logger.info(i)}}t.default=w,w.permissionDeniedOriginDetectionThresholdMs=500,w.defaultVideoWidth=960,w.defaultVideoHeight=540,w.defaultVideoFrameRate=15,w.defaultSampleRate=48e3,w.defaultSampleSize=16,w.defaultChannelCount=1,w.audioContext=null},4297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.groupId=""}matchesConstraints(e){return JSON.stringify(this.constraints)===JSON.stringify(e)}}},2503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e,t){super(t||"Error fetching device."),this.cause=e,this.name="GetUserMediaError"}}t.default=r},1014:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpDeviceControllerWithEventController=void 0;const n=r(3120);class o extends n.default{constructor(e){super(),this.destroyed=!1}destroy(){return i(this,void 0,void 0,(function*(){this.destroyed=!0}))}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,r){}getVideoInputQualitySettings(){return null}}t.default=o,t.NoOpDeviceControllerWithEventController=class extends o{constructor(e){super(),this.eventController=e}}},4465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2503);class n extends i.default{constructor(e){super(e),this.name="NotFoundError"}}t.default=n},1344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2503);class n extends i.default{constructor(e){super(e),this.name="NotReadableError"}}t.default=n},5459:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2503);class n extends i.default{constructor(e,t){super(e),this.constraint=t,this.name="OverconstrainedError"}}t.default=n},5536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2503);class n extends i.default{constructor(e,t){super(e,t),this.name="PermissionDeniedError"}}t.default=n},3981:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.inner=e}mute(e){return r(this,void 0,void 0,(function*(){}))}stop(){var e;return r(this,void 0,void 0,(function*(){null===(e=this.node)||void 0===e||e.disconnect()}))}intrinsicDevice(){return r(this,void 0,void 0,(function*(){return this.inner}))}createAudioNode(e){var t;return r(this,void 0,void 0,(function*(){return null===(t=this.node)||void 0===t||t.disconnect(),this.node=yield this.createSingleAudioNode(e),{start:this.node,end:this.node}}))}}},9485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2503);class n extends i.default{constructor(e){super(e),this.name="TypeError"}}t.default=n},8033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.videoWidth=e,this.videoHeight=t,this.videoFrameRate=r}}},4153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoTransformDevice=void 0,t.isVideoTransformDevice=function(e){return!!e&&"object"==typeof e&&"transformStream"in e&&"stop"in e&&"intrinsicDevice"in e}},8357:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){if(this.devicePixelRatioSource=e,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach((e=>{e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}))},"undefined"==typeof window)return;const r=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);"function"==typeof r.addEventListener?(r.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=r):"function"==typeof r.addListener?(r.addListener(this.mediaQueryListener),this.mediaQueryList=r):t.warn("ignoring DefaultDevicePixelRatioMonitor")}destroy(){return r(this,void 0,void 0,(function*(){this.mediaQueryList&&("function"==typeof this.mediaQueryList.addEventListener?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()}))}registerObserver(e){this.observerQueue.add(e),e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(e){this.observerQueue.delete(e)}}},5174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{devicePixelRatio(){return"undefined"!=typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio:1}}},6388:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const o=r(6467),s=r(2378),a=r(1971),c=r(7442);class l{constructor(e,t,r,o,s){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=e=>({type:e.type,v:e.v,payloads:[...e.payloads]}),this.sendEvents=()=>i(this,void 0,void 0,(function*(){if(this.lock)return;const e=this.getItems(this.flushSize);if(0===e.length)return;this.lock=!0;const t=this.makeRequestBody(e);let r=!1;const i=Date.now();"firefox"===this.metadata.browserName.toLowerCase()&&this.cancellableEvents.set(i,e);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${t}`);const e=yield this.send(t);if(this.cancellableEvents.delete(i),e.ok)try{const r=yield e.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${t} message: ${JSON.stringify(r)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${e} for events ${t}`)}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${t} with response status ${e.status}`),r=!0}catch(e){r=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${t} to the ingestion endpoint ${e}`)}finally{this.lock=!1}r&&(this.cancellableEvents.delete(i),this.failedIngestionEvents.push(...e))}));const c=new a.default(s).getParserResult(),{browserMajorVersion:l}=c,d=n(c,["browserMajorVersion"]),u=t.toJSON(),{type:h,v:p}=u,m=n(u,["type","v"]);this.authenticationToken=t.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},d),m),Object.keys(this.metadata).forEach((e=>this.attributesToFilter.push(e))),this.type=h,this.v=p,this.ingestionURL=r,this.logger=s,this.importantEvents=new Set(o);const{maxBufferCapacityKb:f,totalBufferItems:g,flushSize:b,flushIntervalMs:v,retryCountLimit:y}=e;this.maxBufferCapacityBytes=1024*f,this.totalBufferItems=g,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/g),this.flushIntervalMs=v,this.flushSize=b,this.retryCountLimit=y,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=e=>this.beaconEventHandler(e),this.addEventListeners()}addEventListeners(){this.beaconEventListener&&"window"in r.g&&window.addEventListener&&"document"in r.g&&document.addEventListener&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(e){("visibilitychange"===e.type&&"hidden"===document.visibilityState||"pagehide"===e.type)&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){this.beaconEventListener&&"window"in r.g&&window.removeEventListener&&"document"in r.g&&document.removeEventListener&&(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var e;this.removeEventListeners(),this.addEventListeners(),null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=new s.default(this.flushIntervalMs),this.intervalScheduler.start((()=>this.sendEvents()))}stop(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(e){return i(this,void 0,void 0,(function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(e)}`);const{name:t,ts:r,attributes:i}=e,n=i&&this.filterAttributes(i,this.attributesToFilter),o=Object.assign({name:t,ts:r},n);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(o)}`);const s=this.getSize(o);if(s>l.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${s} bytes. Item cannot exceed max item size allowed of ${l.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(t))return this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(o)}`),void this.sendEventImmediately({name:t,ts:r,attributes:n});if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(o),this.ingestionEventSize+=s,this.bufferItemThresholdReached(s)){const e=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(e),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}}))}filterAttributes(e,t){const r=new Set(t);return Object.keys(e).filter((e=>r.has(e))).forEach((t=>delete e[t])),e}initializeAndGetCurrentIngestionEvent(){const e={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(e),e}bufferItemThresholdReached(e){return e+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===l.MAX_PAYLOAD_ITEMS}getSize(e){let t=0;if("object"==typeof e)for(const[r,i]of Object.entries(e))t+=this.getPrimitiveSize(r),t+=this.getSize(i);else t+=this.getPrimitiveSize(e);return t}getPrimitiveSize(e){let t=0;return"string"==typeof e?t+=2*e.length:"number"==typeof e&&(t+=8),t}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return 0===this.buffer.length||0===this.bufferSize}getItems(e,t=0){return this.isEmpty()?[]:(e=Math.min(this.buffer.length,e+1),this.buffer.splice(t,e))}makeBeaconRequestBody(e){const t={metadata:this.metadata,events:e,authorization:this.authenticationToken};return JSON.stringify(t)}makeRequestBody(e){const t={metadata:this.metadata,events:e};return JSON.stringify(t)}sendEventImmediately(e){return i(this,void 0,void 0,(function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(e)}`);const{name:t,ts:r,attributes:i}=e,n={type:this.type,v:this.v,payloads:[Object.assign({name:t,ts:r},i)]};let o=!1,s=null;const a=this.makeRequestBody([n]);try{if(s=yield this.send(a),s.ok){try{const e=yield s.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${a}, message: ${JSON.stringify(e)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${e} for event ${a}`)}return}this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${a} with response status ${s.status}`),o=!0}catch(e){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${a} to the ingestion endpoint ${e}.`),o=!0;try{if("firefox"===this.metadata.browserName.toLowerCase()){const e=this.makeBeaconRequestBody([n]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${e}`),o=!navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,e)}}catch(e){this.logger.warn(`Event Reporting - Error sending beacon for an important event ${a}`),o=!0}}o&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${a}`),this.failedIngestionEvents.push(n))}))}send(e){return i(this,void 0,void 0,(function*(){const t=new o.default(l.RETRY_FIXED_BACKOFF_WAIT_MS,l.RETRY_SHORT_BACKOFF_MS,l.RETRY_LONG_BACKOFF_MS);try{let r=0;for(;r<this.retryCountLimit;){const i=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:e});if(i.ok||!l.SENDING_FAILURE_CODES.has(i.status))return i;if(this.logger.warn(`Will retry sending failure for ${e} due to status code ${i.status}.`),r++,r<this.retryCountLimit){const e=t.nextBackoffAmountMs();yield c.wait(e)}}if(r===this.retryCountLimit)throw new Error(`Retry count limit reached for ${e}`)}catch(e){throw e}}))}sendBeacon(){return i(this,void 0,void 0,(function*(){const e=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(e)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const t=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);e.push(t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(t)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const t=this.failedIngestionEvents.map((e=>this.deepCopyCurrentIngestionEvent(e)));e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(t)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach((t=>{e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(t)}`)})),this.cancellableEvents.clear()),0===e.length)return;const t=this.makeBeaconRequestBody(e);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${t}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,t)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${t}`)}catch(e){this.logger.warn(`Event Reporting - Sending beacon data ${t} failed with error ${e}`)}}))}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return i(this,void 0,void 0,(function*(){this.stop(),this.reset()}))}}t.default=l,l.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),l.RETRY_FIXED_BACKOFF_WAIT_MS=0,l.RETRY_SHORT_BACKOFF_MS=1e3,l.RETRY_LONG_BACKOFF_MS=15e3,l.MAX_PAYLOAD_ITEMS=2,l.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3},7004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e=5e3,t=2,r=64,i=100,n=15){this.flushIntervalMs=e,this.flushSize=t,this.maxBufferCapacityKb=r,this.totalBufferItems=i,this.retryCountLimit=n}}},8672:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(6353),o=r(9457),s=r(299),a=r(9598),c=r(2267),l=r(996),d=r(8495),u=r(1231);class h{constructor(e,t,r){var i,o,s,a,c,l,d;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=t,this.configuration=e,this.setupEventReporter(e,t,r);try{this.parserResult=navigator&&navigator.userAgent?new n.UAParser(navigator.userAgent).getResult():null}catch(e){this.logger.error(e.message)}this.browserMajorVersion=(null===(s=null===(o=null===(i=this.parserResult)||void 0===i?void 0:i.browser)||void 0===o?void 0:o.version)||void 0===s?void 0:s.split(".")[0])||h.UNAVAILABLE,this.browserName=(null===(a=this.parserResult)||void 0===a?void 0:a.browser.name)||h.UNAVAILABLE,this.browserVersion=(null===(c=this.parserResult)||void 0===c?void 0:c.browser.version)||h.UNAVAILABLE,this.deviceName=[(null===(l=this.parserResult)||void 0===l?void 0:l.device.vendor)||"",(null===(d=this.parserResult)||void 0===d?void 0:d.device.model)||""].join(" ").trim()||h.UNAVAILABLE}addObserver(e){this.observerSet.add(e)}removeObserver(e){this.observerSet.delete(e)}forEachObserver(e){for(const t of this.observerSet)l.default.nextTick((()=>{this.observerSet.has(t)&&e(t)}))}publishEvent(e,t){return i(this,void 0,void 0,(function*(){const r=Date.now();this.meetingHistoryStates.push({name:e,timestampMs:r});const i=Object.freeze(Object.assign(this.getAttributes(r),t));this.forEachObserver((t=>{t.eventDidReceive(e,i)})),this.reportEvent(e,r,t)}))}reportEvent(e,t,r){var n;return i(this,void 0,void 0,(function*(){let i;try{r&&(i=u.default(r)),yield null===(n=this.eventReporter)||void 0===n?void 0:n.reportEvent(t,e,i)}catch(e){this.logger.error(`Error reporting event ${e}`)}}))}setupEventReporter(e,t,r){if(r)this._eventReporter=r;else if(e.urls){const r=e.urls.eventIngestionURL;if(r){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:i,credentials:{attendeeId:n,joinToken:o}}=e,l=new c.default(i,n,o),d=new s.default(l,r);this._eventReporter=new a.default(d,t)}}}getAttributes(e){var t,r;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:"string"==typeof this.configuration.externalMeetingId?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:(null===(t=this.parserResult)||void 0===t?void 0:t.os.name)||h.UNAVAILABLE,osVersion:(null===(r=this.parserResult)||void 0===r?void 0:r.os.version)||h.UNAVAILABLE,sdkVersion:d.default.sdkVersion,sdkName:d.default.sdkName,timestampMs:e}}get eventReporter(){return this._eventReporter}destroy(){return i(this,void 0,void 0,(function*(){o.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0}))}}t.default=h,h.UNAVAILABLE="Unavailable"},1231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t={};for(const[r,i]of Object.entries(e))if(null!=i&&""!==i){if("number"!=typeof i&&"string"!=typeof i)throw new TypeError("Unhandled type received while flattening attributes.");t[r]=i}return t}},299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7004);t.default=class{constructor(e,t,r=new i.default){this.eventsClientConfiguration=e,this.ingestionURL=t,this.eventBufferConfiguration=r}}},9598:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9457),o=r(6388);t.default=class{constructor(e,t){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;const{eventsClientConfiguration:r,ingestionURL:i,eventBufferConfiguration:n}=e,{eventsToIgnore:s}=r;this.eventBuffer=new o.default(n,r,i,this.importantEvents,t),this.logger=t,this.eventsToIgnore=s,this.start()}start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(e){this.logger.error(`Event Reporting - Error starting the event buffer ${e}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(e){this.logger.error(`Event Reporting - Error stopping the event buffer ${e}`)}}reportEvent(e,t,r){return i(this,void 0,void 0,(function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${e}, ${t}, ${JSON.stringify(r)}`),this.eventsToIgnore.includes(t))this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${t} event will be ignored as it is in events to ignore`);else try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:e,name:t,attributes:r})}catch(e){this.logger.error(`Event Reporting - Error adding event to buffer ${e}`)}}))}destroy(){return i(this,void 0,void 0,(function*(){this.destroyed=!0,this.stop(),n.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0}))}}},8567:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){}reportEvent(e,t,r){}start(){}stop(){}}},2267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i=[]){this.type="Meet",this.v=1,this.meetingId=e,this.attendeeId=t,this.eventsToIgnore=i,this.authenticationToken=r}getAuthenticationToken(){return this.authenticationToken}toJSON(){const e={};return e.type=this.type,e.v=this.v,e.meetingId=this.meetingId,e.attendeeId=this.attendeeId,e}}},2388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventController=t.DefaultDevicePixelRatioMonitor=t.DefaultDeviceController=t.DefaultContentShareController=t.DefaultBrowserBehavior=t.DefaultAudioVideoFacade=t.DefaultAudioVideoController=t.DefaultAudioMixController=t.DefaultActiveSpeakerPolicy=t.DefaultActiveSpeakerDetector=t.DataMessage=t.CreateSDPTask=t.CreatePeerConnectionTask=t.ContentShareMediaStreamBroker=t.ContentShareConstants=t.ConsoleLogger=t.ConnectionHealthPolicyConfiguration=t.ConnectionHealthData=t.ClientVideoStreamReceivingReport=t.ClientMetricReportMediaType=t.ClientMetricReportDirection=t.ClientMetricReport=t.CleanStoppedSessionTask=t.CleanRestartedSessionTask=t.CheckVideoInputFeedback=t.CheckVideoConnectivityFeedback=t.CheckNetworkUDPConnectivityFeedback=t.CheckNetworkTCPConnectivityFeedback=t.CheckContentShareConnectivityFeedback=t.CheckCameraResolutionFeedback=t.CheckAudioOutputFeedback=t.CheckAudioInputFeedback=t.CheckAudioConnectivityFeedback=t.CanvasVideoFrameBuffer=t.CSPMonitor=t.BitrateParameters=t.BaseTask=t.BaseConnectionHealthPolicy=t.BackgroundReplacementVideoFrameProcessor=t.BackgroundFilterVideoFrameProcessor=t.BackgroundBlurVideoFrameProcessor=t.BackgroundBlurStrength=t.AudioVideoControllerState=t.AudioProfile=t.AudioLogEvent=t.Attendee=t.AttachMediaInputTask=t.AsyncScheduler=t.ApplicationMetadata=t.AllHighestVideoBandwidthPolicy=void 0,t.MeetingSessionCredentials=t.MeetingSessionConfiguration=t.MeetingReadinessCheckerConfiguration=t.MeetingEventsClientConfiguration=t.MediaDeviceProxyHandler=t.Maybe=t.LogLevel=t.Log=t.ListenForVolumeIndicatorsTask=t.LeaveAndReceiveLeaveAckTask=t.JoinAndReceiveIndexTask=t.IntervalScheduler=t.InMemoryJSONEventBuffer=t.GlobalMetricReport=t.GetUserMediaError=t.FullJitterLimitedBackoff=t.FullJitterBackoffFactory=t.FullJitterBackoff=t.FinishGatheringICECandidatesTask=t.EventIngestionConfiguration=t.EventBufferConfiguration=t.DeviceSelection=t.DevicePixelRatioWindowSource=t.DefaultWebSocketAdapter=t.DefaultVolumeIndicatorAdapter=t.DefaultVideoTransformDevice=t.DefaultVideoTileFactory=t.DefaultVideoTileController=t.DefaultVideoTile=t.DefaultVideoStreamIndex=t.DefaultVideoStreamIdSet=t.DefaultVideoFrameProcessorPipeline=t.DefaultVideoCaptureAndEncodeParameter=t.DefaultUserAgentParser=t.DefaultTranscriptionController=t.DefaultTransceiverController=t.DefaultSimulcastUplinkPolicyForContentShare=t.DefaultSimulcastUplinkPolicy=t.DefaultSignalingClient=t.DefaultSigV4=t.DefaultSessionStateController=t.DefaultReconnectController=t.DefaultRealtimeController=t.DefaultPingPong=t.DefaultModality=t.DefaultMessagingSession=t.DefaultMeetingSession=t.DefaultMeetingReadinessChecker=t.DefaultMeetingEventReporter=t.DefaultMediaDeviceFactory=void 0,t.SDPMediaSection=t.SDPCandidateType=t.SDP=t.RunnableTask=t.ReconnectionHealthPolicy=t.ReceiveVideoStreamIndexTask=t.ReceiveVideoInputTask=t.ReceiveTURNCredentialsTask=t.ReceiveAudioInputTask=t.RealtimeVolumeIndicator=t.RealtimeState=t.RealtimeAttendeePositionInFrame=t.PromoteToPrimaryMeetingTask=t.PromiseQueue=t.PrefetchSortBy=t.PrefetchOn=t.PermissionDeniedError=t.ParallelGroupTask=t.POSTLogger=t.OverconstrainedError=t.OpenSignalingConnectionTask=t.OnceTask=t.NotReadableError=t.NotFoundError=t.None=t.NoVideoUplinkBandwidthPolicy=t.NoVideoDownlinkBandwidthPolicy=t.NoOpVideoFrameProcessor=t.NoOpVideoElementFactory=t.NoOpTask=t.NoOpMediaStreamBroker=t.NoOpLogger=t.NoOpEventReporter=t.NoOpDeviceController=t.NoOpDebugLogger=t.NoOpAudioVideoController=t.NScaleVideoUplinkBandwidthPolicy=t.MutableVideoPreferences=t.MultiLogger=t.MonitorTask=t.ModelSpecBuilder=t.MessagingSessionConfiguration=t.Message=t.MeetingSessionVideoAvailability=t.MeetingSessionURLs=t.MeetingSessionTURNCredentials=t.MeetingSessionStatusCode=t.MeetingSessionStatus=t.MeetingSessionLifecycleEventCondition=t.MeetingSessionLifecycleEvent=void 0,t.VideoQualitySettings=t.VideoPriorityBasedPolicyConfig=t.VideoPriorityBasedPolicy=t.VideoPreferences=t.VideoPreference=t.VideoOnlyTransceiverController=t.VideoLogEvent=t.VideoCodecCapability=t.VideoAdaptiveProbePolicy=t.Versioning=t.UnusableAudioWarningConnectionHealthPolicy=t.TypeError=t.TranscriptionStatusType=t.TranscriptionStatus=t.TranscriptResult=t.TranscriptLanguageWithScore=t.TranscriptItemType=t.TranscriptItem=t.TranscriptEntity=t.TranscriptAlternative=t.Transcript=t.TimeoutTask=t.TimeoutScheduler=t.TaskStatus=t.TargetDisplaySize=t.SubscribeAndReceiveSubscribeAckTask=t.StreamMetricReport=t.Some=t.SingleNodeAudioTransformDevice=t.SimulcastVideoStreamIndex=t.SimulcastTransceiverController=t.SimulcastLayers=t.SimulcastContentShareTransceiverController=t.SignalingClientVideoSubscriptionConfiguration=t.SignalingClientSubscribe=t.SignalingClientJoin=t.SignalingClientEventType=t.SignalingClientEvent=t.SignalingClientConnectionRequest=t.SignalingAndMetricsConnectionMonitor=t.SetRemoteDescriptionTask=t.SetLocalDescriptionTask=t.SessionStateControllerTransitionResult=t.SessionStateControllerState=t.SessionStateControllerDeferPriority=t.SessionStateControllerAction=t.ServerSideNetworkAdaption=t.SerialGroupTask=t.SendingAudioFailureConnectionHealthPolicy=t.SendAndReceiveDataMessagesTask=void 0,t.isVideoTransformDevice=t.isDestroyable=t.isAudioTransformDevice=t.ZLIBTextCompressor=t.WebSocketReadyState=t.WaitForAttendeePresenceTask=t.VoiceFocusTransformDevice=t.VoiceFocusDeviceTransformer=t.VideoTileState=t.VideoStreamDescription=t.VideoSource=void 0;const i=r(2816);t.AllHighestVideoBandwidthPolicy=i.default;const n=r(8906);t.ApplicationMetadata=n.default;const o=r(996);t.AsyncScheduler=o.default;const s=r(1722);t.AttachMediaInputTask=s.default;const a=r(6943);t.Attendee=a.default;const c=r(7595);t.AudioLogEvent=c.default;const l=r(1545);t.AudioProfile=l.default;const d=r(2757);t.AudioVideoControllerState=d.default;const u=r(795);t.BackgroundBlurStrength=u.default;const h=r(4776);t.BackgroundBlurVideoFrameProcessor=h.default;const p=r(7012);t.BackgroundFilterVideoFrameProcessor=p.default;const m=r(6214);t.BackgroundReplacementVideoFrameProcessor=m.default;const f=r(9591);t.BaseConnectionHealthPolicy=f.default;const g=r(1072);t.BaseTask=g.default;const b=r(1934);t.BitrateParameters=b.default;const v=r(9020);t.CSPMonitor=v.default;const y=r(9874);t.CanvasVideoFrameBuffer=y.default;const w=r(7421);t.CheckAudioConnectivityFeedback=w.default;const S=r(2984);t.CheckAudioInputFeedback=S.default;const x=r(292);t.CheckAudioOutputFeedback=x.default;const k=r(5653);t.CheckCameraResolutionFeedback=k.default;const C=r(4049);t.CheckContentShareConnectivityFeedback=C.default;const E=r(7735);t.CheckNetworkTCPConnectivityFeedback=E.default;const _=r(8350);t.CheckNetworkUDPConnectivityFeedback=_.default;const T=r(35);t.CheckVideoConnectivityFeedback=T.default;const I=r(1772);t.CheckVideoInputFeedback=I.default;const M=r(6310);t.CleanRestartedSessionTask=M.default;const A=r(8861);t.CleanStoppedSessionTask=A.default;const O=r(7057);t.ClientMetricReport=O.default;const P=r(171);t.ClientMetricReportDirection=P.default;const D=r(7957);t.ClientMetricReportMediaType=D.default;const R=r(2840);t.ClientVideoStreamReceivingReport=R.default;const L=r(2217);t.ConnectionHealthData=L.default;const F=r(2552);t.ConnectionHealthPolicyConfiguration=F.default;const B=r(6108);t.ConsoleLogger=B.default;const N=r(9511);t.ContentShareConstants=N.default;const V=r(3345);t.ContentShareMediaStreamBroker=V.default;const j=r(805);t.CreatePeerConnectionTask=j.default;const U=r(9098);t.CreateSDPTask=U.default;const z=r(3727);t.DataMessage=z.default;const $=r(601);t.DefaultActiveSpeakerDetector=$.default;const q=r(3360);t.DefaultActiveSpeakerPolicy=q.default;const H=r(443);t.DefaultAudioMixController=H.default;const W=r(483);t.DefaultAudioVideoController=W.default;const K=r(8104);t.DefaultAudioVideoFacade=K.default;const G=r(9297);t.DefaultBrowserBehavior=G.default;const J=r(3265);t.DefaultContentShareController=J.default;const Z=r(9802);t.DefaultDeviceController=Z.default;const Q=r(8357);t.DefaultDevicePixelRatioMonitor=Q.default;const X=r(8672);t.DefaultEventController=X.default;const Y=r(1835);t.DefaultMediaDeviceFactory=Y.default;const ee=r(9598);t.DefaultMeetingEventReporter=ee.default;const te=r(608);t.DefaultMeetingReadinessChecker=te.default;const re=r(4555);t.DefaultMeetingSession=re.default;const ie=r(156);t.DefaultMessagingSession=ie.default;const ne=r(6878);t.DefaultModality=ne.default;const oe=r(744);t.DefaultPingPong=oe.default;const se=r(7461);t.DefaultRealtimeController=se.default;const ae=r(1316);t.DefaultReconnectController=ae.default;const ce=r(4549);t.DefaultSessionStateController=ce.default;const le=r(3429);t.DefaultSigV4=le.default;const de=r(3837);t.DefaultSignalingClient=de.default;const ue=r(6932);t.DefaultSimulcastUplinkPolicy=ue.default;const he=r(6636);t.DefaultSimulcastUplinkPolicyForContentShare=he.default;const pe=r(1580);t.DefaultTransceiverController=pe.default;const me=r(797);t.DefaultTranscriptionController=me.default;const fe=r(1971);t.DefaultUserAgentParser=fe.default;const ge=r(6085);t.DefaultVideoCaptureAndEncodeParameter=ge.default;const be=r(1513);t.DefaultVideoFrameProcessorPipeline=be.default;const ve=r(4688);t.DefaultVideoStreamIdSet=ve.default;const ye=r(1688);t.DefaultVideoStreamIndex=ye.default;const we=r(9912);t.DefaultVideoTile=we.default;const Se=r(5695);t.DefaultVideoTileController=Se.default;const xe=r(4505);t.DefaultVideoTileFactory=xe.default;const ke=r(4317);t.DefaultVideoTransformDevice=ke.default;const Ce=r(2187);t.DefaultVolumeIndicatorAdapter=Ce.default;const Ee=r(5786);t.DefaultWebSocketAdapter=Ee.default;const _e=r(5174);t.DevicePixelRatioWindowSource=_e.default;const Te=r(4297);t.DeviceSelection=Te.default;const Ie=r(7004);t.EventBufferConfiguration=Ie.default;const Me=r(299);t.EventIngestionConfiguration=Me.default;const Ae=r(7998);t.FinishGatheringICECandidatesTask=Ae.default;const Oe=r(6467);t.FullJitterBackoff=Oe.default;const Pe=r(4742);t.FullJitterBackoffFactory=Pe.default;const De=r(9355);t.FullJitterLimitedBackoff=De.default;const Re=r(2503);t.GetUserMediaError=Re.default;const Le=r(1615);t.GlobalMetricReport=Le.default;const Fe=r(6388);t.InMemoryJSONEventBuffer=Fe.default;const Be=r(2378);t.IntervalScheduler=Be.default;const Ne=r(3333);t.JoinAndReceiveIndexTask=Ne.default;const Ve=r(3717);t.LeaveAndReceiveLeaveAckTask=Ve.default;const je=r(2325);t.ListenForVolumeIndicatorsTask=je.default;const Ue=r(7802);t.Log=Ue.default;const ze=r(7718);t.LogLevel=ze.default;const $e=r(766);t.MediaDeviceProxyHandler=$e.default;const qe=r(2267);t.MeetingEventsClientConfiguration=qe.default;const He=r(3022);t.MeetingReadinessCheckerConfiguration=He.default;const We=r(231);t.MeetingSessionConfiguration=We.default;const Ke=r(2721);t.MeetingSessionCredentials=Ke.default;const Ge=r(6454);t.MeetingSessionLifecycleEvent=Ge.default;const Je=r(5702);t.MeetingSessionLifecycleEventCondition=Je.default;const Ze=r(5956);t.MeetingSessionStatus=Ze.default;const Qe=r(1736);t.MeetingSessionStatusCode=Qe.default;const Xe=r(6744);t.MeetingSessionTURNCredentials=Xe.default;const Ye=r(9384);t.MeetingSessionURLs=Ye.default;const et=r(7840);t.MeetingSessionVideoAvailability=et.default;const tt=r(6664);t.Message=tt.default;const rt=r(4665);t.MessagingSessionConfiguration=rt.default;const it=r(1831);t.ModelSpecBuilder=it.default;const nt=r(6537);t.MonitorTask=nt.default;const ot=r(6023);t.MultiLogger=ot.default;const st=r(6640);t.NScaleVideoUplinkBandwidthPolicy=st.default;const at=r(3739);t.NoOpAudioVideoController=at.default;const ct=r(7677);t.NoOpDebugLogger=ct.default;const lt=r(1014);t.NoOpDeviceController=lt.default;const dt=r(8567);t.NoOpEventReporter=dt.default;const ut=r(3086);t.NoOpLogger=ut.default;const ht=r(3120);t.NoOpMediaStreamBroker=ht.default;const pt=r(1483);t.NoOpTask=pt.default;const mt=r(741);t.NoOpVideoElementFactory=mt.default;const ft=r(2850);t.NoOpVideoFrameProcessor=ft.default;const gt=r(8828);t.NoVideoDownlinkBandwidthPolicy=gt.default;const bt=r(1571);t.NoVideoUplinkBandwidthPolicy=bt.default;const vt=r(4465);t.NotFoundError=vt.default;const yt=r(1344);t.NotReadableError=yt.default;const wt=r(6036);t.OnceTask=wt.default;const St=r(406);t.OpenSignalingConnectionTask=St.default;const xt=r(5459);t.OverconstrainedError=xt.default;const kt=r(2210);t.POSTLogger=kt.default;const Ct=r(9154);t.ParallelGroupTask=Ct.default;const Et=r(5536);t.PermissionDeniedError=Et.default;const _t=r(9017);t.PrefetchOn=_t.default;const Tt=r(3053);t.PrefetchSortBy=Tt.default;const It=r(5849);t.PromiseQueue=It.default;const Mt=r(8717);t.PromoteToPrimaryMeetingTask=Mt.default;const At=r(6009);t.RealtimeAttendeePositionInFrame=At.default;const Ot=r(2260);t.RealtimeState=Ot.default;const Pt=r(6490);t.RealtimeVolumeIndicator=Pt.default;const Dt=r(6700);t.ReceiveAudioInputTask=Dt.default;const Rt=r(701);t.ReceiveTURNCredentialsTask=Rt.default;const Lt=r(6464);t.ReceiveVideoInputTask=Lt.default;const Ft=r(7946);t.ReceiveVideoStreamIndexTask=Ft.default;const Bt=r(2478);t.ReconnectionHealthPolicy=Bt.default;const Nt=r(8493);t.RunnableTask=Nt.default;const Vt=r(4052);t.SDP=Vt.default;const jt=r(3534);t.SDPCandidateType=jt.default;const Ut=r(5131);t.SDPMediaSection=Ut.default;const zt=r(1967);t.SendAndReceiveDataMessagesTask=zt.default;const $t=r(2559);t.SendingAudioFailureConnectionHealthPolicy=$t.default;const qt=r(9231);t.SerialGroupTask=qt.default;const Ht=r(3191);t.ServerSideNetworkAdaption=Ht.default;const Wt=r(9694);t.SessionStateControllerAction=Wt.default;const Kt=r(5081);t.SessionStateControllerDeferPriority=Kt.default;const Gt=r(9042);t.SessionStateControllerState=Gt.default;const Jt=r(5462);t.SessionStateControllerTransitionResult=Jt.default;const Zt=r(686);t.SetLocalDescriptionTask=Zt.default;const Qt=r(9203);t.SetRemoteDescriptionTask=Qt.default;const Xt=r(1);t.SignalingAndMetricsConnectionMonitor=Xt.default;const Yt=r(7809);t.SignalingClientConnectionRequest=Yt.default;const er=r(9516);t.SignalingClientEvent=er.default;const tr=r(4123);t.SignalingClientEventType=tr.default;const rr=r(7100);t.SignalingClientJoin=rr.default;const ir=r(2190);t.SignalingClientSubscribe=ir.default;const nr=r(2402);t.SignalingClientVideoSubscriptionConfiguration=nr.default;const or=r(9690);t.SimulcastContentShareTransceiverController=or.default;const sr=r(1546);t.SimulcastLayers=sr.default;const ar=r(2205);t.SimulcastTransceiverController=ar.default;const cr=r(507);t.SimulcastVideoStreamIndex=cr.default;const lr=r(3981);t.SingleNodeAudioTransformDevice=lr.default;const dr=r(7562);t.StreamMetricReport=dr.default;const ur=r(3913);t.SubscribeAndReceiveSubscribeAckTask=ur.default;const hr=r(108);t.TargetDisplaySize=hr.default;const pr=r(5049);t.TaskStatus=pr.default;const mr=r(2405);t.TimeoutScheduler=mr.default;const fr=r(251);t.TimeoutTask=fr.default;const gr=r(9337);t.Transcript=gr.default;const br=r(6412);t.TranscriptAlternative=br.default;const vr=r(761);t.TranscriptEntity=vr.default;const yr=r(4234);t.TranscriptItem=yr.default;const wr=r(8152);t.TranscriptItemType=wr.default;const Sr=r(2780);t.TranscriptLanguageWithScore=Sr.default;const xr=r(8197);t.TranscriptResult=xr.default;const kr=r(1816);t.TranscriptionStatus=kr.default;const Cr=r(3590);t.TranscriptionStatusType=Cr.default;const Er=r(9485);t.TypeError=Er.default;const _r=r(1448);t.UnusableAudioWarningConnectionHealthPolicy=_r.default;const Tr=r(8495);t.Versioning=Tr.default;const Ir=r(8791);t.VideoAdaptiveProbePolicy=Ir.default;const Mr=r(9064);t.VideoCodecCapability=Mr.default;const Ar=r(7212);t.VideoLogEvent=Ar.default;const Or=r(1706);t.VideoOnlyTransceiverController=Or.default;const Pr=r(5935);t.VideoPreference=Pr.default;const Dr=r(5029);t.VideoPreferences=Dr.default;const Rr=r(137);t.VideoPriorityBasedPolicy=Rr.default;const Lr=r(4074);t.VideoPriorityBasedPolicyConfig=Lr.default;const Fr=r(8033);t.VideoQualitySettings=Fr.default;const Br=r(5008);t.VideoSource=Br.default;const Nr=r(7619);t.VideoStreamDescription=Nr.default;const Vr=r(2227);t.VideoTileState=Vr.default;const jr=r(1619);t.VoiceFocusDeviceTransformer=jr.default;const Ur=r(8063);t.VoiceFocusTransformDevice=Ur.default;const zr=r(5859);t.WaitForAttendeePresenceTask=zr.default;const $r=r(4643);t.WebSocketReadyState=$r.default;const qr=r(6195);t.ZLIBTextCompressor=qr.default;const Hr=r(5029);Object.defineProperty(t,"MutableVideoPreferences",{enumerable:!0,get:function(){return Hr.MutableVideoPreferences}});const Wr=r(2019);Object.defineProperty(t,"Some",{enumerable:!0,get:function(){return Wr.Some}}),Object.defineProperty(t,"None",{enumerable:!0,get:function(){return Wr.None}}),Object.defineProperty(t,"Maybe",{enumerable:!0,get:function(){return Wr.Maybe}});const Kr=r(2619);Object.defineProperty(t,"isAudioTransformDevice",{enumerable:!0,get:function(){return Kr.isAudioTransformDevice}});const Gr=r(9457);Object.defineProperty(t,"isDestroyable",{enumerable:!0,get:function(){return Gr.isDestroyable}});const Jr=r(4153);Object.defineProperty(t,"isVideoTransformDevice",{enumerable:!0,get:function(){return Jr.isVideoTransformDevice}})},6108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7718);t.default=class{constructor(e,t=i.default.WARN){this.name=e,this.level=t}info(e){this.log(i.default.INFO,e)}warn(e){this.log(i.default.WARN,e)}error(e){this.log(i.default.ERROR,e)}debug(e){i.default.DEBUG<this.level||("string"==typeof e?this.log(i.default.DEBUG,e):e?this.log(i.default.DEBUG,e()):this.log(i.default.DEBUG,""+e))}setLogLevel(e){this.level=e}getLogLevel(){return this.level}log(e,t){if(e<this.level)return;const r=`${(new Date).toISOString()} [${i.default[e]}] ${this.name} - ${t}`;switch(e){case i.default.ERROR:console.error(r);break;case i.default.WARN:console.warn(r);break;case i.default.DEBUG:console.debug(r.replace(/\\r\\n/g,"\n"));break;case i.default.INFO:console.info(r)}}}},7802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i){this.sequenceNumber=e,this.message=t,this.timestampMs=r,this.logLevel=i}}},7718:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(r=t.LogLevel||(t.LogLevel={})),t.default=r},6023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7718);t.default=class{constructor(...e){this._loggers=e}info(e){for(const t of this._loggers)t.info(e)}warn(e){for(const t of this._loggers)t.warn(e)}error(e){for(const t of this._loggers)t.error(e)}debug(e){let t,r;r="string"==typeof e?e:e?()=>(t||(t=e()),t):""+e;for(const e of this._loggers)e.debug(r)}setLogLevel(e){for(const t of this._loggers)t.setLogLevel(e)}getLogLevel(){for(const e of this._loggers)return e.getLogLevel();return i.default.OFF}}},7677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7718),n=r(3086);class o extends n.default{constructor(){super(i.default.DEBUG)}}t.default=o},3086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7718);t.default=class{constructor(e=i.default.OFF){this.level=e}info(e){}warn(e){}error(e){}debug(e){i.default.DEBUG<this.level||"string"!=typeof e&&e()}setLogLevel(e){this.level=e}getLogLevel(){return this.level}}},2210:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2378),o=r(7802),s=r(7718);class a{constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:r=a.BATCH_SIZE,intervalMs:i=a.INTERVAL_MS,logLevel:n=s.default.WARN,metadata:o,headers:c}=e;this.url=t,this.batchSize=r,this.intervalMs=i,this.logLevel=n,this.metadata=o,this.headers=c,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}addEventListener(){this.eventListener&&"window"in r.g&&window.addEventListener&&window.addEventListener("unload",this.eventListener)}removeEventListener(){this.eventListener&&"window"in r.g&&window.removeEventListener&&window.removeEventListener("unload",this.eventListener)}debug(e){s.default.DEBUG<this.logLevel||("string"==typeof e?this.log(s.default.DEBUG,e):e?this.log(s.default.DEBUG,e()):this.log(s.default.DEBUG,""+e))}info(e){this.log(s.default.INFO,e)}warn(e){this.log(s.default.WARN,e)}error(e){this.log(s.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new n.default(this.intervalMs),this.intervalScheduler.start((()=>i(this,void 0,void 0,(function*(){if(!0===this.lock||0===this.getLogCaptureSize())return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{200===(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status&&(this.logCapture=this.logCapture.slice(e.length))}catch(e){console.warn("[POSTLogger] "+e.message)}finally{this.lock=!1}}))))}stop(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return i(this,void 0,void 0,(function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0}))}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const r=Date.now();this.logCapture.push(new o.default(this.sequenceNumber,t,r,s.default[e])),this.sequenceNumber+=1}}t.default=a,a.BATCH_SIZE=85,a.INTERVAL_MS=2e3},1835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(766);t.default=class{constructor(){this.isMediaDevicesSupported="undefined"!=typeof navigator&&!!navigator.mediaDevices}create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new i.default);throw new Error("navigator.mediaDevices is not supported")}}},766:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(996),o=r(2378);class s{constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(e,t,r)=>{if(!Reflect.has(e,t))return;if(!("ondevicechange"in navigator.mediaDevices)){if("addEventListener"===t)return this.patchAddEventListener(e,t,r);if("removeEventListener"===t)return this.patchRemoveEventListener(e,t,r)}const i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i},this.patchAddEventListener=(e,t,r)=>{const i=Reflect.get(e,t,r);return(t,r,n)=>{if("devicechange"!==t)return Reflect.apply(i,e,[t,r,n]);this.deviceChangeListeners.add(r),this.scheduler||(this.scheduler=new o.default(s.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists))}},this.patchRemoveEventListener=(e,t,r)=>{const i=Reflect.get(e,t,r);return(t,r,n)=>{if("devicechange"!==t)return Reflect.apply(i,e,[t,r,n]);this.deviceChangeListeners.delete(r),0===this.deviceChangeListeners.size&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null)}},this.pollDeviceLists=()=>i(this,void 0,void 0,(function*(){const e=yield this.sortedDeviceList();this.devices&&(e.length!==this.devices.length||e.some(((e,t)=>e.deviceId!==this.devices[t].deviceId)))&&this.handleDeviceChangeEvent(),this.devices=e}))}sortedDeviceList(){return i(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort(((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0))}))}handleDeviceChangeEvent(){for(const e of this.deviceChangeListeners)n.default.nextTick((()=>{if(this.deviceChangeListeners.has(e)){const t=new Event("devicechange");"function"==typeof e?e(t):e.handleEvent(t)}}))}}t.default=s,s.INTERVAL_MS=1e3},3120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(e){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}},7421:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.AudioInputRequestFailed=1]="AudioInputRequestFailed",e[e.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.AudioNotReceived=4]="AudioNotReceived"}(r=t.CheckAudioConnectivityFeedback||(t.CheckAudioConnectivityFeedback={})),t.default=r},2984:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckAudioInputFeedback||(t.CheckAudioInputFeedback={})),t.default=r},292:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioOutputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed"}(r=t.CheckAudioOutputFeedback||(t.CheckAudioOutputFeedback={})),t.default=r},5653:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCameraResolutionFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.ResolutionNotSupported=2]="ResolutionNotSupported",e[e.PermissionDenied=3]="PermissionDenied"}(r=t.CheckCameraResolutionFeedback||(t.CheckCameraResolutionFeedback={})),t.default=r},4049:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckContentShareConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied",e[e.TimedOut=3]="TimedOut",e[e.ConnectionFailed=4]="ConnectionFailed"}(r=t.CheckContentShareConnectivityFeedback||(t.CheckContentShareConnectivityFeedback={})),t.default=r},7735:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkTCPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkTCPConnectivityFeedback||(t.CheckNetworkTCPConnectivityFeedback={})),t.default=r},8350:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkUDPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkUDPConnectivityFeedback||(t.CheckNetworkUDPConnectivityFeedback={})),t.default=r},35:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.VideoInputRequestFailed=1]="VideoInputRequestFailed",e[e.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.VideoNotSent=4]="VideoNotSent"}(r=t.CheckVideoConnectivityFeedback||(t.CheckVideoConnectivityFeedback={})),t.default=r},1772:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckVideoInputFeedback||(t.CheckVideoInputFeedback={})),t.default=r},608:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(443),o=r(9297),s=r(9802),a=r(5536),c=r(1072),l=r(251),d=r(7421),u=r(2984),h=r(292),p=r(5653),m=r(4049),f=r(7735),g=r(8350),b=r(35),v=r(1772),y=r(3022);class w{constructor(e,t,r=new y.default){this.logger=e,this.meetingSession=t,this.configuration=r,this.browserBehavior=new o.default}static delay(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}checkAudioInput(e){return i(this,void 0,void 0,(function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(e),yield this.meetingSession.audioVideo.stopAudioInput(),u.default.Succeeded}catch(e){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${e}`),e instanceof a.default?u.default.PermissionDenied:u.default.Failed}}))}checkAudioOutput(e,t,r=null){return i(this,void 0,void 0,(function*(){try{const i=e?s.default.getIntrinsicDeviceId(e):"";return yield this.playTone(i,this.configuration.audioOutputFrequency,r),(yield t())?h.default.Succeeded:h.default.Failed}catch(e){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${e}`),h.default.Failed}finally{this.stopTone()}}))}playTone(e,t,r){return i(this,void 0,void 0,(function*(){const i=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=s.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=t,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const o=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,o),this.gainNode.gain.linearRampToValueAtTime(i,o+.1),this.oscillatorNode.start();const a=new n.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield a.bindAudioDevice({deviceId:e}))}catch(e){this.logger.error(`Failed to bind audio device: ${e}`)}try{yield a.bindAudioElement(r||new Audio)}catch(e){this.logger.error(`Failed to bind audio element: ${e}`)}yield a.bindAudioStream(this.destinationStream.stream)}))}stopTone(){if(!(this.audioContext&&this.gainNode&&this.oscillatorNode&&this.destinationStream))return;const e=this.configuration.audioOutputGain,t=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(e,t+.1+1),this.gainNode.gain.linearRampToValueAtTime(0,t+.2+1),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(e){return i(this,void 0,void 0,(function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(e),yield this.meetingSession.audioVideo.stopVideoInput(),v.default.Succeeded}catch(e){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${e}`),e instanceof a.default?v.default.PermissionDenied:v.default.Failed}}))}checkCameraResolution(e,t,r){return i(this,void 0,void 0,(function*(){let i;try{const n=s.default.getIntrinsicDeviceId(e),o={video:this.calculateVideoConstraint(n,t,r)};i=yield navigator.mediaDevices.getUserMedia(o)}catch(e){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${t} height ${r} failed with error ${e}`),e&&"OverconstrainedError"===e.name?p.default.ResolutionNotSupported:e&&"NotAllowedError"===e.name?p.default.PermissionDenied:p.default.Failed}finally{i&&i.getTracks().forEach((function(e){e.stop()}))}return p.default.Succeeded}))}calculateVideoConstraint(e,t,r){const i=this.browserBehavior.requiresResolutionAlignment(t,r),n={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(n.deviceId=e,n.width=t,n.height=r):(n.deviceId={exact:e},n.width={exact:i[0]},n.height={exact:i[1]}),n}checkContentShareConnectivity(e){return i(this,void 0,void 0,(function*(){let t=!1,r=!1;const n={contentShareDidStart:()=>{t=!0}},o={audioVideoDidStart:()=>{r=!0}};try{return this.meetingSession.audioVideo.addObserver(o),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(n),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(e),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return r&&t})))),r?(yield this.stopMeeting(),t?m.default.Succeeded:m.default.TimedOut):m.default.ConnectionFailed}catch(e){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${e}`),"NotAllowedError"===e.name?m.default.PermissionDenied:m.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(o),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(n)}}))}checkAudioConnectivity(e){return i(this,void 0,void 0,(function*(){let t=!1;const r=this.meetingSession.audioVideo,n=(e,r,i,n)=>{e===this.meetingSession.configuration.credentials.attendeeId&&r&&(t=!0)};try{yield r.startAudioInput(e)}catch(e){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${e}`),e instanceof a.default?d.default.AudioInputPermissionDenied:d.default.AudioInputRequestFailed}return r.realtimeSubscribeToAttendeeIdPresence(n),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return t})))),r.realtimeUnsubscribeToAttendeeIdPresence(n),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),t?d.default.Succeeded:d.default.AudioNotReceived):(r.realtimeUnsubscribeToAttendeeIdPresence(n),yield this.meetingSession.audioVideo.stopAudioInput(),d.default.ConnectionFailed)}))}checkVideoConnectivity(e){return i(this,void 0,void 0,(function*(){const t=this.meetingSession.audioVideo;let r=0;const n={metricsDidReceive(e){e.getRTCStatsReport().forEach((e=>{"outbound-rtp"===e.type&&"video"===e.mediaType&&(r=e.packetsSent)}))}};try{yield t.startVideoInput(e)}catch(e){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${e}`),e instanceof a.default?b.default.VideoInputPermissionDenied:b.default.VideoInputRequestFailed}return t.addObserver(n),(yield this.startMeeting())?(t.startLocalVideoTile(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return r>0})))),yield t.stopVideoInput(),yield this.stopMeeting(),t.removeObserver(n),r<=0?b.default.VideoNotSent:b.default.Succeeded):b.default.ConnectionFailed}))}checkNetworkUDPConnectivity(){return i(this,void 0,void 0,(function*(){let e=!1;const t={metricsDidReceive(t){t.getRTCStatsReport().forEach((t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)}))}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),g.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{const t=this.originalURLRewriter(e);return t.includes("transport=tcp")?"":t};const r=this.meetingSession.audioVideo;return r.addObserver(t),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),r.removeObserver(t),e?g.default.Succeeded:g.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,g.default.ConnectionFailed)}))}checkNetworkTCPConnectivity(){return i(this,void 0,void 0,(function*(){let e=!1;const t={metricsDidReceive(t){t.getRTCStatsReport().forEach((t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)}))}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),f.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{const t=this.originalURLRewriter(e);return t.includes("transport=udp")?"":t};const r=this.meetingSession.audioVideo;return r.addObserver(t),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),r.removeObserver(t),e?f.default.Succeeded:f.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,f.default.ConnectionFailed)}))}startMeeting(){return i(this,void 0,void 0,(function*(){let e=!1;const t={audioVideoDidStart:()=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.audioVideo.removeObserver(t),e}))}stopMeeting(){return i(this,void 0,void 0,(function*(){let e=!1;const t={audioVideoDidStop:t=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.audioVideo.removeObserver(t),e}))}executeTimeoutTask(e){return i(this,void 0,void 0,(function*(){let t=!1;class r extends c.default{constructor(e,t){super(e),this.waitDurationMs=t,this.isCancelled=!1}cancel(){this.isCancelled=!0}run(){return i(this,void 0,void 0,(function*(){for(;!this.isCancelled;){if(yield e()){t=!0;break}yield w.delay(this.waitDurationMs)}}))}}const n=new l.default(this.logger,new r(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs);return yield n.run(),t}))}}t.default=w},3022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}}},4555:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(483),o=r(8104),s=r(6467),a=r(9297),c=r(3345),l=r(3265),d=r(9020),u=r(9457),h=r(8672),p=r(1316),m=r(5786);t.default=class{constructor(e,t,r,i){this._eventController=i,this._configuration=e,this._logger=t,this.checkBrowserSupportAndFeatureConfiguration(),d.default.addLogger(this._logger),d.default.register(),this._eventController||(this._eventController=new h.default(e,t)),r.eventController||(r.eventController=this.eventController),this.audioVideoController=new n.default(this._configuration,this._logger,new m.default(this._logger),r,new p.default(this._configuration.reconnectTimeoutMs,new s.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=r;const a=new c.default(this._logger);this.contentShareController=new l.default(a,new n.default(l.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new m.default(this._logger),a,new p.default(this._configuration.reconnectTimeoutMs,new s.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new o.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return i(this,void 0,void 0,(function*(){u.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),u.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),u.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),d.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0}))}checkBrowserSupportAndFeatureConfiguration(){const e=new a.default,t=`${e.name()} ${e.majorVersion()} (${e.version()})`;if(this.logger.info(`browser is ${t}`),e.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${e.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!e.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(e.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${e.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(e){return!(!e||!e.addObserver)}}},231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2552),n=r(7442),o=r(2721),s=r(9384);t.default=class{constructor(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new i.default,this.reconnectTimeoutMs=12e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1e3,this.reconnectLongBackOffMs=5e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,e&&((e=n.toLowerCasePropertyNames(e)).meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new s.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl)),t&&((t=n.toLowerCasePropertyNames(t)).attendee&&(t=t.attendee),this.credentials=new o.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}}},2721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}toJSON(){return{attendeeId:this.attendeeId,joinToken:null===this.joinToken?null:"<redacted>"}}}},6454:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEvent=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped"}(r=t.MeetingSessionLifecycleEvent||(t.MeetingSessionLifecycleEvent={})),t.default=r},5702:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEventCondition=void 0,function(e){e[e.ConnectingNew=0]="ConnectingNew",e[e.ReconnectingExisting=1]="ReconnectingExisting",e[e.StartedNew=2]="StartedNew",e[e.StartedExisting=3]="StartedExisting",e[e.StartedAfterReconnect=4]="StartedAfterReconnect",e[e.StoppedCleanly=5]="StoppedCleanly",e[e.StoppedWithFailure=6]="StoppedWithFailure"}(r=t.MeetingSessionLifecycleEventCondition||(t.MeetingSessionLifecycleEventCondition={})),t.default=r},5956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330),n=r(1736);class o{constructor(e){this._statusCode=e}statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case n.default.AudioAuthenticationRejected:case n.default.AudioCallAtCapacity:case n.default.AudioInternalServerError:case n.default.AudioServiceUnavailable:case n.default.AudioDisconnected:case n.default.VideoCallAtSourceCapacity:case n.default.SignalingBadRequest:case n.default.SignalingInternalServerError:case n.default.SignalingRequestFailed:case n.default.ICEGatheringTimeoutWorkaround:case n.default.ConnectionHealthReconnect:case n.default.RealtimeApiFailed:case n.default.TaskFailed:case n.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case n.default.Left:case n.default.AudioJoinedFromAnotherDevice:case n.default.AudioAuthenticationRejected:case n.default.AudioCallAtCapacity:case n.default.MeetingEnded:case n.default.AudioDisconnected:case n.default.TURNCredentialsForbidden:case n.default.SignalingBadRequest:case n.default.SignalingRequestFailed:case n.default.VideoCallAtSourceCapacity:case n.default.RealtimeApiFailed:case n.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case n.default.AudioAuthenticationRejected:case n.default.AudioInternalServerError:case n.default.AudioServiceUnavailable:case n.default.ICEGatheringTimeoutWorkaround:case n.default.SignalingBadRequest:case n.default.SignalingInternalServerError:case n.default.SignalingRequestFailed:case n.default.RealtimeApiFailed:case n.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case n.default.OK:return"Everything is OK so far.";case n.default.Left:return"The attendee left the meeting.";case n.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case n.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case n.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case n.default.MeetingEnded:return"The meeting ended.";case n.default.AudioInternalServerError:case n.default.AudioServiceUnavailable:case n.default.AudioDisconnected:return"The audio connection failed.";case n.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case n.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case n.default.SignalingBadRequest:case n.default.SignalingInternalServerError:case n.default.SignalingRequestFailed:return"The signaling connection failed.";case n.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case n.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case n.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case n.default.TaskFailed:return"The connection failed. See the error message for more details.";case n.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case n.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case n.default.NoAttendeePresent:return"The attendee was not present.";case n.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case n.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case n.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const e=this._statusCode;throw new Error(`Unhandled case: ${e}`)}}}static fromSignalFrame(e){return e.error&&e.error.status?this.fromSignalingStatus(e.error.status):e.type===i.SdkSignalFrame.Type.AUDIO_STATUS?e.audioStatus?this.fromAudioStatus(e.audioStatus.audioStatus):new o(n.default.SignalingRequestFailed):e.type===i.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new o(n.default.AudioVideoWasRemovedFromPrimaryMeeting):new o(n.default.OK)}static fromAudioStatus(e){switch(e){case 200:return new o(n.default.OK);case 301:return new o(n.default.AudioJoinedFromAnotherDevice);case 302:return new o(n.default.AudioDisconnectAudio);case 403:return new o(n.default.AudioAuthenticationRejected);case 409:return new o(n.default.AudioCallAtCapacity);case 410:return new o(n.default.MeetingEnded);case 411:return new o(n.default.AudioAttendeeRemoved);case 500:return new o(n.default.AudioInternalServerError);case 503:return new o(n.default.AudioServiceUnavailable);default:return 2===Math.floor(e/100)?new o(n.default.OK):new o(n.default.AudioDisconnected)}}static fromSignalingStatus(e){switch(e){case 206:return new o(n.default.VideoCallSwitchToViewOnly);case 509:return new o(n.default.VideoCallAtSourceCapacity);case 403:return new o(n.default.AudioAuthenticationRejected);case 409:return new o(n.default.AudioCallAtCapacity);default:switch(Math.floor(e/100)){case 2:return new o(n.default.OK);case 4:return new o(n.default.SignalingBadRequest);case 5:return new o(n.default.SignalingInternalServerError);default:return new o(n.default.SignalingRequestFailed)}}}}t.default=o},1736:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.Left=1]="Left",e[e.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",e[e.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",e[e.AudioCallAtCapacity=4]="AudioCallAtCapacity",e[e.MeetingEnded=5]="MeetingEnded",e[e.AudioInternalServerError=6]="AudioInternalServerError",e[e.AudioServiceUnavailable=7]="AudioServiceUnavailable",e[e.AudioDisconnected=8]="AudioDisconnected",e[e.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",e[e.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",e[e.SignalingBadRequest=11]="SignalingBadRequest",e[e.SignalingInternalServerError=12]="SignalingInternalServerError",e[e.SignalingRequestFailed=13]="SignalingRequestFailed",e[e.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",e[e.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",e[e.RealtimeApiFailed=16]="RealtimeApiFailed",e[e.TaskFailed=17]="TaskFailed",e[e.IncompatibleSDP=18]="IncompatibleSDP",e[e.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",e[e.NoAttendeePresent=20]="NoAttendeePresent",e[e.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",e[e.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",e[e.AudioDisconnectAudio=23]="AudioDisconnectAudio"}(r=t.MeetingSessionStatusCode||(t.MeetingSessionStatusCode={})),t.default=r},6744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}}},9384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=e=>e}get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(e){this._audioHostURL=e}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(e){this._signalingURL=e}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(e){this._turnControlURL=e}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(e){this._eventIngestionURL=e}}},7840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}equal(e){return this.remoteVideoAvailable===e.remoteVideoAvailable&&this.canStartLocalVideo===e.canStartLocalVideo}clone(){const e=new r;return e.remoteVideoAvailable=this.remoteVideoAvailable,e.canStartLocalVideo=this.canStartLocalVideo,e}}t.default=r},6664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.type=e,this.headers=t,this.payload=r}}},156:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(465),o=r(6467),s=r(9020),a=r(6664),c=r(1316),l=r(996),d=r(3429),u=r(5786),h=r(4643),p=r(9017);t.default=class{constructor(e,t,r,i,n){this.configuration=e,this.logger=t,this.webSocket=r,this.reconnectController=i,this.sigV4=n,this.observerQueue=new Set,this.webSocket||(this.webSocket=new u.default(this.logger)),this.reconnectController||(this.reconnectController=new c.default(e.reconnectTimeoutMs,new o.default(e.reconnectFixedWaitMs,e.reconnectShortBackoffMs,e.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new d.default(this.configuration.chimeClient)),s.default.addLogger(this.logger),s.default.register(),this.preBootstrapMessages=[]}addObserver(e){this.logger.info("adding messaging observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing messaging observer"),this.observerQueue.delete(e)}start(){return i(this,void 0,void 0,(function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")}))}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),s.default.removeLogger(this.logger))}forEachObserver(e){for(const t of this.observerQueue)l.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}setUpEventListeners(){this.webSocket.addEventListener("open",(()=>{this.openEventHandler()})),this.webSocket.addEventListener("message",(e=>{this.receiveMessageHandler(e.data)})),this.webSocket.addEventListener("close",(e=>{this.closeEventHandler(e)})),this.webSocket.addEventListener("error",(()=>{this.logger.error("WebSocket error")}))}startConnecting(e){return i(this,void 0,void 0,(function*(){return yield this.startConnectingInternal(e),yield new Promise(((e,t)=>{this.bootstrapResolved=e,this.bootstrapRejected=t}))}))}startConnectingInternal(e){var t;return i(this,void 0,void 0,(function*(){let r=this.configuration.endpointUrl;if(e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),e||void 0===r)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const e=yield this.configuration.chimeClient.getMessagingSessionEndpoint();r=(null===(t=e.Endpoint)||void 0===t?void 0:t.Url)?e.Endpoint.Url:(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else r=(yield this.configuration.chimeClient.send(new n.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${r}`)}catch(e){this.logger.error(`Messaging Session failed to resolve endpoint: ${e}`);const t=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});return void this.closeEventHandler(t)}const i=yield this.prepareWebSocketUrl(r);this.logger.info(`opening connection to ${i}`),e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(i,[],!0),this.forEachObserver((t=>{t.messagingSessionDidStartConnecting&&t.messagingSessionDidStartConnecting(e)})),this.setUpEventListeners()}))}prepareWebSocketUrl(e){return i(this,void 0,void 0,(function*(){const t=new Map;return t.set("userArn",[this.configuration.userArn]),t.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===p.default.Connect&&t.set("prefetch-on",[p.default.Connect]),this.configuration.prefetchSortBy&&t.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",e,"/connect","",t)}))}isClosed(){return this.webSocket.readyState()===h.default.None||this.webSocket.readyState()===h.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(e){try{const t=JSON.parse(e),r=t.Headers["x-amz-chime-event-type"],i=new a.default(r,t.Headers,t.Payload||null);if(this.isSessionEstablished||"SESSION_ESTABLISHED"!==r){if(!this.isSessionEstablished)return void this.preBootstrapMessages.push(i)}else{this.forEachObserver((e=>{e.messagingSessionDidStart&&e.messagingSessionDidStart()})),this.bootstrapResolved(),this.isSessionEstablished=!0;const e=this.preBootstrapMessages.length;for(let t=0;t<e;t++){const e=this.preBootstrapMessages.shift();this.forEachObserver((t=>{this.sendMessageToObserver(t,e)}))}}this.forEachObserver((e=>{this.sendMessageToObserver(e,i)}))}catch(e){this.logger.error(`Messaging parsing failed: ${e}`)}}sendMessageToObserver(e,t){e.messagingSessionDidReceiveMessage&&e.messagingSessionDidReceiveMessage(t)}retryConnection(){return this.reconnectController.retryWithBackoff((()=>i(this,void 0,void 0,(function*(){yield this.startConnecting(!0)}))),null)}closeEventHandler(e){this.logger.info(`WebSocket close: ${e.code} ${e.reason}`),4999!==e.code&&this.webSocket.destroy(),!this.isClosing&&this.canReconnect(e.code)&&this.retryConnection()||(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver((t=>{t.messagingSessionDidStop&&t.messagingSessionDidStop(e)})):this.bootstrapRejected(e))}canReconnect(e){return 1001===e||1006===e||e>=1011&&e<=1014||e>4e3&&4002!==e&&4003!==e&&4401!==e}}},4665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i){this.userArn=e,this.messagingSessionId=t,this.endpointUrl=r,this.chimeClient=i,this.reconnectTimeoutMs=1e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1e3,this.reconnectLongBackoffMs=5e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}generateSessionId(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0].toString()}}},9017:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connect="connect"}(r||(r={})),t.default=r},3053:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unread="unread",e.LastMessageTimestamp="last-message-timestamp"}(r||(r={})),t.default=r},6878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9511);class n{constructor(e){this._id=e}id(){return this._id}base(){return this._id?this._id.split(n.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const e=this._id.split(n.MODALITY_SEPARATOR);return 2===e.length?e[1]:""}hasModality(e){return""!==e&&this.modality()===e}withModality(e){const t=new n(this.base()+n.MODALITY_SEPARATOR+e);return""===e||""===this.base()||new n(t._id).modality()!==e?new n(this.base()):t}}t.default=n,n.MODALITY_SEPARATOR=i.default.Modality[0],n.MODALITY_CONTENT=i.default.Modality.substr(1)},744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(996),n=r(2378),o=r(4123),s=r(8330),a=r(2019);t.default=class{constructor(e,t,r){this.signalingClient=e,this.intervalMs=t,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new n.default(this.intervalMs),this.pingId=0}addObserver(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)i.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start((()=>{this.ping()})),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver((e=>{a.Maybe.of(e.didMissPongs).map((t=>t.bind(e)(this.consecutivePongsUnaccountedFor)))}))),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const e=s.SdkPingPongFrame.create();e.pingId=this.pingId,e.type=s.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(e),this.logger.debug((()=>`sent ping ${this.pingId}`))}pong(e){const t=s.SdkPingPongFrame.create();t.pingId=e,t.type=s.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}handleSignalingClientEvent(e){switch(e.type){case o.default.WebSocketOpen:this.startPingInterval();break;case o.default.WebSocketFailed:case o.default.WebSocketError:this.logger.warn(`stopped pinging (${o.default[e.type]})`),this.stopPingInterval();break;case o.default.WebSocketClosing:case o.default.WebSocketClosed:this.logger.info(`stopped pinging (${o.default[e.type]})`),this.stopPingInterval();break;case o.default.ReceivedSignalFrame:if(e.message.type!==s.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===s.SdkPingPongType.PONG){const t=e.message.pingPong.pingId;if(t!==this.pingId){this.logger.warn(`unexpected ping id ${t} (expected ${this.pingId})`);break}let r;if(this.consecutivePongsUnaccountedFor=0,"number"!=typeof e.message.timestampMs)break;r=e.message.timestampMs,this.logger.debug((()=>`received pong ${t} with timestamp ${r}`));const i=e.timestampMs-this.pingTimestampLocalMs,n=Math.round(r-i/2),o=this.pingTimestampLocalMs-n;this.logger.info(`local clock skew estimate=${o}ms from ping-pong time=${i}ms`),this.forEachObserver((e=>{a.Maybe.of(e.didReceivePong).map((r=>r.bind(e)(t,o,i)))}))}else this.pong(e.message.pingPong.pingId)}}}},7461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(797),n=r(2260),o=r(6490);t.default=class{constructor(e,t){this.mediaStreamBroker=e,this.state=new n.default,this._transcriptionController=t||new i.default(this)}realtimeSetLocalAttendeeId(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}realtimeSetAttendeeIdPresence(e,t,r,i,n){try{t&&(this.state.attendeeIdToExternalUserId[e]=r);for(const o of this.state.attendeeIdChangesCallbacks)o(e,t,r,i,n)}catch(e){this.onError(e)}}realtimeSubscribeToAttendeeIdPresence(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(e){try{const t=this.state.attendeeIdChangesCallbacks.indexOf(e);-1!==t&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(e){try{if(this.state.canUnmute===e)return;this.state.canUnmute=e;for(const t of this.state.setCanUnmuteLocalAudioCallbacks)t(e)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){try{const t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!0)}catch(e){this.onError(e)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!1);return!0}catch(e){return this.onError(e),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){try{const t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(e){this.onError(e)}}realtimeUnsubscribeFromVolumeIndicator(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){const r=this.state.volumeIndicatorCallbacks[e].indexOf(t);r>=0&&this.state.volumeIndicatorCallbacks[e].splice(r,1)}else delete this.state.volumeIndicatorCallbacks[e]}realtimeUpdateVolumeIndicator(e,t,r,i,n){try{r=this.applyLocalMuteOverride(e,r);const o=this.getVolumeIndicatorState(e);let s=!1,a=!1,c=!1;null!==r&&o.muted!==r&&(o.muted=r,a=!0,o.muted&&0!==o.volume&&(o.volume=0,s=!0)),o.muted||null===t||(o.volume!==t&&(o.volume=t,s=!0),null===o.muted&&(o.muted=!1,a=!0)),null!==i&&o.signalStrength!==i&&(o.signalStrength=i,c=!0),this.sendVolumeIndicatorChange(e,s,a,c,n)}catch(e){this.onError(e)}}realtimeSubscribeToLocalSignalStrengthChange(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),null===this.state.localAttendeeId)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(e){try{const t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);-1!==t&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(e){try{const t=this.state.sendDataMessageCallbacks.indexOf(e);-1!==t&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(e,t,r){try{for(const i of this.state.sendDataMessageCallbacks)i(e,t,r)}catch(e){this.onError(e)}}realtimeSubscribeToReceiveDataMessage(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(e){this.onError(e)}}realtimeUnsubscribeFromReceiveDataMessage(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(e){try{if(this.state.receiveDataMessageCallbacks.has(e.topic))for(const t of this.state.receiveDataMessageCallbacks.get(e.topic))t(e)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(e){try{this.state.fatalErrorCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(e){try{const t=this.state.fatalErrorCallbacks.indexOf(e);-1!==t&&this.state.fatalErrorCallbacks.splice(t,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(e,t){const r=this.state.localAttendeeId,i=this.state.muted;return e!==r?t:"activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio?i:t}sendVolumeIndicatorChange(e,t,r,i,n){if(this.sendLocalSignalStrengthChange(e,i),!this.state.volumeIndicatorCallbacks.hasOwnProperty(e))return;const s=this.getVolumeIndicatorState(e),a=new o.default;if(t&&(a.volume=s.volume),r&&(a.muted=s.muted),i&&(a.signalStrength=s.signalStrength),!this.stateIsEmpty(a))for(const t of this.state.volumeIndicatorCallbacks[e])t(e,a.volume,a.muted,a.signalStrength,n)}sendLocalSignalStrengthChange(e,t){if(!t)return;if(e!==this.state.localAttendeeId)return;const r=this.getVolumeIndicatorState(e).signalStrength;if(null!==r)for(const e of this.state.localSignalStrengthChangeCallbacks)e(r)}getVolumeIndicatorState(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new o.default),this.state.volumeIndicatorState[e]}stateIsEmpty(e){return null===e.volume&&null===e.muted&&null===e.signalStrength}onError(e){try{for(const t of this.state.fatalErrorCallbacks)t(e)}catch(t){try{console.error(e),console.error(t)}catch(e){}}}}},6009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}}},2260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}}},6490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}}},1316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2405);class n{constructor(e,t){this.reconnectTimeoutMs=e,this.backoffPolicy=t,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs||this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(e){this._isFirstConnection=e,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(e,t){const r=this.shouldReconnect&&!this.hasPastReconnectDeadline();return r&&(this.backoffCancel=t,this.backoffTimer=new i.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start((()=>{this.backoffCancel=null,e()}))),r}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new n(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(e){this.lastActiveTimestampMs=e}}t.default=n},996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2405);class n extends i.default{constructor(){super(0)}static nextTick(e){setTimeout(e,0)}}t.default=n},2378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.intervalMs=e}start(e){this.stop(),this.timer=setInterval(e,this.intervalMs)}stop(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}running(){return void 0!==this.timer}}},2405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.timeoutMs=e,this.timer=null}start(e){this.stop(),this.timer=setTimeout((()=>{clearTimeout(this.timer),e()}),this.timeoutMs)}stop(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}}},4052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3534),n=r(5131),o=r(9064);class s{constructor(e){this.sdp=e}clone(){return new s(this.sdp)}static isRTPCandidate(e){const t=/candidate[:](\S+) (\d+)/g.exec(e);return null!==t&&"1"===t[2]}static linesToSDP(e){return new s(e.join(s.CRLF))}static candidateTypeFromString(e){switch(e){case i.default.Host:return i.default.Host;case i.default.ServerReflexive:return i.default.ServerReflexive;case i.default.PeerReflexive:return i.default.PeerReflexive;case i.default.Relay:return i.default.Relay}return null}static candidateType(e){const t=/a[=]candidate[:].* typ ([a-z]+) /g.exec(e);return null===t?null:s.candidateTypeFromString(t[1])}static mediaType(e){const t=/m=(audio|video)/g.exec(e);if(null!==t)return t[1]}static mid(e){if(e.includes("a=mid:"))return e.replace(/^(a=mid:)/,"")}static direction(e){const t=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(e);if(null!==t)return t[1]}static splitLines(e){return e.trim().split("\n").map((e=>e.trim()))}static splitSections(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+s.CRLF))}static findActiveCameraSection(e){let t=0,r=!1;for(const i of e){if(/^m=video/.test(i)&&(i.indexOf("sendrecv")>-1||-1===i.indexOf("sendonly")&&-1===i.indexOf("recvonly")&&-1===i.indexOf("inactive"))){r=!0;break}t++}return!1===r&&(t=-1),t}static extractSSRCsFromFIDGroupLine(e){return/^a=ssrc-group:FID\s(.+)/.exec(e)[1]}static matchPrefix(e,t){return s.splitLines(e).filter((e=>0===e.indexOf(t)))}lines(){return this.sdp.split(s.CRLF)}hasVideo(){return null!==/^m=video/gm.exec(this.sdp)}hasCandidates(){return null!==/a[=]candidate[:]/g.exec(this.sdp)}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(e){return s.linesToSDP(this.lines().filter((t=>s.candidateType(t)!==e)))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(i.default.ServerReflexive)}withAudioMaxAverageBitrate(e){if(!e)return this.clone();e=Math.trunc(Math.min(Math.max(e,s.rfc7587LowestBitrate),s.rfc7587HighestBitrate));const t=this.lines(),r=s.findOpusFmtpAttributes(t),i=s.updateOpusFmtpAttributes(t,r,[`maxaveragebitrate=${e}`]);return s.linesToSDP(i)}withStereoAudio(){const e=this.lines(),t=s.findOpusFmtpAttributes(e),r=s.updateOpusFmtpAttributes(e,t,["stereo=1","sprop-stereo=1"]);return s.linesToSDP(r)}static findOpusFmtpAttributes(e){const t=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let r=!1;const i=[];for(const n of e)if(n.startsWith("m=audio")&&(i.push(null),r=!0),n.startsWith("m=video")&&(r=!1),r){const e=t.exec(n);null!==e&&(i[i.length-1]=`a=fmtp:${e[1]} `)}return i}static updateOpusFmtpAttributes(e,t,r){const i=[];let n=0,o=null;for(const s of e)if(s.startsWith("m=audio")&&(o=t[n],n++),s.startsWith("m=video")&&(o=null),o&&s.startsWith(o)){const e=s.slice(o.length).split(";"),t=[];for(const i of e)r.findIndex((e=>e.startsWith(i.split("=")[0])))<0&&t.push(i);for(const e of r)t.push(e);i.push(o+t.join(";"))}else i.push(s);return i}withUnifiedPlanFormat(){let e=this.sdp;return e.includes("mozilla")?this.clone():(e=e.replace("o=-","o=mozilla-chrome"),new s(e))}getUniqueRtpHeaderExtensionId(e){const t=[];for(const r of e)if(/^a=extmap:/.test(r.trim())){const e=+r.split("a=extmap:")[1].split(" ")[0];t.includes(e)||t.push(e)}t.sort(((e,t)=>e-t));let r=0;for(const e of t){if(e-r>1)return r+1;r=e}return 14===r?-1:r+1}withVideoLayersAllocationRtpHeaderExtension(e){const t="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",r=e?e.getRtpHeaderExtensionId(t):-1,i=-1===r?this.getUniqueRtpHeaderExtensionId(s.splitLines(this.sdp)):r,n=s.splitSections(this.sdp),o=[];for(let e of n){if(/^m=video/.test(e)&&-1===s.getRtpHeaderExtensionIdInSection(e,t)){const r=s.splitLines(e),n=[];if(-1===i||this.hasRtpHeaderExtensionId(i)){o.push(e);continue}for(const e of r)if(n.push(e),/^a=sendrecv/.test(e.trim())){const e="a=extmap:"+i+" "+t;n.push(e)}e=n.join(s.CRLF)+s.CRLF}else if(-1!==r&&/^m=video/.test(e)&&s.getRtpHeaderExtensionIdInSection(e,t)!==r){const i=s.splitLines(e),n=[];for(const e of i)if(/^a=extmap:/.test(e.trim())&&e.split("a=extmap:")[1].split(" ")[1]===t){if(!this.hasRtpHeaderExtensionId(r)){const e="a=extmap:"+r+" "+t;n.push(e)}}else n.push(e);e=n.join(s.CRLF)+s.CRLF}o.push(e)}const a=o.join("");return new s(a)}ssrcForVideoSendingSection(){const e=this.sdp,t=s.splitSections(e);if(t.length<2)return"";const r=s.findActiveCameraSection(t);if(-1===r)return"";const i=s.matchPrefix(t[r],"a=ssrc-group:FID ");if(i.length<1)return"";const n=s.extractSSRCsFromFIDGroupLine(i[0]),[o]=n.split(" ").map((e=>parseInt(e,10)));return o.toString()}videoSendSectionHasDifferentSSRC(e){const t=this.ssrcForVideoSendingSection(),r=e.ssrcForVideoSendingSection();return""!==t&&""!==r&&parseInt(t,10)!==parseInt(r,10)}removeH264SupportFromSendSection(){const e=this.sdp,t=s.splitSections(e),r=s.findActiveCameraSection(t);if(-1===r)return new s(this.sdp);const i=t[r],n=s.splitLines(i),o=[],a=new Map;n.forEach((e=>{if(/^a=rtpmap:/.test(e)){const t=/^a=rtpmap:([0-9]+)\s/.exec(e);t&&e.toLowerCase().includes("h264")&&o.push(parseInt(t[1],10))}if(/^a=fmtp:/.test(e)){const t=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(e);if(t&&3===t.length){const e=parseInt(t[1],10),r=parseInt(t[2],10);a.has(r)?a.get(r).push(e):a.set(r,[e])}}}));const c=new Set;for(const e of o){c.add(e);const t=a.get(e);if(t)for(const e of t)c.add(e)}if(o.length>0){const e=n[0].split(" ");n[0]=e.filter((e=>!c.has(parseInt(e)))).join(" ")}const l=n.filter((e=>{if(!e.includes("rtpmap")&&!e.includes("rtcp-fb")&&!e.includes("fmtp"))return!0;for(const t of c)if(e.includes(t.toString()))return!1;return!0}));t[r]=l.join(s.CRLF)+s.CRLF;const d=t.join("");return new s(d)}mediaSections(){const e=s.splitSections(this.sdp);if(e.length<2)return[];const t=[];for(let r=1;r<e.length;r++){const i=new n.default,o=s.splitLines(e[r]);for(const e of o){const t=s.mediaType(e);if(void 0!==t){i.mediaType=t;continue}const r=s.direction(e);if(void 0!==r){i.direction=r;continue}const n=s.mid(e);void 0===n||(i.mid=n)}t.push(i)}return t}static getRtpHeaderExtensionIdInSection(e,t){const r=s.splitLines(e);for(const e of r)if(/^a=extmap:/.test(e.trim())){const r=e.split("a=extmap:")[1].split(" "),i=+r[0];if(r[1]===t)return i}return-1}getRtpHeaderExtensionId(e){const t=s.splitSections(this.sdp);for(const r of t)if(/^m=video/.test(r)){const t=s.getRtpHeaderExtensionIdInSection(r,e);if(-1!==t)return t}return-1}hasRtpHeaderExtensionId(e){const t=s.splitLines(this.sdp);for(const r of t)if(/^a=extmap:/.test(r.trim())&&+r.split("a=extmap:")[1].split(" ")[0]===e)return!0;return!1}withVideoSendCodecPreferences(e){const t=this.sdp,r=s.splitSections(t),i=s.findActiveCameraSection(r);if(-1===i)return new s(this.sdp);r[i]=this.sectionWithCodecPreferences(r[i],e);const n=r.join("");return new s(n)}sectionWithCodecPreferences(e,t){const r=new Map,i=s.splitLines(e);i.forEach((e=>{if(/^a=rtpmap:/.test(e))for(const n of t){if(!e.includes(`${n.codecName}/${n.codecCapability.clockRate}`))continue;const t=/^a=rtpmap:([0-9]+)\s/.exec(e);let o=!1;if(void 0!==n.codecCapability.sdpFmtpLine){for(const e of i)if(e.startsWith(`a=fmtp:${t[1]} ${n.codecCapability.sdpFmtpLine}`)){o=!0;break}}else o=!0;if(o){r.set(n.codecName,t[1]);break}}}));const n=new Set(r.values()),o=i[0].split(" ").filter((e=>!n.has(e))),a=Array.from(r.values()).sort(((e,i)=>t.findIndex((t=>r.get(t.codecName)===e))-t.findIndex((e=>r.get(e.codecName)===i))));return o.splice(3,0,...a.values()),i[0]=o.join(" "),i.join(s.CRLF)+s.CRLF}highestPriorityVideoSendCodec(){const e=this.sdp,t=s.splitSections(e),r=s.findActiveCameraSection(t);if(-1===r)return;const i=s.splitLines(t[r]),n=i[0].split(" ");if(n.length<4)return;const a=n[3];let c,l,d;for(const e of i){const t=/^a=rtpmap:([0-9]+)\s/.exec(e);if(null===t||t.length<2||t[1]!==a)continue;const r=e.split(" ")[1].split("/");if(!(void 0===r||r.length<2)){c=r[0],l=r[1];for(const e of i)if(e.startsWith(`a=fmtp:${a}`)){const t=e.split(" ");if(void 0===t||t.length<2)return;d=t[1]}break}}return void 0!==c?new o.default(c,{clockRate:parseInt(l),mimeType:`video/${c}`,sdpFmtpLine:d}):void 0}}t.default=s,s.CRLF="\r\n",s.rfc7587LowestBitrate=6e3,s.rfc7587HighestBitrate=51e4},3534:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SDPCandidateType=void 0,function(e){e.Host="host",e.ServerReflexive="srflx",e.PeerReflexive="prflx",e.Relay="relay"}(r=t.SDPCandidateType||(t.SDPCandidateType={})),t.default=r},5131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},9064:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330);class n{constructor(e,t){this.codecName=e,this.codecCapability=t}equals(e){return void 0!==e&&this.codecName===e.codecName&&this.codecCapability.mimeType===e.codecCapability.mimeType&&this.codecCapability.clockRate===e.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===e.codecCapability.sdpFmtpLine}static vp8(){return new n("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new n("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return this.h264ConstrainedBaselineProfile()}static fromSignaled(e){switch(e){case i.SdkVideoCodecCapability.VP8:return this.vp8();case i.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return this.h264ConstrainedBaselineProfile();default:return}}}t.default=n},6195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2845);class n{constructor(e){this.logger=e}compress(e,t){if(t.length>0){const e=Math.min(t.length,n.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}const r={memLevel:n.Z_MEM_LEVEL,dictionary:t};return i.deflateRaw(e,r)}decompress(e,t){if(t.length>0){const e=Math.min(t.length,n.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}const r={to:"string",dictionary:t,chunkSize:4096};let o="";try{o=i.inflateRaw(e,r)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return o}}t.default=n,n.Z_MEM_LEVEL=9,n.MAX_DICTIONARY_SIZE=31744},4549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9694),n=r(5081),o=r(9042),s=r(5462);t.default=class{constructor(e){this.logger=e,this.currentState=o.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}perform(e,t){const r=this.currentState;if(r===o.SessionStateControllerState.NotConnected&&e===i.SessionStateControllerAction.Connect)this.transition(o.SessionStateControllerState.Connecting,e);else if(r===o.SessionStateControllerState.Connecting&&e===i.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(r===o.SessionStateControllerState.Connecting&&e===i.SessionStateControllerAction.FinishConnecting)this.transition(o.SessionStateControllerState.Connected,e);else if(r===o.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Disconnect)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(r===o.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Reconnect)this.transition(o.SessionStateControllerState.Connecting,e);else if(r===o.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(r===o.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Update)this.transition(o.SessionStateControllerState.Updating,e);else if(r===o.SessionStateControllerState.Updating&&e===i.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(r===o.SessionStateControllerState.Updating&&e===i.SessionStateControllerAction.FinishUpdating)this.transition(o.SessionStateControllerState.Connected,e);else{if(r!==o.SessionStateControllerState.Disconnecting||e!==i.SessionStateControllerAction.FinishDisconnecting)return this.canDefer(e)?(this.logger.info(`deferring transition from ${o.SessionStateControllerState[this.currentState]} with ${i.SessionStateControllerAction[e]}`),this.deferAction(e,t),s.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${o.SessionStateControllerState[this.currentState]} with ${i.SessionStateControllerAction[e]}`),s.SessionStateControllerTransitionResult.NoTransitionAvailable);this.transition(o.SessionStateControllerState.NotConnected,e)}try{t()}catch(t){return this.logger.error(`error during state ${o.SessionStateControllerState[this.currentState]} with action ${i.SessionStateControllerAction[e]}: ${t}`),this.logger.info(`rolling back transition to ${o.SessionStateControllerState[r]}`),this.currentState=r,s.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),s.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(e,t){this.logger.info(`transitioning from ${o.SessionStateControllerState[this.currentState]} to ${o.SessionStateControllerState[e]} with ${i.SessionStateControllerAction[t]}`),this.currentState=e}deferPriority(e){switch(e){case i.SessionStateControllerAction.Disconnect:return n.SessionStateControllerDeferPriority.VeryHigh;case i.SessionStateControllerAction.Fail:return n.SessionStateControllerDeferPriority.High;case i.SessionStateControllerAction.Reconnect:return n.SessionStateControllerDeferPriority.Medium;case i.SessionStateControllerAction.Update:return n.SessionStateControllerDeferPriority.Low;default:return n.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(e,t){null!==this.deferredAction&&this.deferPriority(this.deferredAction)>this.deferPriority(e)||(this.deferredAction=e,this.deferredWork=t)}canDefer(e){return this.deferPriority(e)!==n.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===o.SessionStateControllerState.Connecting||this.currentState===o.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const e=this.deferredAction,t=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${i.SessionStateControllerAction[e]}`),this.perform(e,t)!==s.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${i.SessionStateControllerAction[e]} in state ${o.SessionStateControllerState[this.currentState]}`)}}},9694:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerAction=void 0,function(e){e[e.Connect=0]="Connect",e[e.FinishConnecting=1]="FinishConnecting",e[e.Update=2]="Update",e[e.FinishUpdating=3]="FinishUpdating",e[e.Reconnect=4]="Reconnect",e[e.Disconnect=5]="Disconnect",e[e.Fail=6]="Fail",e[e.FinishDisconnecting=7]="FinishDisconnecting"}(r=t.SessionStateControllerAction||(t.SessionStateControllerAction={})),t.default=r},5081:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerDeferPriority=void 0,function(e){e[e.DoNotDefer=0]="DoNotDefer",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"}(r=t.SessionStateControllerDeferPriority||(t.SessionStateControllerDeferPriority={})),t.default=r},9042:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerState=void 0,function(e){e[e.NotConnected=0]="NotConnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Updating=3]="Updating",e[e.Disconnecting=4]="Disconnecting"}(r=t.SessionStateControllerState||(t.SessionStateControllerState={})),t.default=r},5462:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerTransitionResult=void 0,function(e){e[e.Transitioned=0]="Transitioned",e[e.NoTransitionAvailable=1]="NoTransitionAvailable",e[e.DeferredTransition=2]="DeferredTransition",e[e.TransitionFailed=3]="TransitionFailed"}(r=t.SessionStateControllerTransitionResult||(t.SessionStateControllerTransitionResult={})),t.default=r},3837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9297),n=r(2405),o=r(8330),s=r(8495),a=r(4643),c=r(3191),l=r(9516),d=r(4123);class u{constructor(e,t){this.webSocket=e,this.logger=t,this.unloadHandler=null,this.closeEventHandler=e=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new l.default(this,d.default.WebSocketClosed,null,e.code,e.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug((()=>"signaling client init")),this.audioSessionId=this.generateNewAudioSessionId()}registerObserver(e){this.logger.debug((()=>"registering signaling client observer")),this.observerQueue.add(e)}removeObserver(e){this.logger.debug((()=>"removing signaling client observer")),this.observerQueue.delete(e)}openConnection(e){this.logger.info("adding connection request to queue: "+e.url()),this.connectionRequestQueue.push(e),this.closeConnection()}pingPong(e){this.logger.debug((()=>"sending ping"));const t=o.SdkSignalFrame.create();return t.type=o.SdkSignalFrame.Type.PING_PONG,t.pingPong=e,this.sendMessage(t),t.timestampMs}join(e){this.logger.info("sending join");const t=o.SdkJoinFrame.create();t.protocolVersion=2,t.flags=o.SdkJoinFlags.HAS_STREAM_UPDATE;const r=new i.default,n={platformName:r.name(),platformVersion:r.version(),clientSource:s.default.sdkName,chimeSdkVersion:s.default.sdkVersion};if(e.applicationMetadata){const{appName:t,appVersion:r}=e.applicationMetadata;n.appName=t,n.appVersion=r}t.clientDetails=o.SdkClientDetails.create(n),t.audioSessionId=this.audioSessionId,t.wantsCompressedSdp=u.CLIENT_SUPPORTS_COMPRESSION,t.serverSideNetworkAdaption=c.convertServerSideNetworkAdaptionEnumToSignaled(e.serverSideNetworkAdaption),e.serverSideNetworkAdaption===c.default.BandwidthProbing&&(t.wantsServerSideNetworkProbingOnReceiveSideEstimator=!0),t.supportedServerSideNetworkAdaptions=e.supportedServerSideNetworkAdaptions.map(c.convertServerSideNetworkAdaptionEnumToSignaled);const a=o.SdkSignalFrame.create();a.type=o.SdkSignalFrame.Type.JOIN,a.join=t,this.sendMessage(a)}subscribe(e){const t=o.SdkSubscribeFrame.create();if(t.sendStreams=[],t.sdpOffer=e.sdpOffer,e.connectionTypeHasVideo&&(t.receiveStreamIds=e.receiveStreamIds),e.audioHost&&(t.audioCheckin=e.audioCheckin,t.audioHost=e.audioHost,t.audioMuted=e.audioMuted,!e.audioCheckin)){const r=o.SdkStreamDescriptor.create();r.mediaType=o.SdkStreamMediaType.AUDIO,r.trackLabel="AmazonChimeExpressAudio",r.attendeeId=e.attendeeId,r.streamId=1,r.groupId=1,r.framerate=15,r.maxBitrateKbps=600,r.avgBitrateBps=4e5,t.sendStreams.push(r)}if(t.compressedSdpOffer=e.compressedSdpOffer,t.duplex=o.SdkStreamServiceType.RX,e.localVideoEnabled){t.duplex=o.SdkStreamServiceType.DUPLEX;for(let r=0;r<e.videoStreamDescriptions.length;r++){const i=e.videoStreamDescriptions[r].clone();i.attendeeId=e.attendeeId,t.sendStreams.push(i.toStreamDescriptor())}}e.videoSubscriptionConfiguration.length>0&&(t.videoSubscriptionConfiguration=e.videoSubscriptionConfiguration.map(this.convertVideoSubscriptionConfiguration));const r=o.SdkSignalFrame.create();r.type=o.SdkSignalFrame.Type.SUBSCRIBE,r.sub=t,this.sendMessage(r)}remoteVideoUpdate(e,t){const r=o.SdkRemoteVideoUpdateFrame.create();r.addedOrUpdatedVideoSubscriptions=e.map(this.convertVideoSubscriptionConfiguration),r.removedVideoSubscriptionMids=t;const i=o.SdkSignalFrame.create();i.type=o.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,i.remoteVideoUpdate=r,this.sendMessage(i)}convertVideoSubscriptionConfiguration(e){const t=new o.SdkVideoSubscriptionConfiguration;return t.mid=e.mid,t.attendeeId=e.attendeeId,t.streamId=e.streamId,t.groupId=e.groupId,t.priority=e.priority,t.targetBitrateKbps=e.targetBitrateKbps,t}leave(){const e=o.SdkSignalFrame.create();e.type=o.SdkSignalFrame.Type.LEAVE,e.leave=o.SdkLeaveFrame.create(),this.sendMessage(e),this.logger.debug((()=>"sent leave"))}sendClientMetrics(e){const t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.CLIENT_METRIC,t.clientMetric=e,this.sendMessage(t)}sendDataMessage(e){const t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.DATA_MESSAGE,t.dataMessage=e,this.sendMessage(t)}closeConnection(){var e,t;if(this.webSocket.readyState()!==a.default.None&&this.webSocket.readyState()!==a.default.Closed){this.isClosing=!0,this.sendEvent(new l.default(this,d.default.WebSocketClosing,null));const r=new n.default(u.CLOSE_EVENT_TIMEOUT_MS),i=e=>{var t,n;null===(n=(t=this.webSocket).removeEventListener)||void 0===n||n.call(t,"close",i),r.stop(),this.closeEventHandler(e)};null===(t=(e=this.webSocket).removeEventListener)||void 0===t||t.call(e,"close",this.closeEventHandler),this.webSocket.addEventListener("close",i),r.start((()=>{i(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))})),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===a.default.Open&&!this.isClosing&&this.wasOpened}mute(e){const t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.AUDIO_CONTROL;const r=o.SdkAudioControlFrame.create();r.muted=e,t.audioControl=r,this.sendMessage(t)}pause(e){const t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.PAUSE,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resume(e){const t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.RESUME,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(e){e.timestampMs=Date.now(),this.logger.debug((()=>`sending: ${JSON.stringify(e)}`));const t=this.prependWithFrameTypeRTC(o.SdkSignalFrame.encode(e).finish());if(this.ready()){if(!this.webSocket.send(t))return void this.sendEvent(new l.default(this,d.default.WebSocketSendMessageFailure,null));this.sendEvent(new l.default(this,d.default.WebSocketSentMessage,null))}else this.sendEvent(new l.default(this,d.default.WebSocketSkippedMessage,null))}receiveMessage(e){let t;try{t=o.SdkSignalFrame.decode(e)}catch(t){return this.logger.info(`failed to decode: ${e}`),void this.sendEvent(new l.default(this,d.default.ProtocolDecodeFailure,null))}this.logger.debug((()=>`received: ${JSON.stringify(t)}`)),this.webSocket.readyState()===a.default.Open?this.sendEvent(new l.default(this,d.default.ReceivedSignalFrame,t)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(t)}`)}stripFrameTypeRTC(e){const t=e[0];return t!==u.FRAME_TYPE_RTC&&2!==t&&this.logger.warn(`expected FrameTypeRTC for message but got ${t}`),e.slice(1)}prependWithFrameTypeRTC(e){const t=new Uint8Array(e.length+1);return t[0]=u.FRAME_TYPE_RTC,t.set(e,1),t}serviceConnectionRequestQueue(){if(0===this.connectionRequestQueue.length)return void this.logger.info("no connection requests to service");const e=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${e.url()}`),this.isClosing=!1,this.webSocket.create(e.url(),e.protocols()),this.setUpEventListeners(),this.sendEvent(new l.default(this,d.default.WebSocketConnecting,null))}sendEvent(e){switch(e.type){case d.default.WebSocketMessage:case d.default.ReceivedSignalFrame:case d.default.WebSocketSentMessage:this.logger.debug((()=>`notifying event: ${d.default[e.type]}`));break;case d.default.WebSocketSkippedMessage:this.logger.debug((()=>`notifying event: ${d.default[e.type]}, websocket state=${a.default[this.webSocket.readyState()]}`));break;default:this.logger.info(`notifying event: ${d.default[e.type]}`)}for(const t of this.observerQueue)t.handleSignalingClientEvent(e)}setUpEventListeners(){this.webSocket.addEventListener("open",(()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new l.default(this,d.default.WebSocketOpen,null))})),this.webSocket.addEventListener("message",(e=>{this.sendEvent(new l.default(this,d.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(e.data)))})),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",(()=>{!this.isClosing||this.wasOpened?this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new l.default(this,d.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new l.default(this,d.default.WebSocketFailed,null))):this.logger.info("ignoring error closing signaling while connecting")}))}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const e=r.g;e.window&&e.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const e=r.g;e.window&&e.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0]}promoteToPrimaryMeeting(e){const t=o.SdkMeetingSessionCredentials.create();t.attendeeId=e.attendeeId,t.externalUserId=e.externalUserId,t.joinToken=e.joinToken;const r=o.SdkPrimaryMeetingJoinFrame.create();r.credentials=t;const i=o.SdkSignalFrame.create();i.type=o.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,i.primaryMeetingJoin=r,this.sendMessage(i)}demoteFromPrimaryMeeting(){const e=o.SdkPrimaryMeetingLeaveFrame.create(),t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,t.primaryMeetingLeave=e,this.sendMessage(t)}}t.default=u,u.FRAME_TYPE_RTC=5,u.CLOSE_EVENT_TIMEOUT_MS=2e3,u.CLIENT_SUPPORTS_COMPRESSION=!0},3191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertServerSideNetworkAdaptionEnumToSignaled=t.convertServerSideNetworkAdaptionEnumFromSignaled=t.ServerSideNetworkAdaption=void 0;const i=r(8330);var n;!function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.BandwidthProbing=2]="BandwidthProbing"}(n=t.ServerSideNetworkAdaption||(t.ServerSideNetworkAdaption={})),t.default=n,t.convertServerSideNetworkAdaptionEnumFromSignaled=function(e){switch(e){case i.SdkServerSideNetworkAdaption.DEFAULT:return n.Default;case i.SdkServerSideNetworkAdaption.NONE:return n.None;case i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return n.BandwidthProbing}},t.convertServerSideNetworkAdaptionEnumToSignaled=function(e){switch(e){case n.Default:return i.SdkServerSideNetworkAdaption.DEFAULT;case n.None:return i.SdkServerSideNetworkAdaption.NONE;case n.BandwidthProbing:return i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING}}},7809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.signalingURL=e,this.joinToken=t}url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}}},9516:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4123);t.default=class{constructor(e,t,r,i,n){this.client=e,this.type=t,this.message=r,this.closeCode=i,this.closeReason=n,this.timestampMs=Date.now()}isConnectionTerminated(){switch(this.type){case i.default.WebSocketFailed:case i.default.WebSocketError:case i.default.WebSocketClosing:case i.default.WebSocketClosed:return!0;default:return!1}}}},4123:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingClientEventType=void 0,function(e){e[e.WebSocketConnecting=0]="WebSocketConnecting",e[e.WebSocketOpen=1]="WebSocketOpen",e[e.WebSocketError=2]="WebSocketError",e[e.WebSocketClosing=3]="WebSocketClosing",e[e.WebSocketClosed=4]="WebSocketClosed",e[e.WebSocketFailed=5]="WebSocketFailed",e[e.WebSocketMessage=6]="WebSocketMessage",e[e.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",e[e.WebSocketSentMessage=8]="WebSocketSentMessage",e[e.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",e[e.ReceivedSignalFrame=10]="ReceivedSignalFrame",e[e.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"}(r=t.SignalingClientEventType||(t.SignalingClientEventType={})),t.default=r},7100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3191);t.default=class{constructor(e){this.applicationMetadata=e,this.serverSideNetworkAdaption=i.default.Default,this.supportedServerSideNetworkAdaptions=[]}}},2190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,i,n,o,s,a,c,l){this.attendeeId=e,this.sdpOffer=t,this.audioHost=r,this.audioMuted=i,this.audioCheckin=n,this.receiveStreamIds=o,this.localVideoEnabled=s,this.videoStreamDescriptions=a,this.connectionTypeHasVideo=c,this.compressedSdpOffer=l,this.videoSubscriptionConfiguration=[]}}},2402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},8330:(e,t,r)=>{"use strict";var i,n,o=r(3737),s=o.Reader,a=o.Writer,c=o.util,l=o.roots.default||(o.roots.default={});l.SdkSignalFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.timestampMs=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.type=1,e.prototype.error=null,e.prototype.join=null,e.prototype.joinack=null,e.prototype.sub=null,e.prototype.suback=null,e.prototype.index=null,e.prototype.pause=null,e.prototype.leave=null,e.prototype.leaveAck=null,e.prototype.bitrates=null,e.prototype.audioControl=null,e.prototype.audioMetadata=null,e.prototype.audioStreamIdInfo=null,e.prototype.pingPong=null,e.prototype.audioStatus=null,e.prototype.clientMetric=null,e.prototype.dataMessage=null,e.prototype.remoteVideoUpdate=null,e.prototype.primaryMeetingJoin=null,e.prototype.primaryMeetingJoinAck=null,e.prototype.primaryMeetingLeave=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&l.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),null!=e.join&&Object.hasOwnProperty.call(e,"join")&&l.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),null!=e.joinack&&Object.hasOwnProperty.call(e,"joinack")&&l.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),null!=e.sub&&Object.hasOwnProperty.call(e,"sub")&&l.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),null!=e.suback&&Object.hasOwnProperty.call(e,"suback")&&l.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&l.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),null!=e.pause&&Object.hasOwnProperty.call(e,"pause")&&l.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),null!=e.leave&&Object.hasOwnProperty.call(e,"leave")&&l.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),null!=e.leaveAck&&Object.hasOwnProperty.call(e,"leaveAck")&&l.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),null!=e.bitrates&&Object.hasOwnProperty.call(e,"bitrates")&&l.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),null!=e.audioControl&&Object.hasOwnProperty.call(e,"audioControl")&&l.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),null!=e.audioMetadata&&Object.hasOwnProperty.call(e,"audioMetadata")&&l.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),null!=e.audioStreamIdInfo&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&l.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),null!=e.pingPong&&Object.hasOwnProperty.call(e,"pingPong")&&l.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&l.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),null!=e.clientMetric&&Object.hasOwnProperty.call(e,"clientMetric")&&l.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),null!=e.dataMessage&&Object.hasOwnProperty.call(e,"dataMessage")&&l.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),null!=e.remoteVideoUpdate&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&l.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),null!=e.primaryMeetingJoin&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&l.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),null!=e.primaryMeetingJoinAck&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&l.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),null!=e.primaryMeetingLeave&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&l.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkSignalFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.timestampMs=e.uint64();break;case 2:i.type=e.int32();break;case 3:i.error=l.SdkErrorFrame.decode(e,e.uint32());break;case 4:i.join=l.SdkJoinFrame.decode(e,e.uint32());break;case 5:i.joinack=l.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:i.sub=l.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:i.suback=l.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:i.index=l.SdkIndexFrame.decode(e,e.uint32());break;case 10:i.pause=l.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:i.leave=l.SdkLeaveFrame.decode(e,e.uint32());break;case 12:i.leaveAck=l.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:i.bitrates=l.SdkBitrateFrame.decode(e,e.uint32());break;case 17:i.audioControl=l.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:i.audioMetadata=l.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:i.audioStreamIdInfo=l.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:i.pingPong=l.SdkPingPongFrame.decode(e,e.uint32());break;case 21:i.audioStatus=l.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:i.clientMetric=l.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:i.dataMessage=l.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:i.remoteVideoUpdate=l.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:i.primaryMeetingJoin=l.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:i.primaryMeetingJoinAck=l.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:i.primaryMeetingLeave=l.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(7&n)}}if(!i.hasOwnProperty("timestampMs"))throw c.ProtocolError("missing required 'timestampMs'",{instance:i});if(!i.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!(c.isInteger(e.timestampMs)||e.timestampMs&&c.isInteger(e.timestampMs.low)&&c.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:}var t;return null!=e.error&&e.hasOwnProperty("error")&&(t=l.SdkErrorFrame.verify(e.error))?"error."+t:null!=e.join&&e.hasOwnProperty("join")&&(t=l.SdkJoinFrame.verify(e.join))?"join."+t:null!=e.joinack&&e.hasOwnProperty("joinack")&&(t=l.SdkJoinAckFrame.verify(e.joinack))?"joinack."+t:null!=e.sub&&e.hasOwnProperty("sub")&&(t=l.SdkSubscribeFrame.verify(e.sub))?"sub."+t:null!=e.suback&&e.hasOwnProperty("suback")&&(t=l.SdkSubscribeAckFrame.verify(e.suback))?"suback."+t:null!=e.index&&e.hasOwnProperty("index")&&(t=l.SdkIndexFrame.verify(e.index))?"index."+t:null!=e.pause&&e.hasOwnProperty("pause")&&(t=l.SdkPauseResumeFrame.verify(e.pause))?"pause."+t:null!=e.leave&&e.hasOwnProperty("leave")&&(t=l.SdkLeaveFrame.verify(e.leave))?"leave."+t:null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(t=l.SdkLeaveAckFrame.verify(e.leaveAck))?"leaveAck."+t:null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(t=l.SdkBitrateFrame.verify(e.bitrates))?"bitrates."+t:null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(t=l.SdkAudioControlFrame.verify(e.audioControl))?"audioControl."+t:null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(t=l.SdkAudioMetadataFrame.verify(e.audioMetadata))?"audioMetadata."+t:null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(t=l.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo))?"audioStreamIdInfo."+t:null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(t=l.SdkPingPongFrame.verify(e.pingPong))?"pingPong."+t:null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(t=l.SdkAudioStatusFrame.verify(e.audioStatus))?"audioStatus."+t:null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(t=l.SdkClientMetricFrame.verify(e.clientMetric))?"clientMetric."+t:null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(t=l.SdkDataMessageFrame.verify(e.dataMessage))?"dataMessage."+t:null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(t=l.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate))?"remoteVideoUpdate."+t:null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(t=l.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin))?"primaryMeetingJoin."+t:null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(t=l.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck))?"primaryMeetingJoinAck."+t:null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(t=l.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave))?"primaryMeetingLeave."+t:null},e.fromObject=function(e){if(e instanceof l.SdkSignalFrame)return e;var t=new l.SdkSignalFrame;switch(null!=e.timestampMs&&(c.Long?(t.timestampMs=c.Long.fromValue(e.timestampMs)).unsigned=!0:"string"==typeof e.timestampMs?t.timestampMs=parseInt(e.timestampMs,10):"number"==typeof e.timestampMs?t.timestampMs=e.timestampMs:"object"==typeof e.timestampMs&&(t.timestampMs=new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27}if(null!=e.error){if("object"!=typeof e.error)throw TypeError(".SdkSignalFrame.error: object expected");t.error=l.SdkErrorFrame.fromObject(e.error)}if(null!=e.join){if("object"!=typeof e.join)throw TypeError(".SdkSignalFrame.join: object expected");t.join=l.SdkJoinFrame.fromObject(e.join)}if(null!=e.joinack){if("object"!=typeof e.joinack)throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=l.SdkJoinAckFrame.fromObject(e.joinack)}if(null!=e.sub){if("object"!=typeof e.sub)throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=l.SdkSubscribeFrame.fromObject(e.sub)}if(null!=e.suback){if("object"!=typeof e.suback)throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=l.SdkSubscribeAckFrame.fromObject(e.suback)}if(null!=e.index){if("object"!=typeof e.index)throw TypeError(".SdkSignalFrame.index: object expected");t.index=l.SdkIndexFrame.fromObject(e.index)}if(null!=e.pause){if("object"!=typeof e.pause)throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=l.SdkPauseResumeFrame.fromObject(e.pause)}if(null!=e.leave){if("object"!=typeof e.leave)throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=l.SdkLeaveFrame.fromObject(e.leave)}if(null!=e.leaveAck){if("object"!=typeof e.leaveAck)throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=l.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(null!=e.bitrates){if("object"!=typeof e.bitrates)throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=l.SdkBitrateFrame.fromObject(e.bitrates)}if(null!=e.audioControl){if("object"!=typeof e.audioControl)throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=l.SdkAudioControlFrame.fromObject(e.audioControl)}if(null!=e.audioMetadata){if("object"!=typeof e.audioMetadata)throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=l.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(null!=e.audioStreamIdInfo){if("object"!=typeof e.audioStreamIdInfo)throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=l.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(null!=e.pingPong){if("object"!=typeof e.pingPong)throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=l.SdkPingPongFrame.fromObject(e.pingPong)}if(null!=e.audioStatus){if("object"!=typeof e.audioStatus)throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=l.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(null!=e.clientMetric){if("object"!=typeof e.clientMetric)throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=l.SdkClientMetricFrame.fromObject(e.clientMetric)}if(null!=e.dataMessage){if("object"!=typeof e.dataMessage)throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=l.SdkDataMessageFrame.fromObject(e.dataMessage)}if(null!=e.remoteVideoUpdate){if("object"!=typeof e.remoteVideoUpdate)throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=l.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(null!=e.primaryMeetingJoin){if("object"!=typeof e.primaryMeetingJoin)throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=l.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(null!=e.primaryMeetingJoinAck){if("object"!=typeof e.primaryMeetingJoinAck)throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=l.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(null!=e.primaryMeetingLeave){if("object"!=typeof e.primaryMeetingLeave)throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=l.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(c.Long){var i=new c.Long(0,0,!0);r.timestampMs=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timestampMs=t.longs===String?"0":0;r.type=t.enums===String?"JOIN":1,r.error=null,r.join=null,r.joinack=null,r.sub=null,r.suback=null,r.index=null,r.pause=null,r.leave=null,r.leaveAck=null,r.bitrates=null,r.audioControl=null,r.audioMetadata=null,r.audioStreamIdInfo=null,r.pingPong=null,r.audioStatus=null,r.clientMetric=null,r.dataMessage=null,r.remoteVideoUpdate=null,r.primaryMeetingJoin=null,r.primaryMeetingJoinAck=null,r.primaryMeetingLeave=null}return null!=e.timestampMs&&e.hasOwnProperty("timestampMs")&&("number"==typeof e.timestampMs?r.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:r.timestampMs=t.longs===String?c.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkSignalFrame.Type[e.type]:e.type),null!=e.error&&e.hasOwnProperty("error")&&(r.error=l.SdkErrorFrame.toObject(e.error,t)),null!=e.join&&e.hasOwnProperty("join")&&(r.join=l.SdkJoinFrame.toObject(e.join,t)),null!=e.joinack&&e.hasOwnProperty("joinack")&&(r.joinack=l.SdkJoinAckFrame.toObject(e.joinack,t)),null!=e.sub&&e.hasOwnProperty("sub")&&(r.sub=l.SdkSubscribeFrame.toObject(e.sub,t)),null!=e.suback&&e.hasOwnProperty("suback")&&(r.suback=l.SdkSubscribeAckFrame.toObject(e.suback,t)),null!=e.index&&e.hasOwnProperty("index")&&(r.index=l.SdkIndexFrame.toObject(e.index,t)),null!=e.pause&&e.hasOwnProperty("pause")&&(r.pause=l.SdkPauseResumeFrame.toObject(e.pause,t)),null!=e.leave&&e.hasOwnProperty("leave")&&(r.leave=l.SdkLeaveFrame.toObject(e.leave,t)),null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(r.leaveAck=l.SdkLeaveAckFrame.toObject(e.leaveAck,t)),null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(r.bitrates=l.SdkBitrateFrame.toObject(e.bitrates,t)),null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(r.audioControl=l.SdkAudioControlFrame.toObject(e.audioControl,t)),null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(r.audioMetadata=l.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(r.audioStreamIdInfo=l.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(r.pingPong=l.SdkPingPongFrame.toObject(e.pingPong,t)),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=l.SdkAudioStatusFrame.toObject(e.audioStatus,t)),null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(r.clientMetric=l.SdkClientMetricFrame.toObject(e.clientMetric,t)),null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(r.dataMessage=l.SdkDataMessageFrame.toObject(e.dataMessage,t)),null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(r.remoteVideoUpdate=l.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(r.primaryMeetingJoin=l.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(r.primaryMeetingJoinAck=l.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(r.primaryMeetingLeave=l.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(t={},(r=Object.create(t))[t[1]="JOIN"]=1,r[t[2]="JOIN_ACK"]=2,r[t[3]="SUBSCRIBE"]=3,r[t[4]="SUBSCRIBE_ACK"]=4,r[t[5]="INDEX"]=5,r[t[7]="PAUSE"]=7,r[t[8]="RESUME"]=8,r[t[9]="LEAVE"]=9,r[t[10]="LEAVE_ACK"]=10,r[t[13]="BITRATES"]=13,r[t[16]="AUDIO_CONTROL"]=16,r[t[17]="AUDIO_METADATA"]=17,r[t[18]="AUDIO_STREAM_ID_INFO"]=18,r[t[19]="PING_PONG"]=19,r[t[20]="AUDIO_STATUS"]=20,r[t[21]="CLIENT_METRIC"]=21,r[t[22]="DATA_MESSAGE"]=22,r[t[24]="REMOTE_VIDEO_UPDATE"]=24,r[t[25]="PRIMARY_MEETING_JOIN"]=25,r[t[26]="PRIMARY_MEETING_JOIN_ACK"]=26,r[t[27]="PRIMARY_MEETING_LEAVE"]=27,r),e}(),l.SdkErrorFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.status=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkErrorFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.status=e.uint32();break;case 2:i.description=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.status&&e.hasOwnProperty("status")&&!c.isInteger(e.status)?"status: integer expected":null!=e.description&&e.hasOwnProperty("description")&&!c.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkErrorFrame)return e;var t=new l.SdkErrorFrame;return null!=e.status&&(t.status=e.status>>>0),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.status=0,r.description=""),null!=e.status&&e.hasOwnProperty("status")&&(r.status=e.status),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkJoinFlags=(i={},(n=Object.create(i))[i[2]="HAS_STREAM_UPDATE"]=2,n[i[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,n[i[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,n),l.SdkClientDetails=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.appName="",e.prototype.appVersion="",e.prototype.deviceModel="",e.prototype.deviceMake="",e.prototype.platformName="",e.prototype.platformVersion="",e.prototype.clientSource="",e.prototype.chimeSdkVersion="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.appName&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),null!=e.appVersion&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),null!=e.deviceModel&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),null!=e.deviceMake&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),null!=e.platformName&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),null!=e.platformVersion&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),null!=e.clientSource&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),null!=e.chimeSdkVersion&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkClientDetails;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.appName=e.string();break;case 2:i.appVersion=e.string();break;case 3:i.deviceModel=e.string();break;case 4:i.deviceMake=e.string();break;case 5:i.platformName=e.string();break;case 6:i.platformVersion=e.string();break;case 7:i.clientSource=e.string();break;case 8:i.chimeSdkVersion=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.appName&&e.hasOwnProperty("appName")&&!c.isString(e.appName)?"appName: string expected":null!=e.appVersion&&e.hasOwnProperty("appVersion")&&!c.isString(e.appVersion)?"appVersion: string expected":null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&!c.isString(e.deviceModel)?"deviceModel: string expected":null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&!c.isString(e.deviceMake)?"deviceMake: string expected":null!=e.platformName&&e.hasOwnProperty("platformName")&&!c.isString(e.platformName)?"platformName: string expected":null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&!c.isString(e.platformVersion)?"platformVersion: string expected":null!=e.clientSource&&e.hasOwnProperty("clientSource")&&!c.isString(e.clientSource)?"clientSource: string expected":null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&!c.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkClientDetails)return e;var t=new l.SdkClientDetails;return null!=e.appName&&(t.appName=String(e.appName)),null!=e.appVersion&&(t.appVersion=String(e.appVersion)),null!=e.deviceModel&&(t.deviceModel=String(e.deviceModel)),null!=e.deviceMake&&(t.deviceMake=String(e.deviceMake)),null!=e.platformName&&(t.platformName=String(e.platformName)),null!=e.platformVersion&&(t.platformVersion=String(e.platformVersion)),null!=e.clientSource&&(t.clientSource=String(e.clientSource)),null!=e.chimeSdkVersion&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.appName="",r.appVersion="",r.deviceModel="",r.deviceMake="",r.platformName="",r.platformVersion="",r.clientSource="",r.chimeSdkVersion=""),null!=e.appName&&e.hasOwnProperty("appName")&&(r.appName=e.appName),null!=e.appVersion&&e.hasOwnProperty("appVersion")&&(r.appVersion=e.appVersion),null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&(r.deviceModel=e.deviceModel),null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&(r.deviceMake=e.deviceMake),null!=e.platformName&&e.hasOwnProperty("platformName")&&(r.platformName=e.platformName),null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&(r.platformVersion=e.platformVersion),null!=e.clientSource&&e.hasOwnProperty("clientSource")&&(r.clientSource=e.clientSource),null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&(r.chimeSdkVersion=e.chimeSdkVersion),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkServerSideNetworkAdaption=function(){var e={},t=Object.create(e);return t[e[1]="DEFAULT"]=1,t[e[2]="NONE"]=2,t[e[3]="BANDWIDTH_PROBING"]=3,t}(),l.SdkJoinFrame=function(){function e(e){if(this.supportedServerSideNetworkAdaptions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.protocolVersion=2,e.prototype.maxNumOfVideos=0,e.prototype.flags=0,e.prototype.clientDetails=null,e.prototype.audioSessionId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.wantsCompressedSdp=!1,e.prototype.wantsServerSideNetworkProbingOnReceiveSideEstimator=!1,e.prototype.serverSideNetworkAdaption=1,e.prototype.supportedServerSideNetworkAdaptions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),null!=e.maxNumOfVideos&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),null!=e.clientDetails&&Object.hasOwnProperty.call(e,"clientDetails")&&l.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),null!=e.audioSessionId&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&Object.hasOwnProperty.call(e,"wantsServerSideNetworkProbingOnReceiveSideEstimator")&&t.uint32(64).bool(e.wantsServerSideNetworkProbingOnReceiveSideEstimator),null!=e.serverSideNetworkAdaption&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),null!=e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length)for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkJoinFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.protocolVersion=e.uint32();break;case 2:i.maxNumOfVideos=e.uint32();break;case 3:i.flags=e.uint32();break;case 4:i.clientDetails=l.SdkClientDetails.decode(e,e.uint32());break;case 6:i.audioSessionId=e.uint64();break;case 7:i.wantsCompressedSdp=e.bool();break;case 8:i.wantsServerSideNetworkProbingOnReceiveSideEstimator=e.bool();break;case 10:i.serverSideNetworkAdaption=e.int32();break;case 11:if(i.supportedServerSideNetworkAdaptions&&i.supportedServerSideNetworkAdaptions.length||(i.supportedServerSideNetworkAdaptions=[]),2==(7&n))for(var o=e.uint32()+e.pos;e.pos<o;)i.supportedServerSideNetworkAdaptions.push(e.int32());else i.supportedServerSideNetworkAdaptions.push(e.int32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!c.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&!c.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!c.isInteger(e.flags))return"flags: integer expected";if(null!=e.clientDetails&&e.hasOwnProperty("clientDetails")){var t=l.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&!(c.isInteger(e.audioSessionId)||e.audioSessionId&&c.isInteger(e.audioSessionId.low)&&c.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!=typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&e.hasOwnProperty("wantsServerSideNetworkProbingOnReceiveSideEstimator")&&"boolean"!=typeof e.wantsServerSideNetworkProbingOnReceiveSideEstimator)return"wantsServerSideNetworkProbingOnReceiveSideEstimator: boolean expected";if(null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}if(null!=e.supportedServerSideNetworkAdaptions&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:}}return null},e.fromObject=function(e){if(e instanceof l.SdkJoinFrame)return e;var t=new l.SdkJoinFrame;if(null!=e.protocolVersion&&(t.protocolVersion=e.protocolVersion>>>0),null!=e.maxNumOfVideos&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.clientDetails){if("object"!=typeof e.clientDetails)throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=l.SdkClientDetails.fromObject(e.clientDetails)}switch(null!=e.audioSessionId&&(c.Long?(t.audioSessionId=c.Long.fromValue(e.audioSessionId)).unsigned=!0:"string"==typeof e.audioSessionId?t.audioSessionId=parseInt(e.audioSessionId,10):"number"==typeof e.audioSessionId?t.audioSessionId=e.audioSessionId:"object"==typeof e.audioSessionId&&(t.audioSessionId=new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&(t.wantsServerSideNetworkProbingOnReceiveSideEstimator=Boolean(e.wantsServerSideNetworkProbingOnReceiveSideEstimator)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)switch(e.supportedServerSideNetworkAdaptions[r]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[r]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[r]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[r]=3}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.supportedServerSideNetworkAdaptions=[]),t.defaults){if(r.protocolVersion=2,r.maxNumOfVideos=0,r.flags=0,r.clientDetails=null,c.Long){var i=new c.Long(0,0,!0);r.audioSessionId=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.audioSessionId=t.longs===String?"0":0;r.wantsCompressedSdp=!1,r.wantsServerSideNetworkProbingOnReceiveSideEstimator=!1,r.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1}if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&(r.maxNumOfVideos=e.maxNumOfVideos),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.clientDetails&&e.hasOwnProperty("clientDetails")&&(r.clientDetails=l.SdkClientDetails.toObject(e.clientDetails,t)),null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&("number"==typeof e.audioSessionId?r.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:r.audioSessionId=t.longs===String?c.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&e.hasOwnProperty("wantsServerSideNetworkProbingOnReceiveSideEstimator")&&(r.wantsServerSideNetworkProbingOnReceiveSideEstimator=e.wantsServerSideNetworkProbingOnReceiveSideEstimator),null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption")&&(r.serverSideNetworkAdaption=t.enums===String?l.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){r.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)r.supportedServerSideNetworkAdaptions[n]=t.enums===String?l.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[n]]:e.supportedServerSideNetworkAdaptions[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.turnCredentials=null,e.prototype.videoSubscriptionLimit=0,e.prototype.wantsCompressedSdp=!1,e.prototype.defaultServerSideNetworkAdaption=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.turnCredentials&&Object.hasOwnProperty.call(e,"turnCredentials")&&l.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),null!=e.videoSubscriptionLimit&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkJoinAckFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.turnCredentials=l.SdkTurnCredentials.decode(e,e.uint32());break;case 2:i.videoSubscriptionLimit=e.uint32();break;case 3:i.wantsCompressedSdp=e.bool();break;case 4:i.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")){var t=l.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&!c.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!=typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof l.SdkJoinAckFrame)return e;var t=new l.SdkJoinAckFrame;if(null!=e.turnCredentials){if("object"!=typeof e.turnCredentials)throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=l.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(null!=e.videoSubscriptionLimit&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.turnCredentials=null,r.videoSubscriptionLimit=0,r.wantsCompressedSdp=!1,r.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")&&(r.turnCredentials=l.SdkTurnCredentials.toObject(e.turnCredentials,t)),null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(r.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(r.defaultServerSideNetworkAdaption=t.enums===String?l.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkLeaveFrame;e.pos<r;){var n=e.uint32();e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.SdkLeaveFrame?e:new l.SdkLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkLeaveAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkLeaveAckFrame;e.pos<r;){var n=e.uint32();e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.SdkLeaveAckFrame?e:new l.SdkLeaveAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkStreamServiceType=function(){var e={},t=Object.create(e);return t[e[1]="RX"]=1,t[e[2]="TX"]=2,t[e[3]="DUPLEX"]=3,t}(),l.SdkStreamMediaType=function(){var e={},t=Object.create(e);return t[e[1]="AUDIO"]=1,t[e[2]="VIDEO"]=2,t}(),l.SdkSubscribeFrame=function(){function e(e){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.duplex=1,e.prototype.sendStreams=c.emptyArray,e.prototype.receiveStreamIds=c.emptyArray,e.prototype.sdpOffer="",e.prototype.audioHost="",e.prototype.audioCheckin=!1,e.prototype.audioMuted=!1,e.prototype.compressedSdpOffer=c.newBuffer([]),e.prototype.videoSubscriptionConfiguration=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.sendStreams&&e.sendStreams.length)for(var r=0;r<e.sendStreams.length;++r)l.SdkStreamDescriptor.encode(e.sendStreams[r],t.uint32(18).fork()).ldelim();if(null!=e.receiveStreamIds&&e.receiveStreamIds.length)for(r=0;r<e.receiveStreamIds.length;++r)t.uint32(24).uint32(e.receiveStreamIds[r]);if(null!=e.sdpOffer&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),null!=e.audioHost&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),null!=e.audioCheckin&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),null!=e.audioMuted&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),null!=e.compressedSdpOffer&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),null!=e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length)for(r=0;r<e.videoSubscriptionConfiguration.length;++r)l.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[r],t.uint32(74).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkSubscribeFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.duplex=e.int32();break;case 2:i.sendStreams&&i.sendStreams.length||(i.sendStreams=[]),i.sendStreams.push(l.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(i.receiveStreamIds&&i.receiveStreamIds.length||(i.receiveStreamIds=[]),2==(7&n))for(var o=e.uint32()+e.pos;e.pos<o;)i.receiveStreamIds.push(e.uint32());else i.receiveStreamIds.push(e.uint32());break;case 4:i.sdpOffer=e.string();break;case 5:i.audioHost=e.string();break;case 6:i.audioCheckin=e.bool();break;case 7:i.audioMuted=e.bool();break;case 8:i.compressedSdpOffer=e.bytes();break;case 9:i.videoSubscriptionConfiguration&&i.videoSubscriptionConfiguration.length||(i.videoSubscriptionConfiguration=[]),i.videoSubscriptionConfiguration.push(l.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.sendStreams&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t)if(r=l.SdkStreamDescriptor.verify(e.sendStreams[t]))return"sendStreams."+r}if(null!=e.receiveStreamIds&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(t=0;t<e.receiveStreamIds.length;++t)if(!c.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&!c.isString(e.sdpOffer))return"sdpOffer: string expected";if(null!=e.audioHost&&e.hasOwnProperty("audioHost")&&!c.isString(e.audioHost))return"audioHost: string expected";if(null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&"boolean"!=typeof e.audioCheckin)return"audioCheckin: boolean expected";if(null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&"boolean"!=typeof e.audioMuted)return"audioMuted: boolean expected";if(null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&"number"==typeof e.compressedSdpOffer.length||c.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(null!=e.videoSubscriptionConfiguration&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(t=0;t<e.videoSubscriptionConfiguration.length;++t){var r;if(r=l.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]))return"videoSubscriptionConfiguration."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkSubscribeFrame)return e;var t=new l.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r){if("object"!=typeof e.sendStreams[r])throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[r]=l.SdkStreamDescriptor.fromObject(e.sendStreams[r])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");for(t.receiveStreamIds=[],r=0;r<e.receiveStreamIds.length;++r)t.receiveStreamIds[r]=e.receiveStreamIds[r]>>>0}if(null!=e.sdpOffer&&(t.sdpOffer=String(e.sdpOffer)),null!=e.audioHost&&(t.audioHost=String(e.audioHost)),null!=e.audioCheckin&&(t.audioCheckin=Boolean(e.audioCheckin)),null!=e.audioMuted&&(t.audioMuted=Boolean(e.audioMuted)),null!=e.compressedSdpOffer&&("string"==typeof e.compressedSdpOffer?c.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=c.newBuffer(c.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");for(t.videoSubscriptionConfiguration=[],r=0;r<e.videoSubscriptionConfiguration.length;++r){if("object"!=typeof e.videoSubscriptionConfiguration[r])throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[r]=l.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sendStreams=[],r.receiveStreamIds=[],r.videoSubscriptionConfiguration=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpOffer="",r.audioHost="",r.audioCheckin=!1,r.audioMuted=!1,t.bytes===String?r.compressedSdpOffer="":(r.compressedSdpOffer=[],t.bytes!==Array&&(r.compressedSdpOffer=c.newBuffer(r.compressedSdpOffer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?l.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){r.sendStreams=[];for(var i=0;i<e.sendStreams.length;++i)r.sendStreams[i]=l.SdkStreamDescriptor.toObject(e.sendStreams[i],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length)for(r.receiveStreamIds=[],i=0;i<e.receiveStreamIds.length;++i)r.receiveStreamIds[i]=e.receiveStreamIds[i];if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&(r.sdpOffer=e.sdpOffer),null!=e.audioHost&&e.hasOwnProperty("audioHost")&&(r.audioHost=e.audioHost),null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&(r.audioCheckin=e.audioCheckin),null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&(r.audioMuted=e.audioMuted),null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&(r.compressedSdpOffer=t.bytes===String?c.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length)for(r.videoSubscriptionConfiguration=[],i=0;i<e.videoSubscriptionConfiguration.length;++i)r.videoSubscriptionConfiguration[i]=l.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[i],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkSubscribeAckFrame=function(){function e(e){if(this.allocations=[],this.tracks=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.duplex=1,e.prototype.allocations=c.emptyArray,e.prototype.sdpAnswer="",e.prototype.tracks=c.emptyArray,e.prototype.compressedSdpAnswer=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.allocations&&e.allocations.length)for(var r=0;r<e.allocations.length;++r)l.SdkStreamAllocation.encode(e.allocations[r],t.uint32(18).fork()).ldelim();if(null!=e.sdpAnswer&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),null!=e.tracks&&e.tracks.length)for(r=0;r<e.tracks.length;++r)l.SdkTrackMapping.encode(e.tracks[r],t.uint32(34).fork()).ldelim();return null!=e.compressedSdpAnswer&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkSubscribeAckFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.duplex=e.int32();break;case 2:i.allocations&&i.allocations.length||(i.allocations=[]),i.allocations.push(l.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:i.sdpAnswer=e.string();break;case 4:i.tracks&&i.tracks.length||(i.tracks=[]),i.tracks.push(l.SdkTrackMapping.decode(e,e.uint32()));break;case 5:i.compressedSdpAnswer=e.bytes();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.allocations&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t)if(r=l.SdkStreamAllocation.verify(e.allocations[t]))return"allocations."+r}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&!c.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(null!=e.tracks&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(t=0;t<e.tracks.length;++t){var r;if(r=l.SdkTrackMapping.verify(e.tracks[t]))return"tracks."+r}}return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&"number"==typeof e.compressedSdpAnswer.length||c.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},e.fromObject=function(e){if(e instanceof l.SdkSubscribeAckFrame)return e;var t=new l.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var r=0;r<e.allocations.length;++r){if("object"!=typeof e.allocations[r])throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[r]=l.SdkStreamAllocation.fromObject(e.allocations[r])}}if(null!=e.sdpAnswer&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");for(t.tracks=[],r=0;r<e.tracks.length;++r){if("object"!=typeof e.tracks[r])throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[r]=l.SdkTrackMapping.fromObject(e.tracks[r])}}return null!=e.compressedSdpAnswer&&("string"==typeof e.compressedSdpAnswer?c.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=c.newBuffer(c.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.allocations=[],r.tracks=[]),t.defaults&&(r.duplex=t.enums===String?"RX":1,r.sdpAnswer="",t.bytes===String?r.compressedSdpAnswer="":(r.compressedSdpAnswer=[],t.bytes!==Array&&(r.compressedSdpAnswer=c.newBuffer(r.compressedSdpAnswer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(r.duplex=t.enums===String?l.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){r.allocations=[];for(var i=0;i<e.allocations.length;++i)r.allocations[i]=l.SdkStreamAllocation.toObject(e.allocations[i],t)}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&(r.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length)for(r.tracks=[],i=0;i<e.tracks.length;++i)r.tracks[i]=l.SdkTrackMapping.toObject(e.tracks[i],t);return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&(r.compressedSdpAnswer=t.bytes===String?c.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkIndexFrame=function(){function e(e){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.atCapacity=!1,e.prototype.sources=c.emptyArray,e.prototype.pausedAtSourceIds=c.emptyArray,e.prototype.numParticipants=0,e.prototype.supportedReceiveCodecIntersection=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.atCapacity&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),null!=e.sources&&e.sources.length)for(var r=0;r<e.sources.length;++r)l.SdkStreamDescriptor.encode(e.sources[r],t.uint32(18).fork()).ldelim();if(null!=e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(r=0;r<e.pausedAtSourceIds.length;++r)t.uint32(24).uint32(e.pausedAtSourceIds[r]);if(null!=e.numParticipants&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),null!=e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length)for(r=0;r<e.supportedReceiveCodecIntersection.length;++r)t.uint32(40).int32(e.supportedReceiveCodecIntersection[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkIndexFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.atCapacity=e.bool();break;case 2:i.sources&&i.sources.length||(i.sources=[]),i.sources.push(l.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(i.pausedAtSourceIds&&i.pausedAtSourceIds.length||(i.pausedAtSourceIds=[]),2==(7&n))for(var o=e.uint32()+e.pos;e.pos<o;)i.pausedAtSourceIds.push(e.uint32());else i.pausedAtSourceIds.push(e.uint32());break;case 4:i.numParticipants=e.uint32();break;case 5:if(i.supportedReceiveCodecIntersection&&i.supportedReceiveCodecIntersection.length||(i.supportedReceiveCodecIntersection=[]),2==(7&n))for(o=e.uint32()+e.pos;e.pos<o;)i.supportedReceiveCodecIntersection.push(e.int32());else i.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&"boolean"!=typeof e.atCapacity)return"atCapacity: boolean expected";if(null!=e.sources&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var r=l.SdkStreamDescriptor.verify(e.sources[t]);if(r)return"sources."+r}}if(null!=e.pausedAtSourceIds&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(t=0;t<e.pausedAtSourceIds.length;++t)if(!c.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&!c.isInteger(e.numParticipants))return"numParticipants: integer expected";if(null!=e.supportedReceiveCodecIntersection&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:}}return null},e.fromObject=function(e){if(e instanceof l.SdkIndexFrame)return e;var t=new l.SdkIndexFrame;if(null!=e.atCapacity&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var r=0;r<e.sources.length;++r){if("object"!=typeof e.sources[r])throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[r]=l.SdkStreamDescriptor.fromObject(e.sources[r])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");for(t.pausedAtSourceIds=[],r=0;r<e.pausedAtSourceIds.length;++r)t.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]>>>0}if(null!=e.numParticipants&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");for(t.supportedReceiveCodecIntersection=[],r=0;r<e.supportedReceiveCodecIntersection.length;++r)switch(e.supportedReceiveCodecIntersection[r]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[r]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[r]=3}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.sources=[],r.pausedAtSourceIds=[],r.supportedReceiveCodecIntersection=[]),t.defaults&&(r.atCapacity=!1,r.numParticipants=0),null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&(r.atCapacity=e.atCapacity),e.sources&&e.sources.length){r.sources=[];for(var i=0;i<e.sources.length;++i)r.sources[i]=l.SdkStreamDescriptor.toObject(e.sources[i],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(r.pausedAtSourceIds=[],i=0;i<e.pausedAtSourceIds.length;++i)r.pausedAtSourceIds[i]=e.pausedAtSourceIds[i];if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&(r.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length)for(r.supportedReceiveCodecIntersection=[],i=0;i<e.supportedReceiveCodecIntersection.length;++i)r.supportedReceiveCodecIntersection[i]=t.enums===String?l.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[i]]:e.supportedReceiveCodecIntersection[i];return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkPauseResumeFrame=function(){function e(e){if(this.streamIds=[],this.groupIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.streamIds=c.emptyArray,e.prototype.groupIds=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.streamIds&&e.streamIds.length)for(var r=0;r<e.streamIds.length;++r)t.uint32(8).uint32(e.streamIds[r]);if(null!=e.groupIds&&e.groupIds.length)for(r=0;r<e.groupIds.length;++r)t.uint32(16).uint32(e.groupIds[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkPauseResumeFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:if(i.streamIds&&i.streamIds.length||(i.streamIds=[]),2==(7&n))for(var o=e.uint32()+e.pos;e.pos<o;)i.streamIds.push(e.uint32());else i.streamIds.push(e.uint32());break;case 2:if(i.groupIds&&i.groupIds.length||(i.groupIds=[]),2==(7&n))for(o=e.uint32()+e.pos;e.pos<o;)i.groupIds.push(e.uint32());else i.groupIds.push(e.uint32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamIds&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!c.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(null!=e.groupIds&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(t=0;t<e.groupIds.length;++t)if(!c.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof l.SdkPauseResumeFrame)return e;var t=new l.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var r=0;r<e.streamIds.length;++r)t.streamIds[r]=e.streamIds[r]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");for(t.groupIds=[],r=0;r<e.groupIds.length;++r)t.groupIds[r]=e.groupIds[r]>>>0}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streamIds=[],r.groupIds=[]),e.streamIds&&e.streamIds.length){r.streamIds=[];for(var i=0;i<e.streamIds.length;++i)r.streamIds[i]=e.streamIds[i]}if(e.groupIds&&e.groupIds.length)for(r.groupIds=[],i=0;i<e.groupIds.length;++i)r.groupIds[i]=e.groupIds[i];return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkBitrateFrame=function(){function e(e){if(this.bitrates=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.bitrates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.bitrates&&e.bitrates.length)for(var r=0;r<e.bitrates.length;++r)l.SdkBitrate.encode(e.bitrates[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkBitrateFrame;e.pos<r;){var n=e.uint32();n>>>3==1?(i.bitrates&&i.bitrates.length||(i.bitrates=[]),i.bitrates.push(l.SdkBitrate.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bitrates&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var r=l.SdkBitrate.verify(e.bitrates[t]);if(r)return"bitrates."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkBitrateFrame)return e;var t=new l.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var r=0;r<e.bitrates.length;++r){if("object"!=typeof e.bitrates[r])throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[r]=l.SdkBitrate.fromObject(e.bitrates[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bitrates=[]),e.bitrates&&e.bitrates.length){r.bitrates=[];for(var i=0;i<e.bitrates.length;++i)r.bitrates[i]=l.SdkBitrate.toObject(e.bitrates[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkStreamDescriptor=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.streamId=0,e.prototype.framerate=0,e.prototype.maxBitrateKbps=0,e.prototype.trackLabel="",e.prototype.groupId=0,e.prototype.avgBitrateBps=0,e.prototype.attendeeId="",e.prototype.mediaType=1,e.prototype.externalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.framerate&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),null!=e.maxBitrateKbps&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),null!=e.mediaType&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkStreamDescriptor;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.streamId=e.uint32();break;case 2:i.framerate=e.uint32();break;case 3:i.maxBitrateKbps=e.uint32();break;case 4:i.trackLabel=e.string();break;case 6:i.groupId=e.uint32();break;case 7:i.avgBitrateBps=e.uint32();break;case 8:i.attendeeId=e.string();break;case 9:i.mediaType=e.int32();break;case 10:i.externalUserId=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.framerate&&e.hasOwnProperty("framerate")&&!c.isInteger(e.framerate))return"framerate: integer expected";if(null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&!c.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel))return"trackLabel: string expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId))return"attendeeId: string expected";if(null!=e.mediaType&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:}return null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkStreamDescriptor)return e;var t=new l.SdkStreamDescriptor;switch(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.framerate&&(t.framerate=e.framerate>>>0),null!=e.maxBitrateKbps&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.groupId&&(t.groupId=e.groupId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2}return null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.framerate=0,r.maxBitrateKbps=0,r.trackLabel="",r.groupId=0,r.avgBitrateBps=0,r.attendeeId="",r.mediaType=t.enums===String?"AUDIO":1,r.externalUserId=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.framerate&&e.hasOwnProperty("framerate")&&(r.framerate=e.framerate),null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&(r.maxBitrateKbps=e.maxBitrateKbps),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),null!=e.groupId&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),null!=e.mediaType&&e.hasOwnProperty("mediaType")&&(r.mediaType=t.enums===String?l.SdkStreamMediaType[e.mediaType]:e.mediaType),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkStreamAllocation=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.trackLabel="",e.prototype.streamId=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkStreamAllocation;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.trackLabel=e.string();break;case 2:i.streamId=e.uint32();break;case 3:i.groupId=e.uint32();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId)?"groupId: integer expected":null},e.fromObject=function(e){if(e instanceof l.SdkStreamAllocation)return e;var t=new l.SdkStreamAllocation;return null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.trackLabel="",r.streamId=0,r.groupId=0),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTrackMapping=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.streamId=0,e.prototype.ssrc=0,e.prototype.trackLabel="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.ssrc&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTrackMapping;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.streamId=e.uint32();break;case 2:i.ssrc=e.uint32();break;case 3:i.trackLabel=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.ssrc&&e.hasOwnProperty("ssrc")&&!c.isInteger(e.ssrc)?"ssrc: integer expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkTrackMapping)return e;var t=new l.SdkTrackMapping;return null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.ssrc&&(t.ssrc=e.ssrc>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.streamId=0,r.ssrc=0,r.trackLabel=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.ssrc&&e.hasOwnProperty("ssrc")&&(r.ssrc=e.ssrc),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(r.trackLabel=e.trackLabel),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkBitrate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sourceStreamId=0,e.prototype.avgBitrateBps=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.sourceStreamId&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkBitrate;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.sourceStreamId=e.uint32();break;case 2:i.avgBitrateBps=e.uint32();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&!c.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},e.fromObject=function(e){if(e instanceof l.SdkBitrate)return e;var t=new l.SdkBitrate;return null!=e.sourceStreamId&&(t.sourceStreamId=e.sourceStreamId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.sourceStreamId=0,r.avgBitrateBps=0),null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&(r.sourceStreamId=e.sourceStreamId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(r.avgBitrateBps=e.avgBitrateBps),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioControlFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.muted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioControlFrame;e.pos<r;){var n=e.uint32();n>>>3==1?i.muted=e.bool():e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null},e.fromObject=function(e){if(e instanceof l.SdkAudioControlFrame)return e;var t=new l.SdkAudioControlFrame;return null!=e.muted&&(t.muted=Boolean(e.muted)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.muted=!1),null!=e.muted&&e.hasOwnProperty("muted")&&(r.muted=e.muted),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioMetadataFrame=function(){function e(e){if(this.attendeeStates=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attendeeStates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.attendeeStates&&e.attendeeStates.length)for(var r=0;r<e.attendeeStates.length;++r)l.SdkAudioAttendeeState.encode(e.attendeeStates[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioMetadataFrame;e.pos<r;){var n=e.uint32();n>>>3==1?(i.attendeeStates&&i.attendeeStates.length||(i.attendeeStates=[]),i.attendeeStates.push(l.SdkAudioAttendeeState.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attendeeStates&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var r=l.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(r)return"attendeeStates."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkAudioMetadataFrame)return e;var t=new l.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r){if("object"!=typeof e.attendeeStates[r])throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[r]=l.SdkAudioAttendeeState.fromObject(e.attendeeStates[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){r.attendeeStates=[];for(var i=0;i<e.attendeeStates.length;++i)r.attendeeStates[i]=l.SdkAudioAttendeeState.toObject(e.attendeeStates[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioAttendeeState=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audioStreamId=0,e.prototype.volume=0,e.prototype.muted=!1,e.prototype.signalStrength=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.volume&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.signalStrength&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioAttendeeState;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.audioStreamId=e.uint32();break;case 2:i.volume=e.uint32();break;case 3:i.muted=e.bool();break;case 4:i.signalStrength=e.uint32();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.volume&&e.hasOwnProperty("volume")&&!c.isInteger(e.volume)?"volume: integer expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&!c.isInteger(e.signalStrength)?"signalStrength: integer expected":null},e.fromObject=function(e){if(e instanceof l.SdkAudioAttendeeState)return e;var t=new l.SdkAudioAttendeeState;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.volume&&(t.volume=e.volume>>>0),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.signalStrength&&(t.signalStrength=e.signalStrength>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.volume=0,r.muted=!1,r.signalStrength=0),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),null!=e.volume&&e.hasOwnProperty("volume")&&(r.volume=e.volume),null!=e.muted&&e.hasOwnProperty("muted")&&(r.muted=e.muted),null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&(r.signalStrength=e.signalStrength),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioStreamIdInfoFrame=function(){function e(e){if(this.streams=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.streams=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.streams&&e.streams.length)for(var r=0;r<e.streams.length;++r)l.SdkAudioStreamIdInfo.encode(e.streams[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioStreamIdInfoFrame;e.pos<r;){var n=e.uint32();n>>>3==1?(i.streams&&i.streams.length||(i.streams=[]),i.streams.push(l.SdkAudioStreamIdInfo.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streams&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var r=l.SdkAudioStreamIdInfo.verify(e.streams[t]);if(r)return"streams."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkAudioStreamIdInfoFrame)return e;var t=new l.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var r=0;r<e.streams.length;++r){if("object"!=typeof e.streams[r])throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[r]=l.SdkAudioStreamIdInfo.fromObject(e.streams[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.streams=[]),e.streams&&e.streams.length){r.streams=[];for(var i=0;i<e.streams.length;++i)r.streams[i]=l.SdkAudioStreamIdInfo.toObject(e.streams[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioStreamIdInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audioStreamId=0,e.prototype.attendeeId="",e.prototype.muted=!1,e.prototype.externalUserId="",e.prototype.dropped=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),null!=e.dropped&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioStreamIdInfo;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.audioStreamId=e.uint32();break;case 2:i.attendeeId=e.string();break;case 3:i.muted=e.bool();break;case 4:i.externalUserId=e.string();break;case 5:i.dropped=e.bool();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null!=e.dropped&&e.hasOwnProperty("dropped")&&"boolean"!=typeof e.dropped?"dropped: boolean expected":null},e.fromObject=function(e){if(e instanceof l.SdkAudioStreamIdInfo)return e;var t=new l.SdkAudioStreamIdInfo;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.dropped&&(t.dropped=Boolean(e.dropped)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStreamId=0,r.attendeeId="",r.muted=!1,r.externalUserId="",r.dropped=!1),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(r.audioStreamId=e.audioStreamId),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),null!=e.muted&&e.hasOwnProperty("muted")&&(r.muted=e.muted),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),null!=e.dropped&&e.hasOwnProperty("dropped")&&(r.dropped=e.dropped),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkPingPongType=function(){var e={},t=Object.create(e);return t[e[1]="PING"]=1,t[e[2]="PONG"]=2,t}(),l.SdkPingPongFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=1,e.prototype.pingId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkPingPongFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.type=e.int32();break;case 2:i.pingId=e.uint32();break;default:e.skipType(7&n)}}if(!i.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("pingId"))throw c.ProtocolError("missing required 'pingId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}return c.isInteger(e.pingId)?null:"pingId: integer expected"},e.fromObject=function(e){if(e instanceof l.SdkPingPongFrame)return e;var t=new l.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2}return null!=e.pingId&&(t.pingId=e.pingId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"PING":1,r.pingId=0),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkPingPongType[e.type]:e.type),null!=e.pingId&&e.hasOwnProperty("pingId")&&(r.pingId=e.pingId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkAudioStatusFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audioStatus=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkAudioStatusFrame;e.pos<r;){var n=e.uint32();n>>>3==1?i.audioStatus=e.uint32():e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&!c.isInteger(e.audioStatus)?"audioStatus: integer expected":null},e.fromObject=function(e){if(e instanceof l.SdkAudioStatusFrame)return e;var t=new l.SdkAudioStatusFrame;return null!=e.audioStatus&&(t.audioStatus=e.audioStatus>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.audioStatus=0),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(r.audioStatus=e.audioStatus),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkMetric=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=1,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkMetric;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.type=e.int32();break;case 2:i.value=e.double();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:}return null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof l.SdkMetric)return e;var t=new l.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89}return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,r.value=0),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkMetric.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,t[e[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,t[e[3]="VIDEO_RETRANSMIT_BITRATE"]=3,t[e[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,t[e[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,t[e[6]="VIDEO_BUCKET_DELAY_MS"]=6,t[e[7]="STUN_RTT_MS"]=7,t[e[8]="SOCKET_DISCARDED_PPS"]=8,t[e[9]="RTC_MIC_JITTER_MS"]=9,t[e[10]="RTC_MIC_PPS"]=10,t[e[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,t[e[12]="RTC_MIC_BITRATE"]=12,t[e[13]="RTC_MIC_RTT_MS"]=13,t[e[14]="RTC_SPK_PPS"]=14,t[e[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,t[e[16]="RTC_SPK_JITTER_MS"]=16,t[e[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,t[e[18]="RTC_SPK_BITRATE"]=18,t[e[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,t[e[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,t[e[21]="VIDEO_SENT_RTT_MS"]=21,t[e[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,t[e[23]="VIDEO_NACKS_RECEIVED"]=23,t[e[24]="VIDEO_PLIS_RECEIVED"]=24,t[e[25]="VIDEO_ENCODE_MS"]=25,t[e[26]="VIDEO_INPUT_FPS"]=26,t[e[27]="VIDEO_ENCODE_FPS"]=27,t[e[28]="VIDEO_SENT_FPS"]=28,t[e[29]="VIDEO_FIRS_RECEIVED"]=29,t[e[30]="VIDEO_SENT_PPS"]=30,t[e[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,t[e[32]="VIDEO_SENT_BITRATE"]=32,t[e[33]="VIDEO_DROPPED_FPS"]=33,t[e[34]="VIDEO_TARGET_DELAY_MS"]=34,t[e[35]="VIDEO_DECODE_MS"]=35,t[e[36]="VIDEO_OUTPUT_FPS"]=36,t[e[37]="VIDEO_RECEIVED_PPS"]=37,t[e[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,t[e[39]="VIDEO_RENDER_DELAY_MS"]=39,t[e[40]="VIDEO_RECEIVED_FPS"]=40,t[e[41]="VIDEO_DECODE_FPS"]=41,t[e[42]="VIDEO_NACKS_SENT"]=42,t[e[43]="VIDEO_FIRS_SENT"]=43,t[e[44]="VIDEO_RECEIVED_BITRATE"]=44,t[e[45]="VIDEO_CURRENT_DELAY_MS"]=45,t[e[46]="VIDEO_JITTER_BUFFER_MS"]=46,t[e[47]="VIDEO_DISCARDED_PPS"]=47,t[e[48]="VIDEO_PLIS_SENT"]=48,t[e[49]="VIDEO_RECEIVED_JITTER_MS"]=49,t[e[64]="VIDEO_ENCODE_HEIGHT"]=64,t[e[66]="VIDEO_SENT_QP_SUM"]=66,t[e[69]="VIDEO_DECODE_HEIGHT"]=69,t[e[72]="VIDEO_RECEIVED_QP_SUM"]=72,t[e[86]="VIDEO_ENCODE_WIDTH"]=86,t[e[87]="VIDEO_DECODE_WIDTH"]=87,t[e[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,t[e[89]="VIDEO_DECODER_IS_HARDWARE"]=89,t}(),e}(),l.SdkStreamMetricFrame=function(){function e(e){if(this.metrics=[],this.dimensions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.streamId=0,e.prototype.groupId=0,e.prototype.metrics=c.emptyArray,e.prototype.dimensions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),null!=e.metrics&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)l.SdkMetric.encode(e.metrics[r],t.uint32(42).fork()).ldelim();if(null!=e.dimensions&&e.dimensions.length)for(r=0;r<e.dimensions.length;++r)l.SdkStreamDimension.encode(e.dimensions[r],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkStreamMetricFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 3:i.streamId=e.uint32();break;case 4:i.groupId=e.uint32();break;case 5:i.metrics&&i.metrics.length||(i.metrics=[]),i.metrics.push(l.SdkMetric.decode(e,e.uint32()));break;case 6:i.dimensions&&i.dimensions.length||(i.dimensions=[]),i.dimensions.push(l.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t)if(r=l.SdkMetric.verify(e.metrics[t]))return"metrics."+r}if(null!=e.dimensions&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(t=0;t<e.dimensions.length;++t){var r;if(r=l.SdkStreamDimension.verify(e.dimensions[t]))return"dimensions."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkStreamMetricFrame)return e;var t=new l.SdkStreamMetricFrame;if(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if("object"!=typeof e.metrics[r])throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[r]=l.SdkMetric.fromObject(e.metrics[r])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");for(t.dimensions=[],r=0;r<e.dimensions.length;++r){if("object"!=typeof e.dimensions[r])throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[r]=l.SdkStreamDimension.fromObject(e.dimensions[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[],r.dimensions=[]),t.defaults&&(r.streamId=0,r.groupId=0),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),e.metrics&&e.metrics.length){r.metrics=[];for(var i=0;i<e.metrics.length;++i)r.metrics[i]=l.SdkMetric.toObject(e.metrics[i],t)}if(e.dimensions&&e.dimensions.length)for(r.dimensions=[],i=0;i<e.dimensions.length;++i)r.dimensions[i]=l.SdkStreamDimension.toObject(e.dimensions[i],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkClientMetricFrame=function(){function e(e){if(this.globalMetrics=[],this.streamMetricFrames=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.globalMetrics=c.emptyArray,e.prototype.streamMetricFrames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.globalMetrics&&e.globalMetrics.length)for(var r=0;r<e.globalMetrics.length;++r)l.SdkMetric.encode(e.globalMetrics[r],t.uint32(10).fork()).ldelim();if(null!=e.streamMetricFrames&&e.streamMetricFrames.length)for(r=0;r<e.streamMetricFrames.length;++r)l.SdkStreamMetricFrame.encode(e.streamMetricFrames[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkClientMetricFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.globalMetrics&&i.globalMetrics.length||(i.globalMetrics=[]),i.globalMetrics.push(l.SdkMetric.decode(e,e.uint32()));break;case 2:i.streamMetricFrames&&i.streamMetricFrames.length||(i.streamMetricFrames=[]),i.streamMetricFrames.push(l.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.globalMetrics&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t)if(r=l.SdkMetric.verify(e.globalMetrics[t]))return"globalMetrics."+r}if(null!=e.streamMetricFrames&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(t=0;t<e.streamMetricFrames.length;++t){var r;if(r=l.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]))return"streamMetricFrames."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkClientMetricFrame)return e;var t=new l.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r){if("object"!=typeof e.globalMetrics[r])throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[r]=l.SdkMetric.fromObject(e.globalMetrics[r])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");for(t.streamMetricFrames=[],r=0;r<e.streamMetricFrames.length;++r){if("object"!=typeof e.streamMetricFrames[r])throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[r]=l.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.globalMetrics=[],r.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){r.globalMetrics=[];for(var i=0;i<e.globalMetrics.length;++i)r.globalMetrics[i]=l.SdkMetric.toObject(e.globalMetrics[i],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length)for(r.streamMetricFrames=[],i=0;i<e.streamMetricFrames.length;++i)r.streamMetricFrames[i]=l.SdkStreamMetricFrame.toObject(e.streamMetricFrames[i],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkStreamDimension=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=1,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&l.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkStreamDimension;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.type=e.int32();break;case 2:i.value=l.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}if(null!=e.value&&e.hasOwnProperty("value")){var t=l.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof l.SdkStreamDimension)return e;var t=new l.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".SdkStreamDimension.value: object expected");t.value=l.SdkDimensionValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type=t.enums===String?"VIDEO_ENCODER_NAME":1,r.value=null),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkStreamDimension.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(r.value=l.SdkDimensionValue.toObject(e.value,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ENCODER_NAME"]=1,t[e[2]="VIDEO_DECODER_NAME"]=2,t}(),e}(),l.SdkDimensionValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.stringValue="",e.prototype.boolValue=!1,e.prototype.uintValue=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.uintValue&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkDimensionValue;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.stringValue=e.string();break;case 2:i.boolValue=e.bool();break;case 3:i.uintValue=e.uint64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!c.isString(e.stringValue)?"stringValue: string expected":null!=e.boolValue&&e.hasOwnProperty("boolValue")&&"boolean"!=typeof e.boolValue?"boolValue: boolean expected":null!=e.uintValue&&e.hasOwnProperty("uintValue")&&!(c.isInteger(e.uintValue)||e.uintValue&&c.isInteger(e.uintValue.low)&&c.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},e.fromObject=function(e){if(e instanceof l.SdkDimensionValue)return e;var t=new l.SdkDimensionValue;return null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.uintValue&&(c.Long?(t.uintValue=c.Long.fromValue(e.uintValue)).unsigned=!0:"string"==typeof e.uintValue?t.uintValue=parseInt(e.uintValue,10):"number"==typeof e.uintValue?t.uintValue=e.uintValue:"object"==typeof e.uintValue&&(t.uintValue=new c.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults)if(r.stringValue="",r.boolValue=!1,c.Long){var i=new c.Long(0,0,!0);r.uintValue=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.uintValue=t.longs===String?"0":0;return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue),null!=e.uintValue&&e.hasOwnProperty("uintValue")&&("number"==typeof e.uintValue?r.uintValue=t.longs===String?String(e.uintValue):e.uintValue:r.uintValue=t.longs===String?c.Long.prototype.toString.call(e.uintValue):t.longs===Number?new c.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkDataMessageFrame=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.messages=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.messages&&e.messages.length)for(var r=0;r<e.messages.length;++r)l.SdkDataMessagePayload.encode(e.messages[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkDataMessageFrame;e.pos<r;){var n=e.uint32();n>>>3==1?(i.messages&&i.messages.length||(i.messages=[]),i.messages.push(l.SdkDataMessagePayload.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var r=l.SdkDataMessagePayload.verify(e.messages[t]);if(r)return"messages."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkDataMessageFrame)return e;var t=new l.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var r=0;r<e.messages.length;++r){if("object"!=typeof e.messages[r])throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[r]=l.SdkDataMessagePayload.fromObject(e.messages[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.messages=[]),e.messages&&e.messages.length){r.messages=[];for(var i=0;i<e.messages.length;++i)r.messages[i]=l.SdkDataMessagePayload.toObject(e.messages[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkDataMessagePayload=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.topic="",e.prototype.data=c.newBuffer([]),e.prototype.lifetimeMs=0,e.prototype.senderAttendeeId="",e.prototype.ingestTimeNs=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.senderExternalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.topic&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.lifetimeMs&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),null!=e.senderAttendeeId&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),null!=e.ingestTimeNs&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),null!=e.senderExternalUserId&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkDataMessagePayload;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.topic=e.string();break;case 2:i.data=e.bytes();break;case 3:i.lifetimeMs=e.uint32();break;case 4:i.senderAttendeeId=e.string();break;case 5:i.ingestTimeNs=e.int64();break;case 6:i.senderExternalUserId=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.topic&&e.hasOwnProperty("topic")&&!c.isString(e.topic)?"topic: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&!c.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&!c.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&!(c.isInteger(e.ingestTimeNs)||e.ingestTimeNs&&c.isInteger(e.ingestTimeNs.low)&&c.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&!c.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkDataMessagePayload)return e;var t=new l.SdkDataMessagePayload;return null!=e.topic&&(t.topic=String(e.topic)),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.lifetimeMs&&(t.lifetimeMs=e.lifetimeMs>>>0),null!=e.senderAttendeeId&&(t.senderAttendeeId=String(e.senderAttendeeId)),null!=e.ingestTimeNs&&(c.Long?(t.ingestTimeNs=c.Long.fromValue(e.ingestTimeNs)).unsigned=!1:"string"==typeof e.ingestTimeNs?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):"number"==typeof e.ingestTimeNs?t.ingestTimeNs=e.ingestTimeNs:"object"==typeof e.ingestTimeNs&&(t.ingestTimeNs=new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),null!=e.senderExternalUserId&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.topic="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=c.newBuffer(r.data))),r.lifetimeMs=0,r.senderAttendeeId="",c.Long){var i=new c.Long(0,0,!1);r.ingestTimeNs=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.ingestTimeNs=t.longs===String?"0":0;r.senderExternalUserId=""}return null!=e.topic&&e.hasOwnProperty("topic")&&(r.topic=e.topic),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&(r.lifetimeMs=e.lifetimeMs),null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&(r.senderAttendeeId=e.senderAttendeeId),null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&("number"==typeof e.ingestTimeNs?r.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:r.ingestTimeNs=t.longs===String?c.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&(r.senderExternalUserId=e.senderExternalUserId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTurnCredentials=function(){function e(e){if(this.uris=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.username="",e.prototype.password="",e.prototype.ttl=0,e.prototype.uris=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),null!=e.uris&&e.uris.length)for(var r=0;r<e.uris.length;++r)t.uint32(34).string(e.uris[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTurnCredentials;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.username=e.string();break;case 2:i.password=e.string();break;case 3:i.ttl=e.uint32();break;case 4:i.uris&&i.uris.length||(i.uris=[]),i.uris.push(e.string());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username))return"username: string expected";if(null!=e.password&&e.hasOwnProperty("password")&&!c.isString(e.password))return"password: string expected";if(null!=e.ttl&&e.hasOwnProperty("ttl")&&!c.isInteger(e.ttl))return"ttl: integer expected";if(null!=e.uris&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!c.isString(e.uris[t]))return"uris: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.SdkTurnCredentials)return e;var t=new l.SdkTurnCredentials;if(null!=e.username&&(t.username=String(e.username)),null!=e.password&&(t.password=String(e.password)),null!=e.ttl&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var r=0;r<e.uris.length;++r)t.uris[r]=String(e.uris[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.uris=[]),t.defaults&&(r.username="",r.password="",r.ttl=0),null!=e.username&&e.hasOwnProperty("username")&&(r.username=e.username),null!=e.password&&e.hasOwnProperty("password")&&(r.password=e.password),null!=e.ttl&&e.hasOwnProperty("ttl")&&(r.ttl=e.ttl),e.uris&&e.uris.length){r.uris=[];for(var i=0;i<e.uris.length;++i)r.uris[i]=e.uris[i]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptItem=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.content="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.speakerAttendeeId="",e.prototype.speakerExternalUserId="",e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.type=1,e.prototype.vocabularyFilterMatch=!1,e.prototype.confidence=0,e.prototype.stable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),null!=e.speakerAttendeeId&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),null!=e.speakerExternalUserId&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),null!=e.vocabularyFilterMatch&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),null!=e.stable&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptItem;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.content=e.string();break;case 2:i.endTime=e.int64();break;case 3:i.speakerAttendeeId=e.string();break;case 4:i.speakerExternalUserId=e.string();break;case 5:i.startTime=e.int64();break;case 6:i.type=e.int32();break;case 7:i.vocabularyFilterMatch=e.bool();break;case 8:i.confidence=e.double();break;case 9:i.stable=e.bool();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.content&&e.hasOwnProperty("content")&&!c.isString(e.content))return"content: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&!c.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&!c.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&"boolean"!=typeof e.vocabularyFilterMatch?"vocabularyFilterMatch: boolean expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null!=e.stable&&e.hasOwnProperty("stable")&&"boolean"!=typeof e.stable?"stable: boolean expected":null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptItem)return e;var t=new l.SdkTranscriptItem;switch(null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.speakerAttendeeId&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),null!=e.speakerExternalUserId&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2}return null!=e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.stable&&(t.stable=Boolean(e.stable)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.content="",c.Long){var i=new c.Long(0,0,!1);r.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.endTime=t.longs===String?"0":0;r.speakerAttendeeId="",r.speakerExternalUserId="",c.Long?(i=new c.Long(0,0,!1),r.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):r.startTime=t.longs===String?"0":0,r.type=t.enums===String?"PRONUNCIATION":1,r.vocabularyFilterMatch=!1,r.confidence=0,r.stable=!1}return null!=e.content&&e.hasOwnProperty("content")&&(r.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&(r.speakerAttendeeId=e.speakerAttendeeId),null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&(r.speakerExternalUserId=e.speakerExternalUserId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkTranscriptItem.Type[e.type]:e.type),null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&(r.vocabularyFilterMatch=e.vocabularyFilterMatch),null!=e.confidence&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.stable&&e.hasOwnProperty("stable")&&(r.stable=e.stable),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="PRONUNCIATION"]=1,t[e[2]="PUNCTUATION"]=2,t}(),e}(),l.SdkTranscriptEntity=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.category="",e.prototype.confidence=0,e.prototype.content="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.category&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptEntity;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.category=e.string();break;case 2:i.confidence=e.double();break;case 3:i.content=e.string();break;case 4:i.endTime=e.int64();break;case 5:i.startTime=e.int64();break;case 6:i.type=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.category&&e.hasOwnProperty("category")&&!c.isString(e.category)?"category: string expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null!=e.content&&e.hasOwnProperty("content")&&!c.isString(e.content)?"content: string expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high))?"endTime: integer|Long expected":null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high))?"startTime: integer|Long expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptEntity)return e;var t=new l.SdkTranscriptEntity;return null!=e.category&&(t.category=String(e.category)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.category="",r.confidence=0,r.content="",c.Long){var i=new c.Long(0,0,!1);r.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.endTime=t.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),r.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):r.startTime=t.longs===String?"0":0,r.type=""}return null!=e.category&&e.hasOwnProperty("category")&&(r.category=e.category),null!=e.confidence&&e.hasOwnProperty("confidence")&&(r.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.content&&e.hasOwnProperty("content")&&(r.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptAlternative=function(){function e(e){if(this.items=[],this.entities=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.items=c.emptyArray,e.prototype.transcript="",e.prototype.entities=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.items&&e.items.length)for(var r=0;r<e.items.length;++r)l.SdkTranscriptItem.encode(e.items[r],t.uint32(10).fork()).ldelim();if(null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),null!=e.entities&&e.entities.length)for(r=0;r<e.entities.length;++r)l.SdkTranscriptEntity.encode(e.entities[r],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptAlternative;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.items&&i.items.length||(i.items=[]),i.items.push(l.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:i.transcript=e.string();break;case 3:i.entities&&i.entities.length||(i.entities=[]),i.entities.push(l.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t)if(r=l.SdkTranscriptItem.verify(e.items[t]))return"items."+r}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&!c.isString(e.transcript))return"transcript: string expected";if(null!=e.entities&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(t=0;t<e.entities.length;++t){var r;if(r=l.SdkTranscriptEntity.verify(e.entities[t]))return"entities."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptAlternative)return e;var t=new l.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var r=0;r<e.items.length;++r){if("object"!=typeof e.items[r])throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[r]=l.SdkTranscriptItem.fromObject(e.items[r])}}if(null!=e.transcript&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");for(t.entities=[],r=0;r<e.entities.length;++r){if("object"!=typeof e.entities[r])throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[r]=l.SdkTranscriptEntity.fromObject(e.entities[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.items=[],r.entities=[]),t.defaults&&(r.transcript=""),e.items&&e.items.length){r.items=[];for(var i=0;i<e.items.length;++i)r.items[i]=l.SdkTranscriptItem.toObject(e.items[i],t)}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&(r.transcript=e.transcript),e.entities&&e.entities.length)for(r.entities=[],i=0;i<e.entities.length;++i)r.entities[i]=l.SdkTranscriptEntity.toObject(e.entities[i],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptLanguageWithScore=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.languageCode="",e.prototype.score=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptLanguageWithScore;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.languageCode=e.string();break;case 2:i.score=e.double();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!c.isString(e.languageCode)?"languageCode: string expected":null!=e.score&&e.hasOwnProperty("score")&&"number"!=typeof e.score?"score: number expected":null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptLanguageWithScore)return e;var t=new l.SdkTranscriptLanguageWithScore;return null!=e.languageCode&&(t.languageCode=String(e.languageCode)),null!=e.score&&(t.score=Number(e.score)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.languageCode="",r.score=0),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),null!=e.score&&e.hasOwnProperty("score")&&(r.score=t.json&&!isFinite(e.score)?String(e.score):e.score),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptResult=function(){function e(e){if(this.alternatives=[],this.languageIdentification=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.alternatives=c.emptyArray,e.prototype.channelId="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.isPartial=!1,e.prototype.resultId="",e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.languageCode="",e.prototype.languageIdentification=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.alternatives&&e.alternatives.length)for(var r=0;r<e.alternatives.length;++r)l.SdkTranscriptAlternative.encode(e.alternatives[r],t.uint32(10).fork()).ldelim();if(null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),null!=e.isPartial&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),null!=e.resultId&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),null!=e.languageIdentification&&e.languageIdentification.length)for(r=0;r<e.languageIdentification.length;++r)l.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[r],t.uint32(66).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptResult;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.alternatives&&i.alternatives.length||(i.alternatives=[]),i.alternatives.push(l.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:i.channelId=e.string();break;case 3:i.endTime=e.int64();break;case 4:i.isPartial=e.bool();break;case 5:i.resultId=e.string();break;case 6:i.startTime=e.int64();break;case 7:i.languageCode=e.string();break;case 8:i.languageIdentification&&i.languageIdentification.length||(i.languageIdentification=[]),i.languageIdentification.push(l.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.alternatives&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t)if(r=l.SdkTranscriptAlternative.verify(e.alternatives[t]))return"alternatives."+r}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.isPartial&&e.hasOwnProperty("isPartial")&&"boolean"!=typeof e.isPartial)return"isPartial: boolean expected";if(null!=e.resultId&&e.hasOwnProperty("resultId")&&!c.isString(e.resultId))return"resultId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!c.isString(e.languageCode))return"languageCode: string expected";if(null!=e.languageIdentification&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(t=0;t<e.languageIdentification.length;++t){var r;if(r=l.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]))return"languageIdentification."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptResult)return e;var t=new l.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var r=0;r<e.alternatives.length;++r){if("object"!=typeof e.alternatives[r])throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[r]=l.SdkTranscriptAlternative.fromObject(e.alternatives[r])}}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.isPartial&&(t.isPartial=Boolean(e.isPartial)),null!=e.resultId&&(t.resultId=String(e.resultId)),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.languageCode&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");for(t.languageIdentification=[],r=0;r<e.languageIdentification.length;++r){if("object"!=typeof e.languageIdentification[r])throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[r]=l.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.alternatives=[],r.languageIdentification=[]),t.defaults){if(r.channelId="",c.Long){var i=new c.Long(0,0,!1);r.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.endTime=t.longs===String?"0":0;r.isPartial=!1,r.resultId="",c.Long?(i=new c.Long(0,0,!1),r.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):r.startTime=t.longs===String?"0":0,r.languageCode=""}if(e.alternatives&&e.alternatives.length){r.alternatives=[];for(var n=0;n<e.alternatives.length;++n)r.alternatives[n]=l.SdkTranscriptAlternative.toObject(e.alternatives[n],t)}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&(r.channelId=e.channelId),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?r.endTime=t.longs===String?String(e.endTime):e.endTime:r.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.isPartial&&e.hasOwnProperty("isPartial")&&(r.isPartial=e.isPartial),null!=e.resultId&&e.hasOwnProperty("resultId")&&(r.resultId=e.resultId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?r.startTime=t.longs===String?String(e.startTime):e.startTime:r.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(r.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length)for(r.languageIdentification=[],n=0;n<e.languageIdentification.length;++n)r.languageIdentification[n]=l.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[n],t);return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscript=function(){function e(e){if(this.results=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.results=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.results&&e.results.length)for(var r=0;r<e.results.length;++r)l.SdkTranscriptResult.encode(e.results[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscript;e.pos<r;){var n=e.uint32();n>>>3==1?(i.results&&i.results.length||(i.results=[]),i.results.push(l.SdkTranscriptResult.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var r=l.SdkTranscriptResult.verify(e.results[t]);if(r)return"results."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkTranscript)return e;var t=new l.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var r=0;r<e.results.length;++r){if("object"!=typeof e.results[r])throw TypeError(".SdkTranscript.results: object expected");t.results[r]=l.SdkTranscriptResult.fromObject(e.results[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.results=[]),e.results&&e.results.length){r.results=[];for(var i=0;i<e.results.length;++i)r.results[i]=l.SdkTranscriptResult.toObject(e.results[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptionStatus=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=1,e.prototype.eventTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.transcriptionRegion="",e.prototype.transcriptionConfiguration="",e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.eventTime&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),null!=e.transcriptionRegion&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),null!=e.transcriptionConfiguration&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptionStatus;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.type=e.int32();break;case 2:i.eventTime=e.int64();break;case 3:i.transcriptionRegion=e.string();break;case 4:i.transcriptionConfiguration=e.string();break;case 5:i.message=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.eventTime&&e.hasOwnProperty("eventTime")&&!(c.isInteger(e.eventTime)||e.eventTime&&c.isInteger(e.eventTime.low)&&c.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&!c.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&!c.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptionStatus)return e;var t=new l.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5}return null!=e.eventTime&&(c.Long?(t.eventTime=c.Long.fromValue(e.eventTime)).unsigned=!1:"string"==typeof e.eventTime?t.eventTime=parseInt(e.eventTime,10):"number"==typeof e.eventTime?t.eventTime=e.eventTime:"object"==typeof e.eventTime&&(t.eventTime=new c.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),null!=e.transcriptionRegion&&(t.transcriptionRegion=String(e.transcriptionRegion)),null!=e.transcriptionConfiguration&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(r.type=t.enums===String?"STARTED":1,c.Long){var i=new c.Long(0,0,!1);r.eventTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.eventTime=t.longs===String?"0":0;r.transcriptionRegion="",r.transcriptionConfiguration="",r.message=""}return null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.SdkTranscriptionStatus.Type[e.type]:e.type),null!=e.eventTime&&e.hasOwnProperty("eventTime")&&("number"==typeof e.eventTime?r.eventTime=t.longs===String?String(e.eventTime):e.eventTime:r.eventTime=t.longs===String?c.Long.prototype.toString.call(e.eventTime):t.longs===Number?new c.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&(r.transcriptionRegion=e.transcriptionRegion),null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&(r.transcriptionConfiguration=e.transcriptionConfiguration),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="STARTED"]=1,t[e[2]="INTERRUPTED"]=2,t[e[3]="RESUMED"]=3,t[e[4]="STOPPED"]=4,t[e[5]="FAILED"]=5,t}(),e}(),l.SdkTranscriptEvent=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.status=null,e.prototype.transcript=null,Object.defineProperty(e.prototype,"Event",{get:c.oneOfGetter(t=["status","transcript"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&l.SdkTranscriptionStatus.encode(e.status,t.uint32(10).fork()).ldelim(),null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&l.SdkTranscript.encode(e.transcript,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptEvent;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.status=l.SdkTranscriptionStatus.decode(e,e.uint32());break;case 2:i.transcript=l.SdkTranscript.decode(e,e.uint32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.status&&e.hasOwnProperty("status")&&(t.Event=1,r=l.SdkTranscriptionStatus.verify(e.status)))return"status."+r;if(null!=e.transcript&&e.hasOwnProperty("transcript")){if(1===t.Event)return"Event: multiple values";var r;if(t.Event=1,r=l.SdkTranscript.verify(e.transcript))return"transcript."+r}return null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptEvent)return e;var t=new l.SdkTranscriptEvent;if(null!=e.status){if("object"!=typeof e.status)throw TypeError(".SdkTranscriptEvent.status: object expected");t.status=l.SdkTranscriptionStatus.fromObject(e.status)}if(null!=e.transcript){if("object"!=typeof e.transcript)throw TypeError(".SdkTranscriptEvent.transcript: object expected");t.transcript=l.SdkTranscript.fromObject(e.transcript)}return t},e.toObject=function(e,t){t||(t={});var r={};return null!=e.status&&e.hasOwnProperty("status")&&(r.status=l.SdkTranscriptionStatus.toObject(e.status,t),t.oneofs&&(r.Event="status")),null!=e.transcript&&e.hasOwnProperty("transcript")&&(r.transcript=l.SdkTranscript.toObject(e.transcript,t),t.oneofs&&(r.Event="transcript")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkTranscriptFrame=function(){function e(e){if(this.events=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.events=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.events&&e.events.length)for(var r=0;r<e.events.length;++r)l.SdkTranscriptEvent.encode(e.events[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkTranscriptFrame;e.pos<r;){var n=e.uint32();n>>>3==1?(i.events&&i.events.length||(i.events=[]),i.events.push(l.SdkTranscriptEvent.decode(e,e.uint32()))):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=l.SdkTranscriptEvent.verify(e.events[t]);if(r)return"events."+r}}return null},e.fromObject=function(e){if(e instanceof l.SdkTranscriptFrame)return e;var t=new l.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if("object"!=typeof e.events[r])throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[r]=l.SdkTranscriptEvent.fromObject(e.events[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.events=[]),e.events&&e.events.length){r.events=[];for(var i=0;i<e.events.length;++i)r.events[i]=l.SdkTranscriptEvent.toObject(e.events[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkRemoteVideoUpdateFrame=function(){function e(e){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.addedOrUpdatedVideoSubscriptions=c.emptyArray,e.prototype.removedVideoSubscriptionMids=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length)for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)l.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[r],t.uint32(10).fork()).ldelim();if(null!=e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length)for(r=0;r<e.removedVideoSubscriptionMids.length;++r)t.uint32(18).string(e.removedVideoSubscriptionMids[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkRemoteVideoUpdateFrame;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.addedOrUpdatedVideoSubscriptions&&i.addedOrUpdatedVideoSubscriptions.length||(i.addedOrUpdatedVideoSubscriptions=[]),i.addedOrUpdatedVideoSubscriptions.push(l.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:i.removedVideoSubscriptionMids&&i.removedVideoSubscriptionMids.length||(i.removedVideoSubscriptionMids=[]),i.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.addedOrUpdatedVideoSubscriptions&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var r=l.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(r)return"addedOrUpdatedVideoSubscriptions."+r}}if(null!=e.removedVideoSubscriptionMids&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!c.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.SdkRemoteVideoUpdateFrame)return e;var t=new l.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r){if("object"!=typeof e.addedOrUpdatedVideoSubscriptions[r])throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[r]=l.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[r])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");for(t.removedVideoSubscriptionMids=[],r=0;r<e.removedVideoSubscriptionMids.length;++r)t.removedVideoSubscriptionMids[r]=String(e.removedVideoSubscriptionMids[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.addedOrUpdatedVideoSubscriptions=[],r.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){r.addedOrUpdatedVideoSubscriptions=[];for(var i=0;i<e.addedOrUpdatedVideoSubscriptions.length;++i)r.addedOrUpdatedVideoSubscriptions[i]=l.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[i],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length)for(r.removedVideoSubscriptionMids=[],i=0;i<e.removedVideoSubscriptionMids.length;++i)r.removedVideoSubscriptionMids[i]=e.removedVideoSubscriptionMids[i];return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkVideoSubscriptionConfiguration=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mid="",e.prototype.attendeeId="",e.prototype.streamId=0,e.prototype.priority=0,e.prototype.targetBitrateKbps=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t.uint32(10).string(e.mid),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),null!=e.targetBitrateKbps&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkVideoSubscriptionConfiguration;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.mid=e.string();break;case 2:i.attendeeId=e.string();break;case 3:i.streamId=e.uint32();break;case 4:i.priority=e.uint32();break;case 5:i.targetBitrateKbps=e.uint32();break;case 6:i.groupId=e.uint32();break;default:e.skipType(7&n)}}if(!i.hasOwnProperty("mid"))throw c.ProtocolError("missing required 'mid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":c.isString(e.mid)?null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.priority&&e.hasOwnProperty("priority")&&!c.isInteger(e.priority)?"priority: integer expected":null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&!c.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},e.fromObject=function(e){if(e instanceof l.SdkVideoSubscriptionConfiguration)return e;var t=new l.SdkVideoSubscriptionConfiguration;return null!=e.mid&&(t.mid=String(e.mid)),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.priority&&(t.priority=e.priority>>>0),null!=e.targetBitrateKbps&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.mid="",r.attendeeId="",r.streamId=0,r.priority=0,r.targetBitrateKbps=0,r.groupId=0),null!=e.mid&&e.hasOwnProperty("mid")&&(r.mid=e.mid),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.priority&&e.hasOwnProperty("priority")&&(r.priority=e.priority),null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&(r.targetBitrateKbps=e.targetBitrateKbps),null!=e.groupId&&e.hasOwnProperty("groupId")&&(r.groupId=e.groupId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkPrimaryMeetingJoinFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.credentials=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.credentials&&Object.hasOwnProperty.call(e,"credentials")&&l.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkPrimaryMeetingJoinFrame;e.pos<r;){var n=e.uint32();n>>>3==1?i.credentials=l.SdkMeetingSessionCredentials.decode(e,e.uint32()):e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.credentials&&e.hasOwnProperty("credentials")){var t=l.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},e.fromObject=function(e){if(e instanceof l.SdkPrimaryMeetingJoinFrame)return e;var t=new l.SdkPrimaryMeetingJoinFrame;if(null!=e.credentials){if("object"!=typeof e.credentials)throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=l.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.credentials=null),null!=e.credentials&&e.hasOwnProperty("credentials")&&(r.credentials=l.SdkMeetingSessionCredentials.toObject(e.credentials,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkPrimaryMeetingJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkPrimaryMeetingJoinAckFrame;e.pos<r;){var n=e.uint32();e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.SdkPrimaryMeetingJoinAckFrame?e:new l.SdkPrimaryMeetingJoinAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkPrimaryMeetingLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkPrimaryMeetingLeaveFrame;e.pos<r;){var n=e.uint32();e.skipType(7&n)}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.SdkPrimaryMeetingLeaveFrame?e:new l.SdkPrimaryMeetingLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkMeetingSessionCredentials=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attendeeId="",e.prototype.externalUserId="",e.prototype.joinToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),null!=e.joinToken&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new l.SdkMeetingSessionCredentials;e.pos<r;){var n=e.uint32();switch(n>>>3){case 1:i.attendeeId=e.string();break;case 2:i.externalUserId=e.string();break;case 3:i.joinToken=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null!=e.joinToken&&e.hasOwnProperty("joinToken")&&!c.isString(e.joinToken)?"joinToken: string expected":null},e.fromObject=function(e){if(e instanceof l.SdkMeetingSessionCredentials)return e;var t=new l.SdkMeetingSessionCredentials;return null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.joinToken&&(t.joinToken=String(e.joinToken)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.attendeeId="",r.externalUserId="",r.joinToken=""),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(r.attendeeId=e.attendeeId),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(r.externalUserId=e.externalUserId),null!=e.joinToken&&e.hasOwnProperty("joinToken")&&(r.joinToken=e.joinToken),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),l.SdkVideoCodecCapability=function(){var e={},t=Object.create(e);return t[e[1]="VP8"]=1,t[e[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,t}(),e.exports=l,c.Long=void 0,o.configure()},3429:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9387),o=r(6145),s=r(8495);t.default=class{constructor(e){this.chimeClient=e}makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const r=new n.Sha256(t);return r.update(e),r.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,r,n){return i(this,void 0,void 0,(function*(){const i=yield this.hmac(t,"AWS4"+e),o=yield this.hmac(r,i),s=yield this.hmac(n,o);return yield this.hmac("aws4_request",s)}))}signURL(e,t,r,n,a,c,l){return i(this,void 0,void 0,(function*(){const i=this.getDateTimeString(),d=this.getDateString(i);let u="";u=this.chimeClient.config.region instanceof Function?yield this.chimeClient.config.region():this.chimeClient.config.region;const h="host:"+n.toLowerCase()+"\n",p=d+"/"+u+"/"+r+"/aws4_request";let m;m=this.chimeClient.config.credentials instanceof Function?yield this.chimeClient.config.credentials():this.chimeClient.config.credentials;let f=new Map;f.set("X-Amz-Algorithm",["AWS4-HMAC-SHA256"]),f.set("X-Amz-Credential",[encodeURIComponent(m.accessKeyId+"/"+p)]),f.set("X-Amz-Date",[i]),f.set("X-Amz-Expires",["10"]),f.set("X-Amz-SignedHeaders",["host"]),m.sessionToken&&f.set("X-Amz-Security-Token",[encodeURIComponent(m.sessionToken)]),f.set(s.default.X_AMZN_VERSION,[encodeURIComponent(s.default.sdkVersion)]),f.set(s.default.X_AMZN_USER_AGENT,[encodeURIComponent(s.default.sdkUserAgentLowResolution)]),null==l||l.forEach(((e,t)=>{const r=encodeURIComponent(t);e.sort().forEach((e=>{f.has(r)||f.set(r,[]),f.get(r).push(encodeURIComponent(e))}))}));let g="";f=new Map([...f.entries()].sort()),f.forEach(((e,t)=>{e.forEach((e=>{g.length&&(g+="&"),g+=t+"="+e}))}));const b=e+"\n"+a+"\n"+g+"\n"+h+"\nhost\n"+o.toHex(yield this.hmac(c)),v=o.toHex(yield this.hmac(b)),y="AWS4-HMAC-SHA256\n"+i+"\n"+d+"/"+u+"/"+r+"/aws4_request\n"+v,w=yield this.getSignatureKey(m.secretAccessKey,d,u,r),S=o.toHex(yield this.hmac(y,w));return t+"://"+n+a+"?"+g+"&X-Amz-Signature="+S}))}}},1546:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SimulcastLayers=void 0,function(e){e[e.Low=0]="Low",e[e.LowAndMedium=1]="LowAndMedium",e[e.LowAndHigh=2]="LowAndHigh",e[e.Medium=3]="Medium",e[e.MediumAndHigh=4]="MediumAndHigh",e[e.High=5]="High"}(r=t.SimulcastLayers||(t.SimulcastLayers={})),t.default=r},7595:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioLogEvent=void 0,function(e){e[e.DeviceChanged=0]="DeviceChanged",e[e.MutedLocal=1]="MutedLocal",e[e.UnmutedLocal=2]="UnmutedLocal",e[e.Connected=3]="Connected",e[e.ConnectFailed=4]="ConnectFailed",e[e.RedmicStartLoss=5]="RedmicStartLoss",e[e.RedmicEndLoss=6]="RedmicEndLoss"}(r=t.AudioLogEvent||(t.AudioLogEvent={})),t.default=r},3081:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7057),o=r(171),s=r(7957),a=r(7562),c=r(6454),l=r(5702),d=r(2378),u=r(8330),h=r(2019),p=r(7595),m=r(7212);class f{constructor(e,t,r=f.INTERVAL_MS){this.audioVideoController=e,this.logger=t,this.interval=r,this.intervalScheduler=null,this.metricsAddTime=(e,t,r)=>{},this.metricsLogEvent=(e,t)=>{}}toAttribute(e){return this.toSuffix(e).substring(1)}toSuffix(e){return e.toLowerCase()===e?`_${e}`:e.toUpperCase()===e?`_${e.toLowerCase()}`:e.replace(/([A-Z][a-z]+)/g,(function(e){return`_${e}`})).replace(/([A-Z][A-Z]+)/g,(function(e){return`_${e}`})).toLowerCase()}logLatency(e,t,r){const i=this.toSuffix(e);this.logEventTime("meeting"+i,t,r)}logStateTimeout(e,t){const r=this.toSuffix(e);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},t),{state:`state${r}`}))}logAudioEvent(e,t){const r="audio"+this.toSuffix(p.default[e]);this.logEvent(r,t)}logVideoEvent(e,t){const r="video"+this.toSuffix(m.default[e]);this.logEvent(r,t)}logEventTime(e,t,r={}){const i=Object.assign(Object.assign({},r),{call_id:this.audioVideoController.configuration.meetingId,client_type:f.CLIENT_TYPE,metric_type:"latency"});this.logger.debug((()=>`[StatsCollector] ${e}: ${JSON.stringify(i)}`)),this.metricsAddTime(e,t,i)}logMeetingSessionStatus(e){const t=`${e.statusCode()}`;this.logEvent(t);const r={status:t,status_code:`${e.statusCode()}`};this.logEvent("meeting_session_status",r),e.isTerminal()&&this.logEvent("meeting_session_stopped",r),e.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",r),e.isFailure()&&this.logEvent("meeting_session_failed",r)}logLifecycleEvent(e,t){const r={lifecycle_event:`lifecycle${this.toSuffix(c.default[e])}`,lifecycle_event_code:`${e}`,lifecycle_event_condition:`condition${this.toSuffix(l.default[t])}`,lifecycle_event_condition_code:`${t}`};this.logEvent("meeting_session_lifecycle",r)}logEvent(e,t={}){const r=Object.assign(Object.assign({},t),{call_id:this.audioVideoController.configuration.meetingId,client_type:f.CLIENT_TYPE});this.logger.debug((()=>`[StatsCollector] ${e}: ${JSON.stringify(r)}`)),this.metricsLogEvent(e,r)}start(e,t){return!this.intervalScheduler&&(this.logger.info("Starting StatsCollector"),this.signalingClient=e,this.videoStreamIndex=t,this.clientMetricReport=new n.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new d.default(this.interval),this.intervalScheduler.start((()=>i(this,void 0,void 0,(function*(){yield this.getStatsWrapper()})))),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(e,t){const r=t?this.clientMetricReport.streamMetricReports[Number(e.ssrc)]:this.clientMetricReport.globalMetricReport;let i;i=t?this.clientMetricReport.getMetricMap(r.mediaType,r.direction):this.clientMetricReport.getMetricMap();for(const t in e)t in i&&("number"==typeof e[t]?(r.previousMetrics[t]=r.currentMetrics[t],r.currentMetrics[t]=e[t]):"string"==typeof e[t]?r.currentStringMetrics[t]=e[t]:this.logger.error(`Unknown metric value type ${typeof e[t]} for metric ${t}`))}processRawMetricReports(e){this.clientMetricReport.currentSsrcs={};const t=Date.now();for(const t of e){const e=this.isStreamRawMetricReport(t.type);if(e){const e=this.clientMetricReport.streamMetricReports[Number(t.ssrc)];if(e)e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc));else{const e=new a.default;e.mediaType=this.getMediaType(t),e.direction=this.getDirectionType(t),this.videoStreamIndex.allStreams().empty()||(e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc))),this.clientMetricReport.streamMetricReports[Number(t.ssrc)]=e}this.clientMetricReport.currentSsrcs[Number(t.ssrc)]=1}this.updateMetricValues(t,e)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=t,this.clientMetricReport.print()}addStreamMetricDimensionFrames(e,t){const r=this.clientMetricReport.getStreamDimensionMap();for(const i in t.currentStringMetrics)if(i in r){const n=u.SdkStreamDimension.create();n.type=r[i];const o=u.SdkDimensionValue.create();o.stringValue=t.currentStringMetrics[i],n.value=o,e.dimensions.push(n)}}addMetricFrame(e,t,r,i){const n=r.type,o=r.transform,s=r.source,a=t.streamMetricFrames.length,c=t.streamMetricFrames[a-1];if(n){const r=u.SdkMetric.create();r.type=n,r.value=o(s||e,i),i?c.metrics.push(r):t.globalMetrics.push(r)}}addGlobalMetricsToProtobuf(e){const t=this.clientMetricReport.getMetricMap();for(const r in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(r,e,t[r])}addStreamMetricsToProtobuf(e){for(const t in this.clientMetricReport.streamMetricReports){const r=this.clientMetricReport.streamMetricReports[t],i=u.SdkStreamMetricFrame.create();i.streamId=r.streamId,i.metrics=[],this.addStreamMetricDimensionFrames(i,r),e.streamMetricFrames.push(i);const n=this.clientMetricReport.getMetricMap(r.mediaType,r.direction);for(const i in r.currentMetrics)this.addMetricFrame(i,e,n[i],Number(t));for(const i in r.currentStringMetrics)this.addMetricFrame(i,e,n[i],Number(t))}}makeClientMetricProtobuf(){const e=u.SdkClientMetricFrame.create();return e.globalMetrics=[],e.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(e),this.addStreamMetricsToProtobuf(e),e}sendClientMetricProtobuf(e){this.signalingClient.sendClientMetrics(e)}isStreamRawMetricReport(e){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(e)}getMediaType(e){return"audio"===e.kind?s.default.AUDIO:s.default.VIDEO}getDirectionType(e){const{type:t}=e;return"inbound-rtp"===t||"remote-outbound-rtp"===t?o.default.DOWNSTREAM:o.default.UPSTREAM}isValidStandardRawMetric(e){return"inbound-rtp"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type||"remote-outbound-rtp"===e.type||"candidate-pair"===e.type&&"succeeded"===e.state}isValidSsrc(e){let t=!0;return this.isStreamRawMetricReport(e.type)&&this.getDirectionType(e)===o.default.DOWNSTREAM&&this.getMediaType(e)===s.default.VIDEO&&(t=this.videoStreamIndex.streamIdForSSRC(Number(e.ssrc))>0),t}isValidRawMetricReport(e){return this.isValidStandardRawMetric(e)&&this.isValidSsrc(e)}filterRawMetricReports(e){const t=[];for(const r of e)this.isValidRawMetricReport(r)&&t.push(r);return t}handleRawMetricReports(e){const t=this.filterRawMetricReports(e);this.logger.debug((()=>`Filtered raw metrics : ${JSON.stringify(t)}`)),this.processRawMetricReports(t);const r=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(r),this.audioVideoController.forEachObserver((e=>{h.Maybe.of(e.metricsDidReceive).map((t=>t.bind(e)(this.clientMetricReport.clone())))}))}getStatsWrapper(){return i(this,void 0,void 0,(function*(){if(!this.audioVideoController.rtcPeerConnection)return;const e=[];try{const t=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=t,t.forEach((t=>{e.push(t)})),this.handleRawMetricReports(e)}catch(e){this.logger.error(e.message)}}))}}t.default=f,f.INTERVAL_MS=1e3,f.CLIENT_TYPE="amazon-chime-sdk-js"},7212:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLogEvent=void 0,function(e){e[e.InputAttached=0]="InputAttached",e[e.SendingFailed=1]="SendingFailed",e[e.SendingSuccess=2]="SendingSuccess"}(r=t.VideoLogEvent||(t.VideoLogEvent={})),t.default=r},1722:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7212),o=r(1072);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="AttachMediaInputTask"}run(){return i(this,void 0,void 0,(function*(){const e=this.context.transceiverController;e.setPeer(this.context.peer),e.setupLocalTransceivers();const t=this.context.activeAudioInput;if(t){const r=t.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield e.setAudioInput(r.length?r[0]:null)}else yield e.setAudioInput(null),this.context.logger.info("no audio track");const r=this.context.activeVideoInput;if(r){const t=r.getVideoTracks(),i=t.length?t[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield e.setVideoInput(i),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const t=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();e.setEncodingParameters(t)}i&&(this.context.statsCollector.logVideoEvent(n.default.InputAttached,this.context.videoDeviceInformation),this.context.videoInputAttachedTimestampMs=Date.now())}else yield e.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=e.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)}))}}t.default=s},1072:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(6036),o=r(5049);t.default=class{constructor(e){this.logger=e,this.taskName="BaseTask",this.parentTask=null,this.status=o.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}once(...e){return new n.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(e){this.parentTask=e}getStatus(){return this.status}logAndThrow(e){throw this.logger.info(e),new Error(e)}baseRun(e){return i(this,void 0,void 0,(function*(){try{const t=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case o.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case o.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case o.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=o.default.RUNNING,yield e.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-t)} ms`)}catch(e){throw e}finally{this.status!==o.default.CANCELED&&(this.status=o.default.FINISHED)}}))}baseCancel(e){this.status!==o.default.CANCELED&&this.status!==o.default.FINISHED?(this.logger.info(`canceling task ${this.name()}`),this.status=o.default.CANCELED,e.call(this)):this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`)}}},6310:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1072);class o extends n.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanRestartedSessionTask"}run(){return i(this,void 0,void 0,(function*(){this.context.peer&&this.context.peer.close(),this.context.transceiverController.reset(),this.context.peer=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.videoUplinkBandwidthPolicy.reset&&this.context.videoUplinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.previousSdpOffer=null}))}}t.default=o},8861:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4123),o=r(1072);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(e){throw e}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.peer&&this.context.peer.close(),this.context.peer=null,this.context.sdpAnswer=null,this.context.sdpOfferInit=null,this.context.indexFrame=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.videoUplinkBandwidthPolicy.reset&&this.context.videoUplinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.turnCredentials=null,this.context.videoSubscriptions=null,this.context.transceiverController.reset(),this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const e=this.context.videoTileController.getLocalVideoTile();e&&e.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}}))}receiveWebSocketClosedEvent(){return new Promise(((e,t)=>{const r=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(t){t.type===n.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),e())}}(this.context.signalingClient);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)}))}}t.default=s},805:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1072);class o extends n.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=e=>{const t=e.track;if(this.context.logger.info(`received track event: kind=${t.kind} id=${t.id} label=${t.label}`),e.transceiver&&"inactive"===e.transceiver.currentDirection)return;if(0===e.streams.length)return void this.context.logger.warn("Track event but no stream");const r=e.streams[0];"audio"===t.kind?this.context.audioMixController.bindAudioStream(r):"video"!==t.kind||this.trackIsVideoInput(t)||this.addRemoteVideoTrack(t,r)}}removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const e in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[e]()}addPeerConnectionEventLogger(){const e=this.context.peer;e.addEventListener("connectionstatechange",(()=>{this.context.logger.info(`peer connection state changed: ${e.connectionState}`)})),e.addEventListener("negotiationneeded",(()=>{this.context.logger.info("peer connection negotiation is needed")})),e.addEventListener("icegatheringstatechange",(()=>{this.context.logger.info(`peer connection ice gathering state changed: ${e.iceGatheringState}`)})),e.addEventListener("icecandidate",(e=>{this.context.logger.info(`peer connection ice candidate: ${e.candidate?e.candidate.candidate:"(null)"}`)})),e.addEventListener("iceconnectionstatechange",(()=>{this.context.logger.info(`peer connection ice connection state changed: ${e.iceConnectionState}`)}))}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this);const e=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};e.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),e.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(e),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)}))}trackIsVideoInput(e){return!!this.context.transceiverController.useTransceivers()&&(this.logger.debug((()=>"getting video track type")),this.context.transceiverController.trackIsVideoInput(e))}addRemoteVideoTrack(e,t){var r;const i=t.id,n=this.context.videoStreamIndex.attendeeIdForTrack(i);let o,s;if(this.context.videoTileController.getVideoTileForAttendeeId?(s=this.context.videoTileController.getVideoTileForAttendeeId(n),o=!!(null===(r=null==s?void 0:s.state())||void 0===r?void 0:r.boundVideoStream)):o=this.context.videoTileController.haveVideoTileForAttendeeId(n),o)return void this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${n}`);s||(s=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${s.id()}`));let a,c,l=this.context.videoStreamIndex.streamIdForTrack(i);void 0===l&&(this.logger.warn(`stream not found for tile=${s.id()} track=${i}`),l=null);for(let r=0;r<this.trackEvents.length;r++){const i=this.trackEvents[r],n=t.getVideoTracks();if(n&&n.length){const t=n[0],r=()=>{this.context.logger.info(`received the ${i} event for tile=${s.id()} id=${e.id} streamId=${l}`),"ended"===i&&this.removeRemoteVideoTrack(e,s.state())};t.addEventListener(i,r),this.removeVideoTrackEventListeners[e.id]||(this.removeVideoTrackEventListeners[e.id]=[]),this.removeVideoTrackEventListeners[e.id].push((()=>{t.removeEventListener(i,r)}))}}if(e.getSettings){const t=e.getSettings();a=t.width,c=t.height}else{const t=e.getCapabilities();a=t.width,c=t.height}const d=this.context.videoStreamIndex.externalUserIdForTrack(i);s.bindVideoStream(n,!1,t,a,c,l,d),this.logger.info(`video track added, use tile=${s.id()} track=${i} streamId=${l}`);const u="removetrack",h=t,p=()=>this.removeRemoteVideoTrack(e,s.state());this.removeTrackRemovedEventListeners[e.id]=()=>{h.removeEventListener(u,p),delete this.removeTrackRemovedEventListeners[e.id]},h.addEventListener(u,p)}removeRemoteVideoTrack(e,t){if(this.removeTrackRemovedEventListeners.hasOwnProperty(e.id)){this.removeTrackRemovedEventListeners[e.id]();for(const t of this.removeVideoTrackEventListeners[e.id])t();delete this.removeVideoTrackEventListeners[e.id]}this.logger.info(`video track ended, removing tile=${t.tileId} id=${e.id} stream=${t.streamId}`),t.streamId?this.context.videosPaused.remove(t.streamId):this.logger.warn(`no stream found for tile=${t.tileId}`),this.context.videoTileController.removeVideoTile(t.tileId)}}t.default=o,o.REMOVE_HANDLER_INTERVAL_MS=1e4},9098:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1736),o=r(4052),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL)}sessionUsesVideo(){let e;e=this.context.transceiverController.useTransceivers()?this.context.transceiverController.hasVideoInput():this.context.videoTileController.hasStartedLocalVideoTile();const t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),r=e||t;return this.context.logger.info(`uses video: ${r} (enabled: true, sending: ${e}, receiving: ${t})`),r}run(){return i(this,void 0,void 0,(function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise(((t,r)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{r(e)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new o.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const e=new Error(`canceling ${this.name()} due to the meeting status code: ${n.default.IncompatibleSDP}`);return this.context.previousSdpOffer=null,void r(e)}t()}catch(e){r(e)}finally{delete this.cancelPromise}}))))}))}}t.default=a},7998:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1736),o=r(4052),s=r(1072);class a extends s.default{constructor(e,t=a.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${n.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return i(this,void 0,void 0,(function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new o.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines())return void this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`)}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if(!this.context.browserBehavior.hasFirefoxWebRTC()&&"complete"!==this.context.peer.iceGatheringState||!new o.default(this.context.peer.localDescription.sdp).hasCandidates())try{yield new Promise(((e,t)=>{this.cancelPromise=e=>{this.removeEventListener(),t(e)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if("complete"===this.context.peer.iceGatheringState)return this.removeEventListener(),e(),void delete this.cancelPromise},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=r=>{if(this.context.logger.info(`ice candidate: ${r.candidate?r.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),r.candidate&&(o.default.isRTPCandidate(r.candidate.candidate)&&this.context.iceCandidates.push(r.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1))return this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),void delete this.cancelPromise;"complete"===this.context.peer.iceGatheringState&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),new o.default(this.context.peer.localDescription.sdp).hasCandidates()&&0!==this.context.iceCandidates.length?(e(),delete this.cancelPromise):(t(new Error("no ice candidates were gathered")),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()}))}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}else this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering")}))}}t.default=a,a.CHROME_VPN_TIMEOUT_MS=5e3},3333:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(5956),o=r(1736),s=r(6744),a=r(3191),c=r(4123),l=r(7100),d=r(8330),u=r(1072);class h extends u.default{constructor(e){super(e.logger),this.context=e,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){const e=yield new Promise(((e,t)=>{const r=this.context;r.turnCredentials=null;const i=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(t){if(t.type===c.default.WebSocketClosed){let e=`The signaling connection was closed with code ${t.closeCode} and reason: ${t.closeReason}`;r.logger.warn(e);let i=o.default.SignalingBadRequest;return 4410===t.closeCode?(e="The meeting already ended.",r.logger.warn(e),i=o.default.MeetingEnded):t.closeCode>=4500&&t.closeCode<4600&&(i=o.default.SignalingInternalServerError),void r.audioVideoController.handleMeetingSessionStatus(new n.default(i),new Error(e))}if(t.type!==c.default.ReceivedSignalFrame)return;if(t.message.type===d.SdkSignalFrame.Type.JOIN_ACK){const e=t.message.joinack;if(e&&e.videoSubscriptionLimit&&(r.videoSubscriptionLimit=e.videoSubscriptionLimit),r.serverSupportsCompression=null==e?void 0:e.wantsCompressedSdp,void 0!==(null==e?void 0:e.defaultServerSideNetworkAdaption)&&e.defaultServerSideNetworkAdaption!==a.default.Default&&void 0!==r.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption){const t=e.defaultServerSideNetworkAdaption;r.logger.info(`Overriding server side network adaption value to ${t}`),r.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(a.convertServerSideNetworkAdaptionEnumFromSignaled(t))}return void(e&&e.turnCredentials?(r.turnCredentials=new s.default,r.turnCredentials.username=e.turnCredentials.username,r.turnCredentials.password=e.turnCredentials.password,r.turnCredentials.ttl=e.turnCredentials.ttl,r.turnCredentials.uris=e.turnCredentials.uris.map((e=>r.meetingSessionConfiguration.urls.urlRewriter(e))).filter((e=>!!e))):r.logger.error("missing TURN credentials in JoinAckFrame"))}if(t.message.type!==d.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const i=t.message.index;e(i)}}(this.context.signalingClient);this.context.signalingClient.registerObserver(i),this.taskCanceler=i,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const u=new l.default(this.context.meetingSessionConfiguration.applicationMetadata);void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&void 0!==this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions&&(u.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),u.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.signalingClient.join(u)}));this.context.logger.info(`received first index ${JSON.stringify(e)}`),this.context.indexFrame=e}))}}t.default=h},3717:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4123),o=r(8330),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())}))}receiveLeaveAck(){return new Promise(((e,t)=>{const r=new class{constructor(e,t){this.signalingClient=e,this.logger=t}cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated())return this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),void e();t.type===n.default.ReceivedSignalFrame&&t.message.type===o.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}}(this.context.signalingClient,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)}))}}t.default=a},2325:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4123),o=r(8330),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=e=>{this.context.signalingClient.mute(e)}}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)}))}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===n.default.ReceivedSignalFrame)if(e.message.type===o.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===o.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}t.default=a},6537:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(171),o=r(7957),s=r(2840),a=r(2478),c=r(2559),l=r(1448),d=r(5956),u=r(1736),h=r(4123),p=r(8330),m=r(7595),f=r(2019),g=r(1072);class b extends g.default{constructor(e,t,r){super(e.logger),this.context=e,this.initialConnectionHealthData=r,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentVideoDownlinkBandwidthEstimationKbps=1e4,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.checkAndSendWeakSignalEvent=e=>{const t=e<1,r=this.prevSignalStrength<1,i=t?r?null:m.default.RedmicStartLoss:r?m.default.RedmicEndLoss:null;i&&this.context.statsCollector.logAudioEvent(i),this.prevSignalStrength=e},this.realtimeFatalErrorCallback=e=>{this.logger.error(`realtime error: ${e}: ${e.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new d.default(u.default.RealtimeApiFailed),e)},this.realtimeAttendeeIdPresenceHandler=(e,t)=>{var r;const i=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${i}`),i===e&&t&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,null===(r=this.context.eventController)||void 0===r||r.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:e,startTimeMs:t,iceGatheringDurationMs:r,attendeePresenceDurationMs:i,meetingStartDurationMs:n}=this.context;return{meetingDurationMs:null===t?0:Math.round(Date.now()-t),signalingOpenDurationMs:e,iceGatheringDurationMs:r,attendeePresenceDurationMs:i,meetingStartDurationMs:n}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const e=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},e),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new l.default(Object.assign({},t),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new c.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone())}removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)}))}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(e){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(e){if(this.isResubscribeCheckPaused)return this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),void(this.pendingMetricsReport=e);this.pendingMetricsReport=void 0;const t=e.getObservableMetrics();if(!t)return!1;const r=t.availableOutgoingBitrate,i=t.nackCountReceivedPerSecond;let n=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(e);const o=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(n=n||o,o){const e=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=e.truncate(this.context.videoSubscriptionLimit),e.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${o}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:r/1e3,nackCountPerSecond:i});const e=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();n=n||e,e&&(this.logger.info(`trigger resubscribe for up=${e}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return n}metricsDidReceive(e){const t=e;if(!t)return;if(this.checkResubscribe(e)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const r=t.streamMetricReports;if(!r)return;const i=e.getObservableMetrics();this.currentVideoDownlinkBandwidthEstimationKbps=i.availableIncomingBitrate;const a=new Map,c=new Map;for(const e in r)r[e].mediaType===o.default.VIDEO&&r[e].direction===n.default.DOWNSTREAM&&a.set(r[e].streamId,r[e]);let l=!1;for(const e of this.currentAvailableStreamAvgBitrates.bitrates)if(a.has(e.sourceStreamId)){const t=a.get(e.sourceStreamId),r=this.context.videoStreamIndex.attendeeIdForStreamId(e.sourceStreamId);if(!r)continue;const i=new s.default,n=t.previousMetrics.bytesReceived,o=t.currentMetrics.bytesReceived;if(!n||!o)continue;const d=8*(o-n)/1e3;i.expectedAverageBitrateKbps=e.avgBitrateBps/1e3,i.receivedAverageBitrateKbps=d,i.attendeeId=r,d<e.avgBitrateBps/1e3*b.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(l=!0),c.set(r,i)}l&&this.logger.info(`One or more video streams are not receiving expected amounts of data ${JSON.stringify(Array.from(c.values()))}`)}connectionHealthDidChange(e){0===e.consecutiveMissedPongs&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,e,(()=>{this.context.audioVideoController.handleMeetingSessionStatus(new d.default(u.default.ConnectionHealthReconnect),null)})),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,e,(()=>{var e;this.context.poorConnectionCount+=1;const t=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(e=this.context.eventController)||void 0===e||e.publishEvent("receivingAudioDropped",t),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidSuggestStopVideo).map((t=>t.bind(e)()))})):this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidBecomePoor).map((t=>t.bind(e)()))}))}),(()=>{this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidBecomeGood).map((t=>t.bind(e)()))}))})),this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,e,(()=>{var e;const t=this.generateBaseAudioVideoEventAttributes();null===(e=this.context.eventController)||void 0===e||e.publishEvent("sendingAudioFailed",t)}),(()=>{var e;const t=this.generateBaseAudioVideoEventAttributes();null===(e=this.context.eventController)||void 0===e||e.publishEvent("sendingAudioRecovered",t)}))}applyHealthPolicy(e,t,r,i){e.update(t);const n=e.healthIfChanged();null!==n&&(this.logger.info(`${e.name} value is now ${n}`),n<=e.minimumHealth()?f.Maybe.of(r).map((e=>e.bind(this)())):f.Maybe.of(i).map((e=>e.bind(this)())))}handleBitrateFrame(e){let t=0;this.currentAvailableStreamAvgBitrates=e,this.logger.debug((()=>`simulcast: bitrates from server ${JSON.stringify(e)}`));for(const r of e.bitrates)this.context.videosToReceive.contain(r.sourceStreamId)&&(t+=r.avgBitrateBps);t/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*b.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<t&&this.logger.info(`Downlink bandwidth pressure is high: estimated bandwidth ${this.currentVideoDownlinkBandwidthEstimationKbps}Kbps, required bandwidth ${t}Kbps`)}handleSignalingClientEvent(e){var t;if(e.type===h.default.WebSocketClosed&&(4410===e.closeCode||e.closeCode>=4500&&e.closeCode<4600)||e.type===h.default.WebSocketError||e.type===h.default.WebSocketFailed){if(!this.hasSignalingError){const e=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(t=this.context.eventController)||void 0===t||t.publishEvent("signalingDropped",e),this.hasSignalingError=!0}}else e.type===h.default.WebSocketOpen&&(this.hasSignalingError=!1);if(e.type===h.default.ReceivedSignalFrame){if(e.message.bitrates){const t=e.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(t),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(e.message.bitrates)}const t=d.default.fromSignalFrame(e.message);e.message.type!==p.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&t.statusCode()!==u.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(t,null)}}}t.default=b,b.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=2,b.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.2},1483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(e){}}},6036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7718),n=r(996);t.default=class{constructor(e,t,r){this.logger=e,this.task=t,this.dependencies=r,this.canceled=!1}name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const e of this.dependencies)e.cancel();this.logger.info(`Canceling ${this.name()}`),n.default.nextTick((()=>this.task.cancel())),this.canceled=!0,this.cancelPromise&&n.default.nextTick((()=>this.cancelPromise(new Error(`canceling ${this.name()}`))))}}logDependencies(){if(this.logger.getLogLevel()>i.default.INFO)return;if(!this.dependencies)return;const e=this.dependencies.filter((e=>e)).map((e=>e.name())).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${e}`)}run(){if(this.promise)return this.promise;const e=this.dependencies?Promise.all(this.dependencies.map((e=>null==e?void 0:e.run()))):Promise.resolve();return this.logDependencies(),this.ongoing=e.then((()=>this.task.run())),this.promise=new Promise(((e,t)=>{this.cancelPromise=t,this.ongoing.then(e).catch(t)}))}setParent(e){this.task.setParent(e)}}},406:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7809),o=r(4123),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new n.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise(((e,t)=>{const r=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(r){switch(r.type){case o.default.WebSocketOpen:this.signalingClient.removeObserver(this),e();break;case o.default.WebSocketFailed:this.signalingClient.removeObserver(this),t(new Error("WebSocket connection failed"))}}}(this.context.signalingClient);this.context.signalingClient.registerObserver(r),this.taskCanceler=r}))}catch(e){throw e}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}}))}}t.default=a},9154:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1072);class o extends n.default{constructor(e,t,r){super(e),this.taskName=t,this.tasksToRunParallel=r;for(const e of r)e.setParent(this)}cancel(){for(const e of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${e.name()}`),e.cancel()}run(){return i(this,void 0,void 0,(function*(){const e=[];for(const t of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${t.name()}`),e.push(t.run());const t=[];for(let r=0;r<e.length;r++){try{yield e[r]}catch(e){t.push(`task ${this.tasksToRunParallel[r].name()} failed: ${e.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[r].name()}`)}if(t.length>0){const e=t.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)}))}}t.default=o},8717:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2388),o=r(4123),s=r(8330),a=r(1072);class c extends a.default{constructor(e,t,r){super(e.logger),this.context=e,this.credentials=t,this.completionCallback=r,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new n.MeetingSessionStatus(n.MeetingSessionStatusCode.SignalingRequestFailed))}))}receivePrimaryMeetingJoinAck(){return new Promise(((e,t)=>{const r=new class{constructor(e,t,r){this.signalingClient=e,this.completionCallback=t,this.logger=r}cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new n.MeetingSessionStatus(n.MeetingSessionStatusCode.SignalingRequestFailed)),e()}handleSignalingClientEvent(t){t.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new n.MeetingSessionStatus(n.MeetingSessionStatusCode.SignalingRequestFailed)),e()),t.type===o.default.ReceivedSignalFrame&&t.message.type===s.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(n.MeetingSessionStatus.fromSignalFrame(t.message)),e())}}(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=r,this.context.signalingClient.registerObserver(r)}))}}t.default=c},6700:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1072);class o extends n.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveAudioInputTask"}run(){var e,t;return i(this,void 0,void 0,(function*(){if(!(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL))return void this.context.logger.info("No audio connection: not acquiring audio input");if(this.context.activeAudioInput)return void this.context.logger.info("an active audio input exists");let r;try{r=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch(e){this.context.logger.warn("could not acquire audio input from current device")}r?this.context.activeAudioInput=r:this.context.logger.warn("an audio input is not available")}))}}t.default=o},701:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1736),o=r(6744),s=r(6878),a=r(8495),c=r(1072);class l extends c.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveTURNCredentialsTask",this.url=e.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=e.meetingSessionConfiguration.meetingId,this.joinToken=e.meetingSessionConfiguration.credentials.joinToken}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){if(this.context.turnCredentials)return void this.context.logger.info("TURN credentials available, skipping credentials fetch");if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url)return void this.context.logger.info("TURN control url not supplied, skipping credentials fetch");const e={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new s.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const t=yield new Promise(((t,r)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{r(e)};try{const i=yield fetch(a.default.urlWithVersion(this.url),e);if(this.context.logger.info("received TURN credentials"),i.status&&403===i.status)return void r(new Error(`canceling ${this.name()} due to the meeting status code: ${n.default.TURNCredentialsForbidden}`));if(i.status&&404===i.status)return void r(new Error(`canceling ${this.name()} due to the meeting status code: ${n.default.MeetingEnded}`));t(yield i.json())}catch(e){r(e)}finally{delete this.cancelPromise}}))));this.context.turnCredentials=new o.default,this.context.turnCredentials.password=t.password,this.context.turnCredentials.ttl=t.ttl,this.context.turnCredentials.uris=t.uris.map((e=>this.context.meetingSessionConfiguration.urls.urlRewriter(e))).filter((e=>!!e)),this.context.turnCredentials.username=t.username}))}}t.default=l},6464:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(6878),o=r(8330),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}run(){return i(this,void 0,void 0,(function*(){const e=this.context.videoDuplexMode===o.SdkStreamServiceType.RX||this.context.videoDuplexMode===o.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?o.SdkStreamServiceType.DUPLEX:o.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?o.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile())return this.context.logger.info("has not started local video tile"),void(this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([])));const t=this.context.videoTileController.getLocalVideoTile();let r;try{r=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch(e){this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const e=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(e.values()))}if(this.context.activeVideoInput=r,r){const e=r.getVideoTracks();if(!e||0===e.length)return;const i=this.context.meetingSessionConfiguration.credentials.attendeeId,o=new n.default(i).hasModality(n.default.MODALITY_CONTENT),s=e[0].getSettings();if(this.context.enableSimulcast&&!o){const t=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(t)}`);try{yield e[0].applyConstraints(t)}catch(e){this.context.logger.info("simulcast: pass video without more constraint")}}const a=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(i,!0,r,s.width,s.height,null,a);for(let t=0;t<e.length;t++){const r=e[t];this.logger.info(`using video device label=${r.label} id=${r.id}`),this.context.videoDeviceInformation.current_camera_name=r.label,this.context.videoDeviceInformation.current_camera_id=r.id}}}))}}t.default=a},7946:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7840),o=r(6878),s=r(9064),a=r(4123),c=r(8330),l=r(2019),d=r(1072);class u extends d.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return i(this,void 0,void 0,(function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)}))}handleSignalingClientEvent(e){if(e.type!==a.default.ReceivedSignalFrame||e.message.type!==c.SdkSignalFrame.Type.INDEX)return;const t=e.message.index;this.context.logger.info(`received new index ${JSON.stringify(t)}`),this.handleIndexFrame(t)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(e){if(!e)return;if(this.isIngestionPaused)return this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),void(this.pendingIndex=e);this.pendingIndex=null;const t=this.context.audioVideoController.configuration.credentials.attendeeId;e.sources=e.sources.filter((e=>{const r=new o.default(e.attendeeId);return!(r.base()===t&&r.hasModality(o.default.MODALITY_CONTENT))}));const{videoStreamIndex:r,videoDownlinkBandwidthPolicy:i,videoUplinkBandwidthPolicy:n}=this.context,s=r.allVideoSendingSourcesExcludingSelf(t);r.integrateIndexFrame(e),i.updateIndex(r),n.updateIndex(r),this.resubscribe(i,n),this.updateVideoAvailability(e),this.handleIndexVideosPausedAtSource(),e.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(e);const a=r.allVideoSendingSourcesExcludingSelf(t);this.areVideoSourcesEqual(s,a)||this.context.audioVideoController.forEachObserver((e=>{l.Maybe.of(e.remoteVideoSourcesDidChange).map((t=>t.bind(e)(a)))}))}areVideoSourcesEqual(e,t){if(e.length!==t.length)return!1;const r=(e,t)=>e.attendee.attendeeId.localeCompare(t.attendee.attendeeId),i=[...e].sort(r),n=[...t].sort(r);for(let e=0;e<i.length;e++)if(i[e].attendee.attendeeId!==n[e].attendee.attendeeId)return!1;return!0}resubscribe(e,t){const r=e.wantsResubscribe(),i=(this.context.videoDuplexMode===c.SdkStreamServiceType.TX||this.context.videoDuplexMode===c.SdkStreamServiceType.DUPLEX)&&t.wantsResubscribe(),n=r||i;if(this.logger.info(`should resubscribe: ${n} (downlink: ${r} uplink: ${i})`),!n)return;const o=e.chooseSubscriptions();this.context.videosToReceive=o.truncate(this.context.videoSubscriptionLimit),o.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=t.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${i} down=${r}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(e){if(!this.context.videosToReceive)return void this.logger.error("videosToReceive must be set in the meeting context.");const t=new n.default;t.remoteVideoAvailable=!this.context.videosToReceive.empty(),t.canStartLocalVideo=!e.atCapacity,this.context.lastKnownVideoAvailability&&this.context.lastKnownVideoAvailability.equal(t)||(this.context.lastKnownVideoAvailability=t.clone(),this.context.audioVideoController.forEachObserver((e=>{l.Maybe.of(e.videoAvailabilityDidChange).map((r=>r.bind(e)(t.clone())))})))}handleSupportedVideoReceiveCodecIntersection(e){if(void 0===this.context.videoSendCodecPreferences)return;const t=[];let r=!1;for(const i of this.context.videoSendCodecPreferences){let n=!1;for(const r of e.supportedReceiveCodecIntersection)if(i.equals(s.default.fromSignaled(r))){n=!0,t.push(i);break}!n&&i.equals(this.context.currentVideoSendCodec)&&(r=!0)}t.length>0?this.context.meetingSupportedVideoSendCodecPreferences=t:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),r&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const e=this.context.videoStreamIndex.streamsPausedAtSource();for(const t of this.context.videoTileController.getAllVideoTiles()){const r=t.state();e.contain(r.streamId)?t.markPoorConnection()&&this.logger.info(`marks the tile ${r.tileId} as having a poor connection`):t.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${r.tileId} as having a poor connection`)}}}t.default=u},8493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1072);class n extends i.default{constructor(e,t,r="RunnableTask"){super(e),this.fn=t,this.taskName=r}run(){return this.fn().then((()=>{}))}}t.default=n},1967:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(3727),o=r(4123),s=r(8330),a=r(1072);class c extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(e,t,r)=>{if(this.context.signalingClient.ready()){let i;i=t instanceof Uint8Array?t:"string"==typeof t?(new TextEncoder).encode(t):(new TextEncoder).encode(JSON.stringify(t)),this.validateDataMessage(e,i,r);const n=s.SdkDataMessagePayload.create();n.topic=e,n.lifetimeMs=r,n.data=i;const o=s.SdkDataMessageFrame.create();o.messages=[n],this.context.signalingClient.sendDataMessage(o)}else this.context.logger.error("Signaling client is not ready")}}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)}))}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===o.default.ReceivedSignalFrame&&e.message.type===s.SdkSignalFrame.Type.DATA_MESSAGE)for(const t of e.message.dataMessage.messages){const e=new n.default(t.ingestTimeNs/1e6,t.topic,t.data,t.senderAttendeeId,t.senderExternalUserId,0===t.ingestTimeNs);this.context.realtimeController.realtimeReceiveDataMessage(e)}}validateDataMessage(e,t,r){if(!c.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(t.length>c.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}}t.default=c,c.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),c.DATA_SIZE=2048},9231:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1072),o=r(5049);class s extends n.default{constructor(e,t,r){super(e),this.taskName=t,this.tasksToRunSerially=r,this.currentTask=null;for(const e of r)e.setParent(this)}cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return i(this,void 0,void 0,(function*(){for(const e of this.tasksToRunSerially){this.getStatus()===o.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${e.name()}`),this.currentTask=e,yield e.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${e.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)}))}}t.default=s},686:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297),o=r(4052),s=r(1072);class a extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){const e=this.context.peer;let t=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(t=new o.default(t).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),(new n.default).requiresDisablingH264Encoding()&&(t=new o.default(t).removeH264SupportFromSendSection().sdp),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(t=new o.default(t).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(t=new o.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new o.default(t).withStereoAudio().sdp)),this.logger.debug((()=>`local description is >>>${t}<<<`));const r={type:"offer",sdp:t,toJSON:null};yield new Promise(((t,n)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{n(e)};try{yield e.setLocalDescription(r),t()}catch(e){n(e)}finally{delete this.cancelPromise}})))),this.context.logger.info("set local description")}))}}t.default=a},9203:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4052),o=r(1072);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetRemoteDescriptionTask"}cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return i(this,void 0,void 0,(function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let e=this.context.sdpAnswer;e=new n.default(e).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(e=new n.default(e).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(e=new n.default(e).withStereoAudio().sdp)),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(e=new n.default(e).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new n.default(e).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${e}<<<`);const t={type:"answer",sdp:e,toJSON:null};try{yield this.createICEConnectionCompletedPromise(t)}catch(e){throw e}}))}createICEConnectionCompletedPromise(e){return new Promise(((t,r)=>i(this,void 0,void 0,(function*(){const i=()=>{"connected"!==this.context.peer.iceConnectionState&&"completed"!==this.context.peer.iceConnectionState||(this.context.peer.removeEventListener("iceconnectionstatechange",i),t())};this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",i),r(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",i);try{yield this.context.peer.setRemoteDescription(e),this.logger.info("set remote description, waiting for ICE connection"),i()}catch(e){r(e)}}))))}}t.default=s},3913:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(5956),o=r(1736),s=r(4052),a=r(6195),c=r(3191),l=r(4123),d=r(2190),u=r(2402),h=r(8330),p=r(1072);class m extends p.default{constructor(e){super(e.logger),this.context=e,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new a.default(e.logger)}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){let e="";if(this.context.peer&&this.context.peer.localDescription&&(e=new s.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let e=0,t=0;this.context.videoCaptureAndEncodeParameter&&(e=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),t=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const r={rid:"hi",maxBitrate:1e3*t,maxFramerate:e,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([r])}this.context.videoStreamIndex.subscribeFrameSent();const t=this.fixUpSubscriptionOrder(e,this.context.videoSubscriptions),r=this.context.videoDuplexMode===h.SdkStreamServiceType.TX||this.context.videoDuplexMode===h.SdkStreamServiceType.DUPLEX;let i;const n=e;if(this.context.serverSupportsCompression){const t=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";i=this.textCompressor.compress(n,t),this.context.logger.info(`Compressed the SDP message from ${n.length} to ${i.length} bytes.`),e=""}this.context.previousSdpOffer=new s.default(n);const o=new d.default(this.context.meetingSessionConfiguration.credentials.attendeeId,e,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,t,r,this.context.videoStreamIndex.localStreamDescriptions(),!0,i);void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()!==c.default.None&&void 0!==this.context.videoDownlinkBandwidthPolicy.getVideoPreferences&&(o.videoSubscriptionConfiguration=this.convertVideoPreferencesToVideoSubscriptionConfiguration(t,this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(o)}`),this.context.signalingClient.subscribe(o);const a=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(a)}`);let l="";a.compressedSdpAnswer&&a.compressedSdpAnswer.length?(l=this.textCompressor.decompress(a.compressedSdpAnswer,this.context.previousSdpAnswerAsString),0===l.length&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${a.compressedSdpAnswer.length} to ${l.length} bytes.`),this.context.sdpAnswer=l):this.context.sdpAnswer=a.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(a)}))}fixUpSubscriptionOrder(e,t){if(void 0===this.context.transceiverController.getMidForStreamId)return t;const r=new Map;for(const e of t){const t=this.context.transceiverController.getMidForStreamId(e);void 0!==t?r.set(t,e):0!==e&&this.logger.warn(`Could not find MID for stream ID: ${e}`)}const i=new s.default(e).mediaSections(),n=[];for(const e of i)if("video"===e.mediaType)if("recvonly"===e.direction){const t=r.get(e.mid);if(void 0===t){this.logger.warn(`Could not find stream ID for MID: ${e.mid}`);continue}n.push(t)}else n.push(0);return this.logger.info(`Fixed up ${JSON.stringify(t)} to ${JSON.stringify(n)} (may be same))}`),n}convertVideoPreferencesToVideoSubscriptionConfiguration(e,t){if(void 0===this.context.transceiverController.getMidForStreamId||void 0===t)return[];const r=new Array,i=new Map,n=new Map;for(const t of e){const e=this.context.transceiverController.getMidForStreamId(t);if(void 0===e){0!==t&&this.context.logger.warn(`Could not find MID for stream ID: ${t}`);continue}const r=this.context.videoStreamIndex.attendeeIdForStreamId(t);i.set(r,e),n.set(r,this.context.videoStreamIndex.groupIdForStreamId(t))}for(const e of t){const t=new u.default,o=i.get(e.attendeeId);void 0!==o?(t.mid=o,t.attendeeId=e.attendeeId,t.groupId=n.get(e.attendeeId),t.priority=Number.MAX_SAFE_INTEGER-e.priority,t.targetBitrateKbps=e.targetSizeToBitrateKbps(e.targetSize),r.push(t)):this.context.logger.warn(`Could not find MID for attendee ID: ${e.attendeeId}`)}return r}receiveSubscribeAck(){return new Promise(((e,t)=>{const r=this.context,i=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated()){const e=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${t.closeCode} and reason: ${t.closeReason}`;r.logger.warn(e);let i=o.default.TaskFailed;return t.closeCode>=4500&&t.closeCode<4600&&(i=o.default.SignalingInternalServerError),void r.audioVideoController.handleMeetingSessionStatus(new n.default(i),new Error(e))}if(t.type!==l.default.ReceivedSignalFrame||t.message.type!==h.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const i=t.message.suback;e(i)}}(this.context.signalingClient);this.context.signalingClient.registerObserver(i),this.taskCanceler=i}))}}t.default=m},5049:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(r||(r={})),t.default=r},251:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2405),o=r(1072);class s extends o.default{constructor(e,t,r){super(e),this.taskToRunBeforeTimeout=t,this.timeoutMs=r,this.taskName=`Timeout${this.timeoutMs}ms`,t.setParent(this)}cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return i(this,void 0,void 0,(function*(){const e=new n.default(this.timeoutMs);e.start((()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()}));try{yield this.taskToRunBeforeTimeout.run()}finally{e.stop()}this.logger.info(`timeout task ${this.name()} completed`)}))}}t.default=s},5859:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1736),o=r(1072);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="WaitForAttendeePresenceTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()} due to the meeting status code: ${n.default.NoAttendeePresent}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){const e=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise(((t,r)=>{const i=(r,n,o,s,a)=>{e===r&&n&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),t(),delete this.cancelPromise)};this.cancelPromise=e=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),r(e)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(i)}))}))}}t.default=s},1580:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.logger=e,this.browserBehavior=t,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map}setEncodingParameters(e){return r(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender;if(!e||0===e.size)return;const r=Array.from(e.values()),i=t.getParameters();if(i.encodings&&0!==i.encodings.length)for(const e of i.encodings)for(const t of r){if((e.rid||t.rid)&&e.rid!==t.rid)continue;let r;for(r in t)"rid"!==r&&"codecPayloadType"!==r&&t.hasOwnProperty(r)&&(e[r]=t[r])}else i.encodings=r;yield t.setParameters(i)}))}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(e){return r(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender;if(!t||e<=0)return;const r=t.getParameters();r.encodings||(r.encodings=[{}]);for(const t of r.encodings)t.maxBitrate=1e3*e;yield t.setParameters(r)}))}setPeer(e){this.peer=e}reset(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&void 0!==this.peer.getTransceivers}hasVideoInput(){return!(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)}trackIsVideoInput(e){return!!this._localCameraTransceiver&&(e===this._localCameraTransceiver.sender.track||e===this._localCameraTransceiver.receiver.track)}setupLocalTransceivers(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(e){return r(this,void 0,void 0,(function*(){return this._localAudioTransceiver&&"sendrecv"===this._localAudioTransceiver.direction?(yield this._localAudioTransceiver.sender.replaceTrack(e),!0):(this.logger.info("audio transceiver direction is not set up or not activated"),!1)}))}setAudioInput(e){return r(this,void 0,void 0,(function*(){yield this.setTransceiverInput(this._localAudioTransceiver,e)}))}setVideoInput(e){return r(this,void 0,void 0,(function*(){yield this.setTransceiverInput(this._localCameraTransceiver,e)}))}updateVideoTransceivers(e,t){if(!this.useTransceivers())return t.array();const r=this.peer.getTransceivers();return this.videoSubscriptions=[0],t=t.clone(),this.updateTransceivers(r,e,t),this.logger.debug((()=>this.debugDumpTransceivers())),this.videoSubscriptions}updateTransceivers(e,t,r){const i=r.array();0===e.length||e[0].stop?0!==e.length&&this.updateTransceiverWithStop(e,t,i):(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(e,t,i));for(const e of i){const t=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(e,t),this.videoSubscriptions.push(e),this.logger.info(`adding transceiver mid: ${t.mid} subscription: ${e} direction: recvonly`)}}updateTransceiverWithStop(e,t,r){let i=1;this.videoSubscriptions=[0];for(const n of e){if(n===this._localCameraTransceiver||!this.transceiverIsVideo(n)||!n.mid)continue;let e=!1;const o=t.streamIdForTrack("v_"+n.mid);if("inactive"!==n.direction&&void 0!==o)for(const[s,a]of r.entries())if(t.StreamIdsInSameGroup(o,a)){n.direction="recvonly",this.videoSubscriptions[i]=a,e=!0,this.streamIdToTransceiver.delete(o),this.streamIdToTransceiver.set(a,n),r.splice(s,1);break}if(!e){this.videoSubscriptions[i]=0,this.logger.info(`Stopping MID: ${n.mid}, direction: ${n.direction}, current direction: ${n.currentDirection}`),n.stop();for(const[e,t]of this.streamIdToTransceiver.entries())n.mid===t.mid&&this.streamIdToTransceiver.delete(e)}i+=1}}updateTransceiverWithoutStop(e,t,r){let i=1;for(const n of e)if(n!==this._localCameraTransceiver&&this.transceiverIsVideo(n)){if(this.videoSubscriptions[i]=0,"inactive"!==n.direction){const e=t.streamIdForTrack("v_"+n.mid);if(void 0!==e)for(const[o,s]of r.entries())if(t.StreamIdsInSameGroup(e,s)){n.direction="recvonly",this.videoSubscriptions[i]=s,this.streamIdToTransceiver.delete(e),this.streamIdToTransceiver.set(s,n),r.splice(o,1);break}}i+=1}i=1;for(const t of e)if(t!==this._localCameraTransceiver&&this.transceiverIsVideo(t)){if("inactive"===t.direction&&r.length>0){t.direction="recvonly";const e=r.shift();this.videoSubscriptions[i]=e,this.streamIdToTransceiver.set(e,t)}else if(0===this.videoSubscriptions[i]){t.direction="inactive";for(const[e,r]of this.streamIdToTransceiver.entries())t===r&&this.streamIdToTransceiver.delete(e)}i+=1}}getMidForStreamId(e){var t;return null===(t=this.streamIdToTransceiver.get(e))||void 0===t?void 0:t.mid}setStreamIdForMid(e,t){for(const[r,i]of this.streamIdToTransceiver.entries())if(i.mid===e)return this.streamIdToTransceiver.delete(r),void this.streamIdToTransceiver.set(t,i)}transceiverIsVideo(e){return e.receiver&&e.receiver.track&&"video"===e.receiver.track.kind||e.sender&&e.sender.track&&"video"===e.sender.track.kind}debugDumpTransceivers(){let e="",t=0;for(const r of this.peer.getTransceivers())this.transceiverIsVideo(r)&&(e+=`transceiver index=${t} mid=${r.mid} subscription=${this.videoSubscriptions[t]} direction=${r.direction}\n`,t+=1);return e}setTransceiverInput(e,t){return r(this,void 0,void 0,(function*(){e&&(e.direction=t?"sendrecv":"inactive",yield e.sender.replaceTrack(t))}))}}},9690:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2205);class o extends n.default{constructor(e,t){super(e,t);let r=2;this.videoQualityControlParameterMap=new Map;for(let e=0;e<o.NAME_ARR_ASCENDING.length;e++){const t=o.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:r,maxBitrate:1e3*o.BITRATE_ARR_ASCENDING[e]}),r/=2}}setEncodingParameters(e){return i(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender,r=Array.from(e.values());if(r.length<=0)return;const i=t.getParameters();if(i.encodings)for(let t=0;t<i.encodings.length;t++)i.encodings[t].rid===n.default.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(n.default.LOW_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===n.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(n.default.HIGH_LEVEL_NAME),i.encodings[t]);else i.encodings=r;yield t.setParameters(i),this.logVideoTransceiverParameters()}))}}t.default=o,o.NAME_ARR_ASCENDING=["low","hi"],o.BITRATE_ARR_ASCENDING=[300,1200]},2205:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1580);class o extends n.default{constructor(e,t){super(e,t),this.videoQualityControlParameterMap=new Map;let r=4;for(let e=0;e<o.NAME_ARR_ASCENDING.length;e++){const t=o.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:r,maxBitrate:1e3*o.BITRATE_ARR_ASCENDING[e]}),r/=2}}setEncodingParameters(e){return i(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender,r=Array.from(e.values());if(r.length<=0)return;const i=t.getParameters();if(i.encodings)for(let t=0;t<i.encodings.length;t++)i.encodings[t].rid===o.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(o.LOW_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===o.MID_LEVEL_NAME&&this.copyEncodingParams(e.get(o.MID_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===o.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(o.HIGH_LEVEL_NAME),i.encodings[t]);else i.encodings=r;yield t.setParameters(i),this.logVideoTransceiverParameters()}))}setVideoSendingBitrateKbps(e){return i(this,void 0,void 0,(function*(){}))}setupLocalTransceivers(){if(this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const e=this._localCameraTransceiver.sender.getParameters().encodings;let t="simulcast: current encoding parameters \n";for(const r of e)t+=`rid=${r.rid} maxBitrate=${r.maxBitrate} active=${r.active} scaleDownBy=${r.scaleResolutionDownBy} maxFrameRate = ${r.maxFramerate} \n`;this.logger.info(t)}copyEncodingParams(e,t){t.active=e.active,t.maxBitrate=e.maxBitrate,t.scaleResolutionDownBy=e.scaleResolutionDownBy,t.maxFramerate=e.maxFramerate}}t.default=o,o.LOW_LEVEL_NAME="low",o.MID_LEVEL_NAME="mid",o.HIGH_LEVEL_NAME="hi",o.NAME_ARR_ASCENDING=["low","mid","hi"],o.BITRATE_ARR_ASCENDING=[200,400,1100]},1706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1580);class n extends i.default{constructor(e,t){super(e,t)}setupLocalTransceivers(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}t.default=n},797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const i=r(1800);t.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription",t.default=class{constructor(e){this.realtimeController=e,this.transcriptEventCallbacks=new Set}subscribeToTranscriptEvent(e){0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC,(e=>{for(const t of i.TranscriptEventConverter.from(e))for(const e of this.transcriptEventCallbacks)e(t)})),this.transcriptEventCallbacks.add(e)}unsubscribeFromTranscriptEvent(e){this.transcriptEventCallbacks.delete(e),0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}},9337:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},6412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptEventConverter=void 0;const i=r(8330),n=r(9337),o=r(1816),s=r(3590),a=r(8152),c={[i.SdkTranscriptionStatus.Type.STARTED]:s.default.STARTED,[i.SdkTranscriptionStatus.Type.INTERRUPTED]:s.default.INTERRUPTED,[i.SdkTranscriptionStatus.Type.RESUMED]:s.default.RESUMED,[i.SdkTranscriptionStatus.Type.STOPPED]:s.default.STOPPED,[i.SdkTranscriptionStatus.Type.FAILED]:s.default.FAILED};t.TranscriptEventConverter=class{static from(e){let t;try{t=i.SdkTranscriptFrame.decode(e.data)}catch(e){throw new Error("Cannot decode transcript data message: "+e)}const r=[];for(const e of t.events)if(e.status){const t=c[e.status.type];if(!t)continue;const i=new o.default;i.type=t,i.eventTimeMs=e.status.eventTime,i.transcriptionRegion=e.status.transcriptionRegion,i.transcriptionConfiguration=e.status.transcriptionConfiguration,e.status.message&&(i.message=e.status.message),r.push(i)}else if(e.transcript){const t=new n.default;t.results=[];for(const r of e.transcript.results){const e={channelId:r.channelId,isPartial:r.isPartial,resultId:r.resultId,startTimeMs:r.startTime,endTimeMs:r.endTime,alternatives:[]};if(r.languageCode&&(e.languageCode=r.languageCode),r.languageIdentification&&r.languageIdentification.length>0){e.languageIdentification=[];for(const t of r.languageIdentification){const r={languageCode:t.languageCode,score:t.score};e.languageIdentification.push(r)}}for(const t of r.alternatives){const r={items:[],transcript:t.transcript};for(const e of t.items){const t={content:e.content,attendee:{attendeeId:e.speakerAttendeeId,externalUserId:e.speakerExternalUserId},startTimeMs:e.startTime,endTimeMs:e.endTime,type:null};switch(e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=e.vocabularyFilterMatch),e.hasOwnProperty("stable")&&(t.stable=e.stable),e.hasOwnProperty("confidence")&&(t.confidence=e.confidence),e.type){case i.SdkTranscriptItem.Type.PRONUNCIATION:t.type=a.default.PRONUNCIATION;break;case i.SdkTranscriptItem.Type.PUNCTUATION:t.type=a.default.PUNCTUATION}r.items.push(t)}for(const e of t.entities){r.entities||(r.entities=[]);const t={category:e.category,confidence:e.confidence,content:e.content,startTimeMs:e.startTime,endTimeMs:e.endTime};e.type&&(t.type=e.type),r.entities.push(t)}e.alternatives.push(r)}t.results.push(e)}r.push(t)}return r}}},4234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},8152:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PRONUNCIATION="pronunciation",e.PUNCTUATION="punctuation"}(r||(r={})),t.default=r},2780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},8197:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1816:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},3590:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STARTED="started",e.INTERRUPTED="interrupted",e.RESUMED="resumed",e.STOPPED="stopped",e.FAILED="failed"}(r||(r={})),t.default=r},1971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6353),n=r(8495);class o{constructor(e){var t,r,n,s,a,c,l;try{this.parserResult=navigator&&navigator.userAgent?new i.UAParser(navigator.userAgent).getResult():void 0}catch(t){e.error(t.message)}this.browserMajorVersion=(null===(n=null===(r=null===(t=this.parserResult)||void 0===t?void 0:t.browser)||void 0===r?void 0:r.version)||void 0===n?void 0:n.split(".")[0])||o.UNAVAILABLE,this.browserName=(null===(s=this.parserResult)||void 0===s?void 0:s.browser.name)||o.UNAVAILABLE,this.browserVersion=(null===(a=this.parserResult)||void 0===a?void 0:a.browser.version)||o.UNAVAILABLE,this.deviceName=[(null===(c=this.parserResult)||void 0===c?void 0:c.device.vendor)||"",(null===(l=this.parserResult)||void 0===l?void 0:l.device.model)||""].join(" ").trim()||o.UNAVAILABLE}getParserResult(){var e,t;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:(null===(e=this.parserResult)||void 0===e?void 0:e.os.name)||o.UNAVAILABLE,osVersion:(null===(t=this.parserResult)||void 0===t?void 0:t.os.version)||o.UNAVAILABLE,sdkVersion:n.default.sdkVersion,sdkName:n.default.sdkName}}}t.default=o,o.UNAVAILABLE="Unavailable"},5849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.queue=Promise.resolve()}add(e){return new Promise(((t,r)=>{this.queue=this.queue.then(e).then(t).catch(r)}))}}},2019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.None=t.Some=t.Maybe=void 0;class r{static of(e){return null==e?n.of():i.of(e)}}t.Maybe=r;class i{constructor(e){this.value=e,this.isSome=!0,this.isNone=!1}map(e){return r.of(e(this.value))}flatMap(e){return e(this.value)}get(){return this.value}getOrElse(e){return this.value}defaulting(e){return r.of(this.getOrElse(e))}static of(e){if(null==e)throw new Error("value is ${value}");return new i(e)}}t.Some=i;class n{constructor(){this.isSome=!1,this.isNone=!0}get(){throw new Error("value is null")}getOrElse(e){return e}map(e){return new n}flatMap(e){return new n}defaulting(e){return r.of(this.getOrElse(e))}static of(){return new n}}t.None=n},7442:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLowerCasePropertyNames=t.isIFramed=t.wait=void 0,t.wait=function(e){return new Promise((t=>setTimeout(t,e)))},t.isIFramed=function(){var e;try{return"IFRAME"===(null===(e=window.frameElement)||void 0===e?void 0:e.nodeName)||parent!==top}catch(e){return!0}},t.toLowerCasePropertyNames=function e(t){return null===t?null:"object"!=typeof t?t:Array.isArray(t)?t.map(e):Object.keys(t).reduce(((r,i)=>{const n=t[i],o="object"==typeof n?e(n):n;return r[i.toLowerCase()]=o,r}),{})}},8495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9297),n=r(8976);class o{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return n.default.semverString}static get sdkVersionSemVer(){var e,t,r,i;const o=n.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:null===(e=null==o?void 0:o.groups)||void 0===e?void 0:e.major,minor:null===(t=null==o?void 0:o.groups)||void 0===t?void 0:t.minor,patch:null===(r=null==o?void 0:o.groups)||void 0===r?void 0:r.patch,preRelease:null===(i=null==o?void 0:o.groups)||void 0===i?void 0:i.preRelease}}static get buildSHA(){return n.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const e=new i.default;return`${e.name()}-${e.majorVersion()}`}static urlWithVersion(e){const t=new URL(e);return t.searchParams.append(o.X_AMZN_VERSION,o.sdkVersion),t.searchParams.append(o.X_AMZN_USER_AGENT,o.sdkUserAgentLowResolution),t.toString()}}t.default=o,o.X_AMZN_VERSION="X-Amzn-Version",o.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},8976:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:"291306c",raw:"v3.11.0",semverString:"3.11.0"}},6085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,r,i,n,o=1){this.cameraWidth=e,this.cameraHeight=t,this.cameraFrameRate=r,this.maxEncodeBitrateKbps=i,this.isSimulcast=n,this.scaleResolutionDownBy=o}equal(e){let t=e.captureWidth()===this.cameraWidth&&e.captureHeight()===this.cameraHeight&&e.captureFrameRate()===this.cameraFrameRate&&e.encodeBitrates().length===this.encodeBitrates().length&&e.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&e.encodeWidths().length===this.encodeWidths().length&&e.encodeHeights().length===this.encodeHeights().length;if(t)for(let r=0;r<e.encodeWidths().length;r++)if(e.encodeWidths()[r]!==this.encodeWidths()[r]||e.encodeHeights()[r]!==this.encodeHeights()[r]||e.encodeBitrates()[r]!==this.encodeBitrates()[r]||e.encodeScaleResolutionDownBy()[r]!==this.encodeScaleResolutionDownBy()[r])return t=!1,t;return t}clone(){return new r(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}}t.default=r},2816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4688);t.default=class{constructor(e){this.selfAttendeeId=e,this.reset()}reset(){this.optimalReceiveSet=new i.default,this.subscribedReceiveSet=new i.default,this.videoSources=void 0}updateIndex(e){this.videoIndex=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(e)}updateMetrics(e){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(e){this.videoSources=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(e){const t=new i.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return t;const r=e.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(void 0===this.videoSources)return r;const n=this.videoIndex.remoteStreamDescriptions(),o=new Map;for(const e of n)r.contain(e.streamId)&&o.set(e.attendeeId,e.streamId);for(const e of this.videoSources){const r=e.attendee.attendeeId;o.has(r)&&t.add(o.get(r))}return t}}},8828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4688);t.default=class{reset(){}updateIndex(e){}updateMetrics(e){}wantsResubscribe(){return!1}chooseSubscriptions(){return new i.default}}},108:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TargetDisplaySize=void 0,function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(r=t.TargetDisplaySize||(t.TargetDisplaySize={})),t.default=r},8791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9511),n=r(5935),o=r(5029),s=r(137);class a extends s.default{constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=o.VideoPreferences.prepare();let r=!1;const s=e.remoteStreamDescriptions();for(const e of s)t.some((t=>t.attendeeId===e.attendeeId))||(e.attendeeId.endsWith(i.default.Modality)?(t.add(new n.default(e.attendeeId,1)),r=!0):t.add(new n.default(e.attendeeId,2)));r?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}t.default=a},5935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(108);class n{constructor(e,t,r){this.attendeeId=e,this.priority=t,this.targetSize=void 0!==r?r:i.default.High}partialCompare(e){return this.priority-e.priority}equals(e){return this.attendeeId===e.attendeeId&&this.targetSize===e.targetSize&&this.priority===e.priority}clone(){return new n(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(e){switch(e){case i.default.High:return n.HIGH_BITRATE_KBPS;case i.default.Medium:return n.MID_BITRATE_KBPS;case i.default.Low:return n.LOW_BITRATE_KBPS}}}t.default=n,n.LOW_BITRATE_KBPS=300,n.MID_BITRATE_KBPS=600,n.HIGH_BITRATE_KBPS=1200},5029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPreferences=t.MutableVideoPreferences=void 0;class r{constructor(e=[]){this.items=e}static default(){return new r([])}[Symbol.iterator](){let e=0;const t=this.items;return{next:()=>e<t.length?{done:!1,value:t[e++]}:{done:!0,value:null}}}first(){return this.items[0]}add(e){this.items.push(e)}replaceFirst(e,t){const r=this.items.findIndex(t);-1===r?this.items.push(e):this.has(e)?this.items.splice(r,1):this.items[r]=e}remove(e){this.items=this.items.filter((t=>!t.equals(e)))}clear(){this.items=[]}isEmpty(){return 0===this.items.length}equals(e){if(e===this)return!0;if(e.items.length!==this.items.length)return!1;for(const t of this.items)if(!e.items.some((e=>e.equals(t))))return!1;return!0}has(e){return this.items.some((t=>t.equals(e)))}some(e){return this.items.some(e)}clone(){return new r([...this.items])}sort(){this.items.sort(((e,t)=>e.partialCompare(t)))}modify(){return new i(this)}}class i{constructor(e=new r){this.items=e,this.copied=!1}cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(e){this.items.has(e)||(this.cow(),this.items.add(e))}replaceFirst(e,t){this.items.has(e)&&!this.items.some(t)||(this.cow(),this.items.replaceFirst(e,t))}remove(e){this.items.has(e)&&(this.cow(),this.items.remove(e))}some(e){return this.items.some(e)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}class n{constructor(e){this.builder=e}add(e){this.builder.add(e)}replaceFirst(e,t){this.builder.replaceFirst(e,t)}remove(e){this.builder.remove(e)}some(e){return this.builder.some(e)}clear(){this.builder.clear()}build(){return new o(this.builder.build())}}t.MutableVideoPreferences=n;class o{constructor(e){this.items=e}static prepare(){return new n(new i)}static default(){return new o(r.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var e;return null===(e=this.items.first())||void 0===e?void 0:e.priority}sorted(){return this.items[Symbol.iterator]()}equals(e){return e===this||this.items.equals(e.items)}modify(){return new n(this.items.modify())}some(e){return this.items.some(e)}isEmpty(){return this.items.isEmpty()}clone(){const e=o.prepare();for(const t of this.items)e.add(t.clone());return e.build()}}t.VideoPreferences=o,t.default=o},137:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(171),n=r(7957),o=r(9511),s=r(7718),a=r(3191),c=r(4688),l=r(108),d=r(5935),u=r(5029),h=r(4074);class p{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}}class m{constructor(e,t=h.default.Default){this.logger=e,this.videoPriorityBasedPolicyConfig=t,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.reset()}reset(){this.optimalReceiveSet=new c.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new c.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new c.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=m.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new p,this.prevDownlinkStats=new p,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption}bindToTileController(e){this.tileController=e,this.logger.info("tileController bound")}chooseRemoteVideoSources(e){var t;(null===(t=this.videoPreferences)||void 0===t?void 0:t.equals(e))||(this.videoPreferences=null==e?void 0:e.clone(),this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(e)}`))}updateIndex(e){this.videoIndex=e,this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const e=new Set;for(const t of this.videoIndex.remoteStreamDescriptions())e.add(t.attendeeId);const t=u.VideoPreferences.prepare(),r=e.size;let i=l.default.High;r>8?i=l.default.Low:r>4&&(i=l.default.Medium);for(const r of e)t.add(new d.default(r,1,i));this.defaultVideoPreferences=t.build()}updateMetrics(e){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new p;const t=e.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=t.availableIncomingBitrate/1e3;for(const t in e.streamMetricReports){const r=Number.parseInt(t,10),o=e.streamMetricReports[r];o.direction===i.default.DOWNSTREAM&&o.mediaType===n.default.VIDEO&&(o.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=e.countPerSecond("nackCount",r)),o.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=e.countPerSecond("packetsLost",r)),o.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=e.bitsPerSecond("bytesReceived",r)/1e3))}}wantsResubscribe(){return this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()}addObserver(e){this.observerQueue.add(e)}removeObserver(e){this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}setVideoPriorityBasedPolicyConfigs(e){this.videoPriorityBasedPolicyConfig=e}calculateOptimalReceiveStreams(){var e;const t=[],r=this.videoIndex.remoteStreamDescriptions();if(0===r.length||(null===(e=this.videoPreferences)||void 0===e?void 0:e.isEmpty()))return void(this.optimalReceiveStreams=[]);const i=this.rateProbeState;this.cleanBwPausedTiles(r),this.handleAppPausedStreams(t,r);const n=this.availStreamsSameAsLast(r),c=!this.startupPeriod&&n;if(c&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;r.sort(((e,t)=>e.maxBitrateKbps===t.maxBitrateKbps?e.streamId-t.streamId:e.maxBitrateKbps-t.maxBitrateKbps));for(const e of r)(0===e.avgBitrateKbps||e.avgBitrateKbps>e.maxBitrateKbps)&&(e.attendeeId.endsWith(o.default.Modality)&&e.maxBitrateKbps<100?e.maxBitrateKbps=e.avgBitrateKbps:e.avgBitrateKbps=e.maxBitrateKbps);const l={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};l.targetDownlinkBitrate=this.determineTargetRate();const d=this.subscribedReceiveSet.size(),u=this.downlinkStats.bandwidthEstimateKbps,h=!this.videoPriorityBasedPolicyConfig.allowSubscribe(d,u);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,c&&h))return;const p=this.priorityPolicy(l,r,t);let f=0;if(this.serverSideNetworkAdaption!==a.default.None&&this.serverSideNetworkAdaption!==a.default.Default||this.startupPeriod||!n?(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0):"Probing"===this.rateProbeState?f=this.handleProbe(t,l.targetDownlinkBitrate):0!==l.deltaToNextUpgrade&&(f=this.maybeOverrideOrProbe(t,l,p)),this.prevRemoteInfos=r,this.videoPreferencesUpdated=!1,1===f)return this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),void(this.prevTargetRateKbps=l.targetDownlinkBitrate);if(2===f){const e=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);return this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(r,this.preProbeNonPausedReceiveStreams),void this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+e)}this.optimalNonPausedReceiveStreams=t.slice();const g=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(r,t),this.logger.getLogLevel()<=s.LogLevel.INFO&&(this.logCount%15==0||this.rateProbeState!==i||this.optimalReceiveStreams.length!==t.length||g!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(r,l.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=l.targetDownlinkBitrate,this.optimalReceiveStreams=t.slice()}calculateOptimalReceiveSet(){const e=new c.default;this.calculateOptimalReceiveStreams();for(const t of this.optimalReceiveStreams)e.add(t.streamId);if(!this.optimalReceiveSet.equal(e)){const t=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(e)} subscribedRate:${t}`)}this.optimalReceiveSet=e}determineTargetRate(){let e=0;const t=Date.now();return 0!==this.downlinkStats.bandwidthEstimateKbps?(0===this.firstEstimateTimestamp&&(this.firstEstimateTimestamp=t),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>m.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||t-this.firstEstimateTimestamp>m.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?e=m.DEFAULT_BANDWIDTH_KBPS:"Probing"===this.rateProbeState&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<m.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),e=this.downlinkStats.usedBandwidthKbps+m.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):e=this.downlinkStats.bandwidthEstimateKbps):e=0===this.firstEstimateTimestamp?m.DEFAULT_BANDWIDTH_KBPS:this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-m.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*m.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&0===this.downlinkStats.packetsLost?(this.logger.debug((()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps)),this.usingPrevTargetRate=!0,e=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,e}setProbeState(e){if(this.rateProbeState===e)return!1;const t=Date.now();switch(e){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(!(0===this.lastProbeTimestamp||t-this.lastProbeTimestamp>m.MIN_TIME_BETWEEN_PROBE_MS))return!1;this.probePendingStartTimestamp=t;break;case"Probing":if(!(t-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs))return!1;this.lastProbeTimestamp=t,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(2*this.timeBeforeAllowProbeMs,m.MAX_HOLD_BEFORE_PROBE_MS)}return this.logger.info("bwe: setProbeState to "+e+" from "+this.rateProbeState),this.rateProbeState=e,!0}upgradeToStream(e,t){for(let r=0;r<e.length;r++)if(e[r].groupId===t.groupId){const i=t.avgBitrateKbps-e[r].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(e[r])+" to "+t),this.lastUpgradeRateKbps=i,e[r]=t,i}return e.push(t),this.lastUpgradeRateKbps=t.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(e,t){if(Date.now()-this.lastProbeTimestamp>m.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>m.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=3*Math.max(m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs),2;const r=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(e)||t>r?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=m.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(e,t,r){const i=this.chosenStreamsSameAsLast(e);let n=0;const o=t.targetDownlinkBitrate>m.LOW_BITRATE_THRESHOLD_KBPS?m.TARGET_RATE_CHANGE_TRIGGER_PERCENT:2*m.TARGET_RATE_CHANGE_TRIGGER_PERCENT,s=t.targetDownlinkBitrate*o/100;if(this.targetRateBaselineForDeltaCheckKbps=void 0!==this.targetRateBaselineForDeltaCheckKbps?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!i&&Math.abs(t.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<s?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),n=1):this.targetRateBaselineForDeltaCheckKbps=t.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,n;if(i||1===n)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(e,r),n=0)}else this.setProbeState("Not Probing");return n}calculateSubscribeRate(e){let t=0;for(const r of e)this.pausedStreamIds.contain(r.streamId)||this.pausedBwAttendeeIds.has(r.attendeeId)||(t+=r.maxBitrateKbps);return t}handleAppPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");this.pausedStreamIds=new c.default;const r=this.tileController.getAllRemoteVideoTiles();for(const i of r){const r=i.state();if(r.paused&&!this.pausedBwAttendeeIds.has(r.boundAttendeeId)){let i=t.length;for(;i--;)t[i].attendeeId===r.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+r.boundAttendeeId+" streamId: "+t[i].streamId),this.pausedStreamIds.add(t[i].streamId),this.subscribedReceiveSet.contain(t[i].streamId)&&e.push(t[i]),t.splice(i,1))}}}processBwPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");const r=this.getCurrentVideoPreferences();if(r&&this.shouldPauseTiles){const i=this.tileController.getAllVideoTiles();for(const n of r){const r=this.getVideoTileForAttendeeId(n.attendeeId,i),o=(null==r?void 0:r.state().paused)||!1;if(t.some((e=>e.attendeeId===n.attendeeId)))o&&this.pausedBwAttendeeIds.has(n.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${n.attendeeId} due to bandwidth`),this.forEachObserver((e=>{e.tileWillBeUnpausedByDownlinkPolicy(r.id())})),this.tileController.unpauseVideoTile(r.id()),this.pausedBwAttendeeIds.delete(n.attendeeId));else{const i=e.some((e=>e.attendeeId===n.attendeeId));if(r&&i){const e=this.optimalReceiveStreams.find((e=>e.attendeeId===n.attendeeId));void 0!==e&&(o||(this.logger.info(`bwe: pausing streamId ${e.streamId} attendee ${n.attendeeId} due to bandwidth`),this.forEachObserver((e=>{e.tileWillBePausedByDownlinkPolicy(r.id())})),this.tileController.pauseVideoTile(r.id())),t.push(e)),this.pausedBwAttendeeIds.add(n.attendeeId)}else if(i){const e=this.tileController.addVideoTile();e.bindVideoStream(n.attendeeId,!1,null,0,0,0,null),this.forEachObserver((t=>{t.tileWillBePausedByDownlinkPolicy(e.id())})),e.pause(),this.logger.info(`bwe: Created video tile ${e.id()} for bw paused attendee ${n.attendeeId}`),this.pausedBwAttendeeIds.add(n.attendeeId)}}}}}cleanBwPausedTiles(e){if(!this.tileController)return void this.logger.warn("tileController not found!");const t=this.tileController.getAllRemoteVideoTiles(),r=this.getCurrentVideoPreferences();for(const i of t){const t=i.state();t.boundVideoStream||(e.some((e=>e.attendeeId===t.boundAttendeeId))?void 0===r||r.some((e=>e.attendeeId===t.boundAttendeeId))||this.tileController.removeVideoTile(t.tileId):(this.tileController.removeVideoTile(t.tileId),this.logger.info(`bwe: Removed video tile ${t.tileId} for bw paused attendee ${t.boundAttendeeId}`)))}}priorityPolicy(e,t,r){let i;const n=this.getCurrentVideoPreferences(),s=n.highestPriority();let a,c=s;for(;-1!==c;){a=-1;for(const o of n)if(o.priority===c)for(const n of t)n.attendeeId===o.attendeeId&&(r.some((e=>e.groupId===n.groupId))||(e.chosenTotalBitrate+n.avgBitrateKbps<=e.targetDownlinkBitrate?(r.push(n),e.chosenTotalBitrate+=n.avgBitrateKbps):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=n.avgBitrateKbps,i=n)));else if(o.priority>c){a=o.priority;break}for(const s of n)if(s.priority===c){for(const n of t)if(n.attendeeId===s.attendeeId){const a=r.findIndex((e=>e.groupId===n.groupId&&e.maxBitrateKbps<n.maxBitrateKbps));if(-1!==a){const c=n.avgBitrateKbps-r[a].avgBitrateKbps;this.hasSimulcastStreams(t,n.attendeeId,n.groupId)&&this.canUpgrade(n.avgBitrateKbps,s.targetSize,s.targetSizeToBitrateKbps(s.targetSize),n.attendeeId.endsWith(o.default.Modality))?(this.logger.info(`bwe: attendee: ${n.attendeeId} group: ${n.groupId} has simulcast and can upgrade avgBitrate: ${n.avgBitrateKbps} target: ${s.targetSizeToBitrateKbps(s.targetSize)} targetTotalBitrate: ${e.targetDownlinkBitrate}`),e.chosenTotalBitrate+c<=e.targetDownlinkBitrate?(e.chosenTotalBitrate+=c,r[a]=n):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=c,i=n)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(s.priority>c)break;if(c===s&&0!==e.deltaToNextUpgrade)break;c=a}return i}getVideoTileForAttendeeId(e,t){for(const r of t)if(r.state().boundAttendeeId===e)return r;return null}canUpgrade(e,t,r,i){let n=!1;return i?(t===l.default.High||t===l.default.Medium&&e<=r)&&(n=!0):e<=r&&(n=!0),n?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${e} targetBitrateKbp: ${r}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${e} targetBitrateKbp: ${r}`),!1)}hasSimulcastStreams(e,t,r){let i=0;for(const n of e)n.attendeeId===t&&n.groupId===r&&i++;return this.logger.info(`bwe: attendeeId: ${t} groupId: ${r} hasSimulcastStreams: streamCount: ${i}`),i>1}availStreamsSameAsLast(e){if(void 0===this.prevRemoteInfos||e.length!==this.prevRemoteInfos.length||!0===this.videoPreferencesUpdated)return!1;for(const t of e)if(void 0===this.prevRemoteInfos.find((e=>e.groupId===t.groupId&&e.streamId===t.streamId&&e.maxBitrateKbps===t.maxBitrateKbps)))return!1;return!0}chosenStreamsSameAsLast(e){if(this.optimalNonPausedReceiveStreams.length!==e.length)return!1;for(const t of this.optimalNonPausedReceiveStreams)if(!e.some((e=>e.streamId===t.streamId)))return!1;return!0}policyStateLogStr(e,t){const r={targetBitrate:t,subscribedRate:this.calculateSubscribeRate(this.optimalReceiveStreams),probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let i="remoteInfos: [";for(const t of e)i+=`{grpId:${t.groupId} strId:${t.streamId} maxBr:${t.maxBitrateKbps} avgBr:${t.avgBitrateKbps}}, `;i+="]";let n=`bwe: optimalReceiveSet ${JSON.stringify(r)}\nbwe:   prev ${JSON.stringify(this.prevDownlinkStats)}\nbwe:   now  ${JSON.stringify(this.downlinkStats)}\nbwe:   ${i}\n`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(n+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }\n`),this.videoPreferences?n+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:n+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,n}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(e){this.serverSideNetworkAdaption=e,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[a.default.None,a.default.BandwidthProbing]}getVideoPreferences(){let e=this.getCurrentVideoPreferences();return e||(e=u.VideoPreferences.prepare().build()),e}}t.default=m,m.DEFAULT_BANDWIDTH_KBPS=2800,m.STARTUP_PERIOD_MS=6e3,m.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,m.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,m.LOW_BITRATE_THRESHOLD_KBPS=300,m.MIN_TIME_BETWEEN_PROBE_MS=5e3,m.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,m.MAX_HOLD_BEFORE_PROBE_MS=3e4,m.MAX_ALLOWED_PROBE_TIME_MS=6e4,m.SPURIOUS_PACKET_LOST_THRESHOLD=2,m.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},4074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3191);class n{constructor(e=0,t=0){this.networkIssueResponseDelayFactor=e,this.networkIssueRecoveryDelayFactor=t,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=i.default.Default,e<0?e=0:e>1&&(e=1),this.networkIssueResponseDelayFactor=e,t<0?t=0:t>1&&(t=1),this.networkIssueRecoveryDelayFactor=t}allowSubscribe(e,t){let r=0;const i=this.currentNetworkEvent;if(t>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=t,!0;if(t<this.referenceBitrate){if(this.currentNetworkEvent=1,r=this.getSubscribeDelay(this.currentNetworkEvent,e),1!==i)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>r)return this.referenceBitrate=t,!0;return!1}return this.currentNetworkEvent=0,!1}getSubscribeDelay(e,t){let r=n.MINIMUM_DELAY_MS;const i=n.MAXIMUM_DELAY_MS-n.MINIMUM_DELAY_MS,o=this.networkIssueResponseDelayFactor;return 1===e&&(r+=i*o*(1+t/10),r=Math.min(n.MAXIMUM_DELAY_MS,r)),r}}t.default=n,n.MINIMUM_DELAY_MS=2e3,n.MAXIMUM_DELAY_MS=8e3,n.Default=new n(0,0),n.UnstableNetworkPreset=new n(0,1),n.StableNetworkPreset=new n(1,0)},741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{create(){const e={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{e.paused=!0},play:()=>(e.paused=!1,Promise.resolve())};return e}}},9874:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.canvas=e,this.destroyed=!1}destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return r(this,void 0,void 0,(function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)}))}asCanvasElement(){return this.canvas}}},1513:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9874);t.default=class{constructor(e,t){this.logger=e,this.stages=t,this.fr=15,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=e=>i(this,void 0,void 0,(function*(){if(!this.inputVideoStream)return;const e=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let t,r=[];r.push(this.sourceBuffers[0]);try{for(const e of this.processors)r=yield e.process(r)}catch(e){return void this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))}this.destBuffers=r;try{t=yield this.destBuffers[0].asCanvasImageSource()}catch(e){return void(this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))))}const i=t.width,n=t.height;0!==i&&0!==n&&(this.canvasOutput.width!==i&&this.canvasOutput.height!==n&&(this.canvasOutput.width=i,this.canvasOutput.height=n),this.outputCtx.drawImage(t,0,0,i,n,0,0,i,n),this.hasStarted||(this.hasStarted=!0,this.forEachObserver((e=>{e.processingDidStart&&e.processingDidStart()}))));const o=performance.now()-e,s=2e3/this.framerate-o,a=Math.max(0,1e3/this.framerate-o);s<=0&&this.forEachObserver((e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(o)})),this.lastTimeOut=setTimeout(this.process,a)}))}destroy(){if(this.stop(),this.stages)for(const e of this.stages)e.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0?15:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const e of this.outputMediaStream.getVideoTracks())e.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver((e=>{e.processingDidStop&&e.processingDidStop()})))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return i(this,void 0,void 0,(function*(){return this.inputVideoStream}))}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()||(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput()),this.outputMediaStream}setInputMediaStream(e){return i(this,void 0,void 0,(function*(){if(!e)return void this.stop();if(0===e.getVideoTracks().length)return void this.logger.error("No video tracks in input media stream, ignoring");this.inputVideoStream=e;const t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const r=new n.default(this.canvasInput);this.sourceBuffers.push(r),this.videoInput.load();try{yield this.videoInput.play()}catch(e){this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()}))}cloneInputAudioTracksToOutput(){if(this.isOutputMediaStreamActive()&&null!==this.inputVideoStream){for(const e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(const e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}else this.logger.info("Not cloning input audio tracks to output, do not have media streams ready")}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(const t of this.observers)setTimeout((()=>{e(t)}),0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const e of this.inputVideoStream.getTracks())e.stop();this.inputVideoStream=null;for(const e of this.sourceBuffers)e.destroy();this.sourceBuffers=[]}}},4317:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297),o=r(1513);class s{constructor(e,t,r,i=new n.default){this.logger=e,this.device=t,this.processors=r,this.browserBehavior=i,this.observers=new Set,this.pipe=new o.default(this.logger,this.processors),this.pipe.addObserver(this)}get outputMediaStream(){return this.pipe.outputMediaStream}chooseNewInnerDevice(e){const t=new s(this.logger,e,this.processors,this.browserBehavior);return t.pipe=this.pipe,t}getInnerDevice(){return this.device}intrinsicDevice(){return i(this,void 0,void 0,(function*(){return this.device}))}transformStream(e){return i(this,void 0,void 0,(function*(){return yield this.pipe.setInputMediaStream(e),this.inputMediaStream=e,this.pipe.getActiveOutputMediaStream()}))}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const e=this.device&&this.device.id;if(this.pipe.stop(),!e&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return i(this,void 0,void 0,(function*(){if(this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop();this.pipe.destroy(),this.inputMediaStream=null}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver((e=>{e.processingDidStart&&e.processingDidStart()}))}processingLatencyTooHigh(e){this.forEachObserver((t=>{t.processingLatencyTooHigh&&t.processingLatencyTooHigh(e)}))}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver((e=>{e.processingDidStop&&e.processingDidStop()}))}forEachObserver(e){for(const t of this.observers)setTimeout((()=>{e(t)}),0)}}t.default=s},2850:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{process(e){return r(this,void 0,void 0,(function*(){return e}))}destroy(){return r(this,void 0,void 0,(function*(){}))}}},5008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},4688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.ids=new Set(e)}add(e){this.ids.add(e)}array(){return Array.from(this.ids.values()).sort(((e,t)=>e-t))}contain(e){return this.ids.has(e)}forEach(e){this.ids.forEach(e)}empty(){return 0===this.ids.size}size(){return this.ids.size}equal(e){if(!e)return 0===this.ids.size;const t=this.array(),r=e.array();if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}clone(){return new r(this.array())}remove(e){this.ids.delete(e)}toJSON(){return this.array()}truncate(e){const t=this.array();return new r(t.splice(0,e))}}t.default=r},1688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330),n=r(4688),o=r(7619);t.default=class{constructor(e){this.logger=e,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new o.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(e){return e>0&&e<1e3?1:Math.trunc(e/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const e=[];return this.currentIndex.sources.forEach((t=>{const r=new o.default;r.attendeeId=t.attendeeId,r.groupId=t.groupId,r.streamId=t.streamId,r.maxBitrateKbps=t.maxBitrateKbps,r.avgBitrateKbps=this.convertBpsToKbps(t.avgBitrateBps),e.push(r)})),e}integrateUplinkPolicyDecision(e){if(e&&e.length){const t=e[0];this.videoStreamDescription.maxBitrateKbps=t.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=t.maxFramerate}}integrateIndexFrame(e){this.currentIndex=e;const t=new Map;let r=!1;for(const i of e.sources){if(!t.has(i.attendeeId)){t.set(i.attendeeId,i.groupId);continue}const e=t.get(i.attendeeId);e<i.groupId&&(this.logger.warn(`Old group ID ${e} found for attendee ID ${i.attendeeId}, replacing with newer group ID ${i.groupId}`),t.set(i.attendeeId,i.groupId)),r=!0}r&&(this.currentIndex.sources=this.currentIndex.sources.filter((e=>t.get(e.attendeeId)===e.groupId))),this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(e){this.currentSubscribeAck=e,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(e){if(this.currentIndex)for(const t of e.bitrates){const e=this.currentIndex.sources.find((e=>e.streamId===t.sourceStreamId));void 0!==e&&(e.avgBitrateBps=t.avgBitrateBps)}}allStreams(){const e=new n.default;if(this.currentIndex)for(const t of this.currentIndex.sources)e.add(t.streamId);return e}allVideoSendingSourcesExcludingSelf(e){const t=[],r=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const n of this.currentIndex.sources){const{attendeeId:o,externalUserId:s,mediaType:a}=n;o!==e&&a===i.SdkStreamMediaType.VIDEO&&(r.has(o)||(t.push({attendee:{attendeeId:o,externalUserId:s}}),r.add(o)))}return t}streamSelectionUnderBandwidthConstraint(e,t,r,o){const s=new Set;if(this.currentIndex)for(const n of this.currentIndex.sources)n.attendeeId!==e&&n.mediaType===i.SdkStreamMediaType.VIDEO&&(t.has(n.attendeeId)||r.has(n.attendeeId)||s.add(n.attendeeId));const a=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e),c=new Map;let l=0;a.forEach(((e,t)=>{c.set(t,e[0]),l+=e[0].maxBitrateKbps})),l=this.trySelectHighBitrateForAttendees(a,t,l,o,c),this.trySelectHighBitrateForAttendees(a,s,l,o,c);const d=new n.default;for(const e of c.values())d.add(e.streamId);return d}highestQualityStreamFromEachGroupExcludingSelf(e){const t=new n.default;if(this.currentIndex){const r=new Map;for(const t of this.currentIndex.sources)t.attendeeId!==e&&t.mediaType===i.SdkStreamMediaType.VIDEO&&(!r.has(t.groupId)||t.maxBitrateKbps>r.get(t.groupId).maxBitrateKbps)&&r.set(t.groupId,t);for(const e of r.values())t.add(e.streamId)}return t}numberOfVideoPublishingParticipantsExcludingSelf(e){return this.highestQualityStreamFromEachGroupExcludingSelf(e).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(e){const t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${e}`),"";return this.subscribeStreamToAttendeeMap.get(t)||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known attendee`),"")}externalUserIdForTrack(e){const t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${e}`),"";return this.subscribeStreamToExternalUserIdMap.get(t)||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(e){if(!this.streamToAttendeeMap){if(!this.currentIndex)return"";this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex)}return this.streamToAttendeeMap.get(e)||(this.logger.info(`stream ${e}) does not correspond to a known attendee`),"")}groupIdForStreamId(e){if(this.currentIndex&&this.currentIndex.sources){for(const t of this.currentIndex.sources)if(t.streamId===e)return t.groupId;if(this.indexForSubscribe)for(const t of this.indexForSubscribe.sources)if(t.streamId===e)return t.groupId}}StreamIdsInSameGroup(e,t){return this.groupIdForStreamId(e)===this.groupIdForStreamId(t)}streamIdForTrack(e){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(e)}streamIdForSSRC(e){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(e)}overrideStreamIdMappings(e,t){if(this.subscribeTrackToStreamMap)for(const[r,i]of this.subscribeTrackToStreamMap.entries())if(e===i){this.subscribeTrackToStreamMap.set(r,t);break}if(this.subscribeSsrcToStreamMap)for(const[r,i]of this.subscribeSsrcToStreamMap.entries())if(e===i){this.subscribeSsrcToStreamMap.set(r,t);break}}streamsPausedAtSource(){const e=new n.default;if(this.currentIndex)for(const t of this.currentIndex.pausedAtSourceIds)e.add(t);return e}buildTrackToStreamMap(e){const t=new Map;this.logger.debug((()=>`trackMap ${JSON.stringify(e.tracks)}`));for(const r of e.tracks)r.trackLabel.length>0&&r.streamId>0&&t.set(r.trackLabel,r.streamId);return t}buildSSRCToStreamMap(e){const t=new Map;this.logger.debug((()=>`ssrcMap ${JSON.stringify(e.tracks)}`));for(const r of e.tracks)r.trackLabel.length>0&&r.streamId>0&&t.set(r.ssrc,r.streamId);return t}buildStreamToAttendeeMap(e){const t=new Map;if(e)for(const r of e.sources)t.set(r.streamId,r.attendeeId);return t}buildStreamExternalUserIdMap(e){const t=new Map;if(e)for(const r of e.sources)r.externalUserId&&t.set(r.streamId,r.externalUserId);return t}trySelectHighBitrateForAttendees(e,t,r,i,n){for(const o of t){if(r>=i)break;if(e.has(o)){const t=e.get(o);for(const e of t.reverse())if(r-n.get(o).maxBitrateKbps+e.maxBitrateKbps<i){r=r-n.get(o).maxBitrateKbps+e.maxBitrateKbps,n.set(o,e);break}}}return r}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e){const t=new Map;if(this.currentIndex)for(const r of this.currentIndex.sources)r.attendeeId!==e&&r.mediaType===i.SdkStreamMediaType.VIDEO&&(t.has(r.attendeeId)?t.get(r.attendeeId).push(r):t.set(r.attendeeId,[r]));return t.forEach(((e,t)=>{e.sort(((e,t)=>e.maxBitrateKbps>t.maxBitrateKbps?1:e.maxBitrateKbps<t.maxBitrateKbps?-1:0))})),t}}},507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330),n=r(1688),o=r(7619);class s extends n.default{constructor(e){super(e),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}localStreamDescriptions(){const e=[];return this._localStreamInfos.forEach((t=>{e.push(t.clone())})),e}integrateUplinkPolicyDecision(e){let t=!0,r=0;for(let i=0;i<e.length;i++){const n=e[i].maxBitrate/1e3,s=e[i].maxFramerate;if(t&&i!==this._localStreamInfos.length)0===this._localStreamInfos[r].maxBitrateKbps&&n>0&&(this._localStreamInfos[r].timeEnabled=Date.now()),this._localStreamInfos[r].maxBitrateKbps=n,this._localStreamInfos[r].maxFrameRate=s,this._localStreamInfos[r].disabledByUplinkPolicy=0===n,!0===this._localStreamInfos[r].disabledByUplinkPolicy&&(this._localStreamInfos[r].disabledByWebRTC=!1),r++;else{t=!1;const e=new o.default;e.maxBitrateKbps=n,e.maxFrameRate=s,e.disabledByUplinkPolicy=0===n,0!==n&&(e.timeEnabled=Date.now()),this._localStreamInfos.push(e),r++}}t&&this._localStreamInfos.splice(r)}integrateBitratesFrame(e){super.integrateBitratesFrame(e);const t=new Set,r=new Set(this.streamIdToBitrateKbpsMap.keys());for(const r of e.bitrates)t.add(r.sourceStreamId),this.streamIdToBitrateKbpsMap.set(r.sourceStreamId,this.convertBpsToKbps(r.avgBitrateBps));for(const e of r)t.has(e)||(this.streamIdToBitrateKbpsMap.get(e)===s.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(e,s.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(e,s.NOT_SENDING_STREAM_BITRATE));for(let e=0;e<this._localStreamInfos.length;e++){this._localStreamInfos[e].disabledByWebRTC=!1;const t=this._localStreamInfos[e].streamId;this._localStreamInfos[e].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(t)?this.streamIdToBitrateKbpsMap.get(t)===s.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[e].timeEnabled>s.BitratesMsgFrequencyMs&&(this._localStreamInfos[e].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[e].timeEnabled>s.BitratesMsgFrequencyMs&&(this._localStreamInfos[e].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let e="";for(const t of this._localStreamInfos)e+=`streamId=${t.streamId} maxBitrate=${t.maxBitrateKbps} disabledByWebRTC=${t.disabledByWebRTC} disabledByUplink=${t.disabledByUplinkPolicy}\n`;this.logger.debug((()=>e))}integrateIndexFrame(e){super.integrateIndexFrame(e);const t=new Set,r=new Set(this.streamIdToBitrateKbpsMap.keys());for(const e of this.currentIndex.sources)e.mediaType===i.SdkStreamMediaType.VIDEO&&(t.add(e.streamId),this.streamIdToBitrateKbpsMap.has(e.streamId)||this.streamIdToBitrateKbpsMap.set(e.streamId,s.UNSEEN_STREAM_BITRATE));for(const e of r)t.has(e)||this.streamIdToBitrateKbpsMap.delete(e)}integrateSubscribeAckFrame(e){if(super.integrateSubscribeAckFrame(e),!e.allocations||void 0===e.allocations)return;let t=0;for(const r of e.allocations){if(this._localStreamInfos.length<t+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[t].groupId=r.groupId,this._localStreamInfos[t].streamId=r.streamId,this.streamIdToBitrateKbpsMap.has(r.streamId)||this.streamIdToBitrateKbpsMap.set(r.streamId,s.UNSEEN_STREAM_BITRATE),t++}}}t.default=s,s.UNSEEN_STREAM_BITRATE=-2,s.RECENTLY_INACTIVE_STREAM_BITRATE=-1,s.NOT_SENDING_STREAM_BITRATE=0,s.BitratesMsgFrequencyMs=4e3},7619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8330);class n{constructor(e,t,r,i,n){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=e,this.groupId=t,this.streamId=r,this.maxBitrateKbps=i,this.avgBitrateKbps=n}clone(){const e=new n;return e.attendeeId=this.attendeeId,e.groupId=this.groupId,e.streamId=this.streamId,e.ssrc=this.ssrc,e.trackLabel=this.trackLabel,e.maxBitrateKbps=this.maxBitrateKbps,e.avgBitrateKbps=this.avgBitrateKbps,e.maxFrameRate=this.maxFrameRate,e.timeEnabled=this.timeEnabled,e.disabledByWebRTC=this.disabledByWebRTC,e.disabledByUplinkPolicy=this.disabledByUplinkPolicy,e}toStreamDescriptor(){const e=i.SdkStreamDescriptor.create();return e.mediaType=i.SdkStreamMediaType.VIDEO,e.trackLabel=this.trackLabel,e.attendeeId=this.attendeeId,e.streamId=this.streamId,e.groupId=this.groupId,e.framerate=this.maxFrameRate,e.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,e.avgBitrateBps=this.avgBitrateKbps,e}}t.default=n},9912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9297),n=r(6878),o=r(2227);class s{constructor(e,t,r,i){this.tileController=r,this.devicePixelRatioMonitor=i,this.tileState=new o.default,this.tileState.tileId=e,this.tileState.localTile=t,this.devicePixelRatioMonitor.registerObserver(this)}static connectVideoStreamToVideoElement(e,t,r){const n=r&&"environment"!==e.getVideoTracks()[0].getSettings().facingMode?"rotateY(180deg)":"";if(s.setVideoElementFlag(t,"disablePictureInPicture",r),s.setVideoElementFlag(t,"disableRemotePlayback",r),t.style.transform!==n&&(t.style.transform=n),t.hasAttribute("controls")&&t.removeAttribute("controls"),t.hasAttribute("autoplay")||t.setAttribute("autoplay","true"),t.hasAttribute("playsinline")||t.setAttribute("playsinline","true"),t.hasAttribute("muted")||(t.setAttribute("muted","true"),t.muted=!0),t.srcObject!==e&&(t.srcObject=e,(new i.default).requiresVideoPlayWorkaround()&&t.paused)){const e=t.play();void 0!==e&&e.catch((e=>{console.warn("Error playing video in Safari",e)})).then((()=>{console.debug("Video played successfully in Safari")}))}}static disconnectVideoStreamFromVideoElement(e,t,r=!1){if(e)if(t)r||(e.srcObject=null,e.style.transform="");else{if(!e.srcObject)return;e.pause(),e.style.transform="",s.setVideoElementFlag(e,"disablePictureInPicture",!1),s.setVideoElementFlag(e,"disableRemotePlayback",!1),e.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&s.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new o.default}devicePixelRatioChanged(e){this.tileState.devicePixelRatio=e,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(e,t,r,i,o,s,a){let c=!1;this.tileState.boundAttendeeId!==e&&(this.tileState.boundAttendeeId=e,new n.default(e).hasModality(n.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),c=!0),this.tileState.boundExternalUserId!==a&&(this.tileState.boundExternalUserId=a,c=!0),this.tileState.localTile!==t&&(this.tileState.localTile=t,c=!0),this.tileState.boundVideoStream!==r&&(this.tileState.boundVideoStream=r,c=!0),this.tileState.videoStreamContentWidth!==i&&(this.tileState.videoStreamContentWidth=i,c=!0),this.tileState.videoStreamContentHeight!==o&&(this.tileState.videoStreamContentHeight=o,c=!0),this.tileState.streamId!==s&&(this.tileState.streamId=s,c=!0),c&&this.sendTileStateUpdate()}bindVideoElement(e){let t=!1;this.tileState.boundVideoElement!==e&&(this.tileState.boundVideoElement=e,t=!0),null!==this.tileState.boundVideoElement?(this.tileState.videoElementCSSWidthPixels!==e.clientWidth&&(this.tileState.videoElementCSSWidthPixels=e.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==e.clientHeight&&(this.tileState.videoElementCSSHeightPixels=e.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return!this.tileState.poorConnection&&(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return!!this.tileState.poorConnection&&(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0)}capture(){if(!this.tileState.active)return null;const e=document.createElement("canvas"),t=this.tileState.boundVideoElement;e.width=t.videoWidth||t.width,e.height=t.videoHeight||t.height;const r=e.getContext("2d");return r.drawImage(t,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)}setStreamId(e){this.tileState.streamId=e,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!(this.tileState.paused||this.tileState.poorConnection||!this.tileState.boundAttendeeId||!this.tileState.boundVideoElement||!this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){"number"==typeof this.tileState.videoElementCSSWidthPixels&&"number"==typeof this.tileState.videoElementCSSHeightPixels?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?s.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):s.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(e,t,r){t in e&&(e[t]=r)}}t.default=s},2227:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}clone(){const e=new r;return e.tileId=this.tileId,e.localTile=this.localTile,e.isContent=this.isContent,e.active=this.active,e.paused=this.paused,e.poorConnection=this.poorConnection,e.boundAttendeeId=this.boundAttendeeId,e.boundExternalUserId=this.boundExternalUserId,e.boundVideoStream=this.boundVideoStream,e.boundVideoElement=this.boundVideoElement,e.nameplate=this.nameplate,e.videoStreamContentWidth=this.videoStreamContentWidth,e.videoStreamContentHeight=this.videoStreamContentHeight,e.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,e.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,e.devicePixelRatio=this.devicePixelRatio,e.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,e.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,e.streamId=this.streamId,e}}t.default=r},5695:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(8357),o=r(5174),s=r(2019),a=r(9912);t.default=class{constructor(e,t,r){this.tileFactory=e,this.audioVideoController=t,this.logger=r,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=t.configuration.keepLastFrameWhenPaused}createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new n.default(new o.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return i(this,void 0,void 0,(function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const e=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,e.destroy()}))}bindVideoElement(e,t){const r=this.getVideoTile(e);null!==r?r.bindVideoElement(t):this.logger.warn(`Ignoring video element binding for unknown tile id ${e}`)}unbindVideoElement(e,t=!0){const r=this.getVideoTile(e);if(null===r)return void this.logger.warn(`Ignoring video element unbinding for unknown tile id ${e}`);this.logger.info("Unbinding the video element");const i=r.stateRef().boundVideoElement;r.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),a.default.disconnectVideoStreamFromVideoElement(i,!1))}startLocalVideoTile(){const e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!(!this.currentLocalTile||!this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}unpauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}getVideoTile(e){return this.tileMap.has(e)?this.tileMap.get(e):null}getVideoTileArea(e){const t=e.state();let r=0,i=0;return t.boundVideoElement&&(r=t.boundVideoElement.clientHeight*t.devicePixelRatio,i=t.boundVideoElement.clientWidth*t.devicePixelRatio),r*i}getAllRemoteVideoTiles(){const e=new Array;return this.tileMap.forEach(((t,r)=>{this.currentLocalTile&&r===this.currentLocalTile.id()||e.push(t)})),e}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(e=!1){const t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const r=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,r),r}removeVideoTile(e){if(!this.tileMap.has(e))return;const t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver((t=>{s.Maybe.of(t.videoTileWasRemoved).map((r=>r.bind(t)(e)))})),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(e){const t=[];for(const r of this.getAllVideoTiles()){const i=r.state();i.boundAttendeeId===e&&(this.removeVideoTile(i.tileId),t.push(i.tileId))}return t}removeAllVideoTiles(){const e=Array.from(this.tileMap.keys());for(const t of e)this.removeVideoTile(t)}sendTileStateUpdate(e){this.audioVideoController.forEachObserver((t=>{s.Maybe.of(t.videoTileDidUpdate).map((r=>r.bind(t)(e)))}))}haveVideoTilesWithStreams(){for(const e of this.getAllVideoTiles())if(e.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(e){return!!this.getVideoTileForAttendeeId(e)}getVideoTileForAttendeeId(e){for(const t of this.getAllVideoTiles())if(t.state().boundAttendeeId===e)return t}captureVideoTile(e){const t=this.getVideoTile(e);return t?t.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile||(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId)),this.currentLocalTile}}},4505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9912);t.default=class{makeTile(e,t,r,n){return new i.default(e,t,r,n)}}},1934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},6932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1546),n=r(2205),o=r(2019),s=r(6085),a=r(1934);class c{constructor(e,t){this.selfAttendeeId=e,this.logger=t,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new s.default(0,0,0,0,!0),this.parametersInEffect=new s.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}updateConnectionMetric({uplinkKbps:e=0}){if(isNaN(e))return;0===this.startTimeMs&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<c.startupDurationMs?this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=e,this.logger.debug((()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`));let t=c.holdDownDurationMs;3===this.currentActiveStreams?t=2*c.holdDownDurationMs:(2===this.currentActiveStreams&&e<=c.kMidDisabledRate||1===this.currentActiveStreams&&e<=c.kHiDisabledRate)&&(t=c.holdDownDurationMs/2),Date.now()<this.lastUpdatedMs+t||(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(e){const t=[new a.default,new a.default,new a.default];let r=0,i=0;if(0===this.currentActiveStreams?(r=this.lastUplinkBandwidthKbps+1,i=0):1===this.currentActiveStreams?(r=2400,i=c.kHiDisabledRate):2===this.currentActiveStreams?(r=1e3,i=c.kMidDisabledRate):(r=300,i=0),e||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=i){this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=1200,t[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=c.kHiDisabledRate?(this.newActiveStreams=1,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=c.kMidDisabledRate?(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,t[1].maxBitrateKbps=this.numSenders<=6?600:350,t[2].maxBitrateKbps=0):(this.newActiveStreams=3,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=0);const e=t.map(((e,t,r)=>e.maxBitrateKbps));this.newQualityMap=this.fillEncodingParamWithBitrates(e),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(e){const t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,r=t!==this.numSenders,i=e.numberOfParticipants(),n=i>=0&&i<=2,o=this.shouldDisableSimulcast!==n;this.numSenders=t,this.shouldDisableSimulcast=n,this.optimalParameters=new s.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(r||o)}wantsResubscribe(){let e=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let t=0;t<this.nextLocalDescriptions.length;t++){const r=this.nextLocalDescriptions[t].streamId;if(0!==r&&r){const i=this.currLocalDescriptions.findIndex((e=>e.streamId===r));-1!==i&&this.nextLocalDescriptions[t].disabledByWebRTC!==this.currLocalDescriptions[i].disabledByWebRTC&&(e=!0)}}return e&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,e}compareEncodingParameter(e,t){return JSON.stringify(e)===JSON.stringify(t)}encodingParametersEqual(){let e=!1;for(const t of n.default.NAME_ARR_ASCENDING)if(e=e||!this.compareEncodingParameter(this.newQualityMap.get(t),this.currentQualityMap.get(t)),e)break;return!e}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}fillEncodingParamWithBitrates(e){const t=new Map,r=n.default.NAME_ARR_ASCENDING,i=e;let o=this.shouldDisableSimulcast?1:4;for(let e=0;e<r.length;e++){const n=r[e];t.set(n,{rid:n,active:i[e]>0,scaleResolutionDownBy:Math.max(o,1),maxBitrate:1e3*i[e]}),o/=2}return t}getQualityMapString(e){let t="";const r=this.videoIndex.localStreamDescriptions();return 3===r.length&&e.forEach((e=>{let i=!1;i="low"===e.rid?r[0].disabledByWebRTC:"mid"===e.rid?r[1].disabledByWebRTC:r[2].disabledByWebRTC,t+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${i} maxBitrate:${e.maxBitrate}}`})),t}getEncodingSimulcastLayer(e){switch(e){case 0:return i.default.High;case 1:return i.default.LowAndHigh;case 2:return i.default.LowAndMedium;case 3:return i.default.Low}}publishEncodingSimulcastLayer(){const e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver((t=>{o.Maybe.of(t.encodingSimulcastLayersDidChange).map((r=>r.bind(t)(e)))}))}addObserver(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}}t.default=c,c.defaultUplinkBandwidthKbps=1200,c.startupDurationMs=6e3,c.holdDownDurationMs=4e3,c.defaultMaxFrameRate=15,c.kHiDisabledRate=700,c.kMidDisabledRate=240},6636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9690);t.default=class{constructor(e,t){this.logger=e,this.encodingParams=t,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}updateConnectionMetric(e){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var e,t,r,n,o,s,a,c,l,d,u,h;const p=new Map,m=i.default.NAME_ARR_ASCENDING;return p.set(m[0],{rid:m[0],active:!0,scaleResolutionDownBy:(null===(t=null===(e=this.encodingParams)||void 0===e?void 0:e.low)||void 0===t?void 0:t.scaleResolutionDownBy)||2,maxBitrate:1e3*((null===(n=null===(r=this.encodingParams)||void 0===r?void 0:r.low)||void 0===n?void 0:n.maxBitrateKbps)||300),maxFramerate:(null===(s=null===(o=this.encodingParams)||void 0===o?void 0:o.low)||void 0===s?void 0:s.maxFramerate)||5}),p.set(m[1],{rid:m[1],active:!0,scaleResolutionDownBy:(null===(c=null===(a=this.encodingParams)||void 0===a?void 0:a.high)||void 0===c?void 0:c.scaleResolutionDownBy)||1,maxBitrate:1e3*((null===(d=null===(l=this.encodingParams)||void 0===l?void 0:l.high)||void 0===d?void 0:d.maxBitrateKbps)||1200),maxFramerate:null===(h=null===(u=this.encodingParams)||void 0===u?void 0:u.high)||void 0===h?void 0:h.maxFramerate}),this.getQualityMapString(p),p}updateIndex(e){this.videoIndex=e}wantsResubscribe(){var e,t;let r=!1;this.nextLocalDescriptions=null===(e=this.videoIndex)||void 0===e?void 0:e.localStreamDescriptions();for(let e=0;e<(null===(t=this.nextLocalDescriptions)||void 0===t?void 0:t.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(0!==t&&t){const i=this.currLocalDescriptions.findIndex((e=>e.streamId===t));-1!==i&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[i].disabledByWebRTC&&(r=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,r}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}getQualityMapString(e){var t;let r="";const i=null===(t=this.videoIndex)||void 0===t?void 0:t.localStreamDescriptions();(null==i?void 0:i.length)>0&&(e.forEach((e=>{let t=!1;t="low"===e.rid?i[0].disabledByWebRTC:i[1].disabledByWebRTC,r+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${t} maxBitrate:${e.maxBitrate} scaleResolutionDownBy:${e.scaleResolutionDownBy} maxFrameRate:${e.maxFramerate}`})),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${r}`))}addObserver(e){}removeObserver(e){}forEachObserver(e){}}},6640:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(6085);class o{constructor(e,t=!0,r,i){this.selfAttendeeId=e,this.scaleResolution=t,this.logger=r,this.browserBehavior=i,this.numberOfPublishedVideoSources=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}reset(){this.numberOfPublishedVideoSources=0,this.optimalParameters=new n.default(0,0,0,0,!1),this.parametersInEffect=new n.default(0,0,0,0,!1),this.encodingParamMap.set(o.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){var t;let r=!0,i=1;this.transceiverController&&(r=this.transceiverController.hasVideoInput());const o=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(r?1:0);if(this.numberOfPublishedVideoSources!==o){if(this.numberOfPublishedVideoSources=o,this.transceiverController){const e=this.getStreamCaptureSetting();e&&(i=this.calculateEncodingParameters(e).scaleResolutionDownBy)}this.optimalParameters=new n.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,i)}else null===(t=this.logger)||void 0===t||t.debug("Skipping update index; Number of participants has not changed")}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let e=640;return this.getNumberOfPublishedVideoSources()>4&&(e=320),e}captureHeight(){let e=384;return this.getNumberOfPublishedVideoSources()>4&&(e=192),e}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let e=0;return e=this.getNumberOfPublishedVideoSources()<=2?this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?2*this.idealMaxBandwidthKbps/3:(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(e)}setIdealMaxBandwidthKbps(e){this.idealMaxBandwidthKbps=e}setHasBandwidthPriority(e){this.hasBandwidthPriority=e}setTransceiverController(e){this.transceiverController=e}updateTransceiverController(){return i(this,void 0,void 0,(function*(){const e=this.getStreamCaptureSetting();if(!e)return;const t=this.calculateEncodingParameters(e);this.shouldUpdateEndcodingParameters(t)&&(this.encodingParamMap.set(o.encodingMapKey,t),this.transceiverController.setEncodingParameters(this.encodingParamMap))}))}shouldUpdateEndcodingParameters(e){var t,r;const i=null===(r=null===(t=this.transceiverController.localVideoTransceiver().sender.getParameters())||void 0===t?void 0:t.encodings)||void 0===r?void 0:r[0];return e.maxBitrate!==(null==i?void 0:i.maxBitrate)||e.scaleResolutionDownBy!==(null==i?void 0:i.scaleResolutionDownBy)}calculateEncodingParameters(e){var t,r;const i=1e3*this.maxBandwidthKbps();let n=1;if(void 0!==e.height&&void 0!==e.width&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let i=o.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),o.targetHeightArray.length-1)];480===i&&(null===(t=this.browserBehavior)||void 0===t?void 0:t.disable480pResolutionScaleDown())&&(i=360),n=Math.max(Math.min(e.height,e.width)/i,1),null===(r=this.logger)||void 0===r||r.info(`Resolution scale factor is ${n} for capture resolution ${e.width}x${e.height}. New dimension is ${e.width/n}x${e.height/n}`)}return{scaleResolutionDownBy:n,maxBitrate:i}}getStreamCaptureSetting(){var e,t,r,i;return null===(i=null===(r=null===(t=null===(e=this.transceiverController)||void 0===e?void 0:e.localVideoTransceiver())||void 0===t?void 0:t.sender)||void 0===r?void 0:r.track)||void 0===i?void 0:i.getSettings()}getNumberOfPublishedVideoSources(){var e;return null!==(e=this.numberOfPublishedVideoSources)&&void 0!==e?e:0}}t.default=o,o.encodingMapKey="video",o.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},1571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6085);t.default=class{constructor(){}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new i.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}}},9734:(e,t)=>{"use strict";function r(e){return e.map((e=>"object"==typeof e?JSON.stringify(e):`${e}`)).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.base=e}debug(...e){this.base.debug(r(e))}info(...e){this.base.info(r(e))}warn(...e){this.base.warn(r(e))}error(...e){this.base.error(r(e))}}},1619:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusDeviceTransformer=void 0;const n=r(9800),o=r(7442),s=r(8495),a=r(9734),c=r(8063),l=r(3849);class d{constructor(e,{preload:t=!0,logger:r,fetchBehavior:i=d.defaultFetchBehavior()},n){this.spec=e,this.supported=!0,this.logger=r,this.vfLogger=r?new a.default(r):void 0,this.preload=t,this.fetchBehavior=i,this.spec=d.augmentSpec(this.spec),n&&(this.configuration=Promise.resolve(n))}static isSupported(e,t){var r,i;const s={fetchBehavior:d.defaultFetchBehavior(),logger:(null==t?void 0:t.logger)?new a.default(t.logger):void 0};if(o.isIFramed()){if(!1===(null==t?void 0:t.allowIFrame))return null===(r=null==t?void 0:t.logger)||void 0===r||r.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);null===(i=null==t?void 0:t.logger)||void 0===i||i.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return n.VoiceFocus.isSupported(d.augmentSpec(e),s)}static create(e={},t={},r,n,o){var s,a,c;return i(this,void 0,void 0,(function*(){n&&n.Meeting.Meeting&&(n=n.Meeting);const i="AVAILABLE"===(null===(c=null===(a=null===(s=null==n?void 0:n.Meeting)||void 0===s?void 0:s.MeetingFeatures)||void 0===a?void 0:a.Audio)||void 0===c?void 0:c.EchoReduction),o=r&&!0===r.supported&&"ns_es"===r.model.name&&!i,l="ns_es"===e.name&&!i;if(o||l)throw new Error("Echo Reduction requested but not enabled.");const u=new d(e,t,r);return yield u.init(),u}))}static configure(e={},t={}){return i(this,void 0,void 0,(function*(){return new d(e,t,void 0).configure(!0)}))}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(e,t){return i(this,void 0,void 0,(function*(){if(this.supported)try{const r=!0,[i,n]=yield this.allocateVoiceFocus(r),o=Object.assign(Object.assign({},t),{es:"ns_es"===this.spec.name});return new c.default(e,i,n,o)}catch(e){return}}))}static destroyVoiceFocus(e){var t;return i(this,void 0,void 0,(function*(){null===(t=null==e?void 0:e.vf)||void 0===t||t.destroy()}))}static augmentSpec(e){return e&&(e.assetGroup||e.revisionID)?e:Object.assign(Object.assign({},e),{assetGroup:d.currentSDKAssetGroup()})}configure(e=!1){return i(this,void 0,void 0,(function*(){const t={fetchBehavior:this.fetchBehavior,preResolve:e,logger:this.vfLogger};return n.VoiceFocus.configure(this.spec,t)}))}init(){var e;return i(this,void 0,void 0,(function*(){this.configuration||(this.configuration=this.configure());const t=yield this.configuration;if(t.supported){this.pendingVoiceFocus=this.createVoiceFocus(t,this.preload);try{yield this.pendingVoiceFocus}catch(t){null===(e=this.logger)||void 0===e||e.error(`Unable to initialize Amazon Voice Focus: ${t}`),this.supported=!1}}else this.supported=!1}))}createVoiceFocus(e,t){return i(this,void 0,void 0,(function*(){const r=new l.default;return this.vf=yield n.VoiceFocus.init(e,{delegate:r,preload:t,logger:this.vfLogger}),[this.vf,r]}))}allocateVoiceFocus(e){return i(this,void 0,void 0,(function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const e=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,e}return this.createVoiceFocus(yield this.configuration,e)}))}static majorVersion(){return s.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return s.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const e=this.majorVersion();return e?`sdk-${e}`:"stable-v1"}static defaultFetchBehavior(){const e=d.majorMinorVersion()||"unknown",t=s.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(e)}&ua=${encodeURIComponent(t)}`}}}t.VoiceFocusDeviceTransformer=d,t.default=d},8063:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(9297);class o{constructor(e,t,r,i,o=!1,s,a=new n.default,c=new Map,l,d){this.device=e,this.voiceFocus=t,this.delegate=r,this.nodeOptions=i,this.failed=o,this.node=s,this.browserBehavior=a,this.farEndStreamToAudioSourceNode=c,this.mixDestNode=l,this.mixSourceNode=d}getInnerDevice(){return this.device}mute(e){return i(this,void 0,void 0,(function*(){this.node&&(e?yield this.node.disable():yield this.node.enable())}))}stop(){return i(this,void 0,void 0,(function*(){this.node&&(this.node.disconnect(),yield this.node.stop())}))}chooseNewInnerDevice(e){return i(this,void 0,void 0,(function*(){return this.device!==e||("default"===(t=e)||t&&"object"==typeof t&&("deviceId"in t&&"default"===t.deviceId||"id"in t&&"default"===t.id))?new o(e,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode):this;var t}))}intrinsicDevice(){return i(this,void 0,void 0,(function*(){if(this.failed)return this.device;const e=this.nodeOptions.es,t={echoCancellation:!e,googEchoCancellation:!e,googEchoCancellation2:!e,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let r;return r=!this.nodeOptions||void 0===this.nodeOptions.agc||this.nodeOptions.agc.useBuiltInAGC,t.autoGainControl=r,t.googAutoGainControl=r,t.googAutoGainControl2=r,this.device?"string"==typeof this.device?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?t.deviceId=this.device:t.deviceId={exact:this.device},t):this.device.id?this.device:Object.assign(Object.assign({},this.device),t):t}))}createAudioNode(e){var t,r;return i(this,void 0,void 0,(function*(){if((null===(t=this.node)||void 0===t?void 0:t.context)===e)return{start:this.node,end:this.node};const i=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if(null===(r=this.node)||void 0===r||r.disconnect(),this.node=yield this.voiceFocus.createNode(e,i),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(e,{channelCount:1,channelCountMode:"explicit"});for(const e of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(e);this.createMixSourceNode()}return{start:this.node,end:this.node}}catch(e){throw this.failed=!0,this.delegate.onFallback(this,e),e}}))}observeMeetingAudio(e){return i(this,void 0,void 0,(function*(){if(!this.nodeOptions.es)return;e.addAudioMixObserver(this);const t=yield e.getCurrentMeetingAudioStream();t&&this.addFarEndStream(t)}))}unObserveMeetingAudio(e){return i(this,void 0,void 0,(function*(){if(!this.nodeOptions.es)return;e.removeAudioMixObserver(this);const t=yield e.getCurrentMeetingAudioStream();t&&this.removeFarendStream(t)}))}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}addFarEndStream(e){return i(this,void 0,void 0,(function*(){this.nodeOptions.es&&e&&!this.farEndStreamToAudioSourceNode.has(e)&&(this.node?this.assignFarEndStreamToAudioSourceNode(e):this.farEndStreamToAudioSourceNode.set(e,null))}))}removeFarendStream(e){var t;return i(this,void 0,void 0,(function*(){null===(t=this.farEndStreamToAudioSourceNode.get(e))||void 0===t||t.disconnect(),this.farEndStreamToAudioSourceNode.delete(e)}))}meetingAudioStreamBecameActive(e){return i(this,void 0,void 0,(function*(){this.addFarEndStream(e)}))}meetingAudioStreamBecameInactive(e){return i(this,void 0,void 0,(function*(){this.removeFarendStream(e)}))}assignFarEndStreamToAudioSourceNode(e){const t=this.node.context.createMediaStreamSource(e);t.channelCount=1,t.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(e,t),t.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}t.default=o},3849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}onFallback(e,t){var r;for(const i of this.observers)null===(r=i.voiceFocusFellBackToInnerStream)||void 0===r||r.call(i,e,t)}onCPUWarning(){var e;for(const t of this.observers)null===(e=t.voiceFocusInsufficientResources)||void 0===e||e.call(t)}}},2187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,r,i,n){this.logger=e,this.realtimeController=t,this.minVolumeDecibels=r,this.maxVolumeDecibels=i,this.selfAttendeeId=n,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(e){let t=0;for(const r of e.streams){const i=!!r.attendeeId,n=!!r.externalUserId,o=r.hasOwnProperty("muted"),s=!!r.dropped;if(i){this.attendeeIdToStreamId[r.attendeeId]&&this.attendeeIdToStreamId[r.attendeeId]<r.audioStreamId&&delete this.attendeeIdToStreamId[r.attendeeId],this.streamIdToAttendeeId[r.audioStreamId]=r.attendeeId;const i=n?r.externalUserId:r.attendeeId;this.streamIdToExternalUserId[r.audioStreamId]=i,this.attendeeIdToStreamId[r.attendeeId]=r.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(r.attendeeId,!0,i,!1,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}if(o){const e=this.streamIdToAttendeeId[r.audioStreamId],t=this.streamIdToExternalUserId[r.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(e,null,r.muted,null,t)}if(!i&&!o){const i=this.streamIdToAttendeeId[r.audioStreamId];if(i){const n=this.streamIdToExternalUserId[r.audioStreamId];delete this.streamIdToAttendeeId[r.audioStreamId],delete this.streamIdToExternalUserId[r.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[r.audioStreamId],this.attendeeIdToStreamId[i]===r.audioStreamId&&delete this.attendeeIdToStreamId[i];let o=!1;for(const e of Object.keys(this.streamIdToAttendeeId)){const t=parseInt(e);if(t>r.audioStreamId&&this.streamIdToAttendeeId[t]===i){o=!0;break}}o||this.realtimeController.realtimeSetAttendeeIdPresence(i,!1,n,s,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(e),this.sessionReconnected=!1)}cleanUpState(e){const t=Object.values(this.streamIdToAttendeeId),r=e.streams.map((e=>e.attendeeId)),i=t.filter((e=>!r.includes(e)));for(const[e,t]of i.entries()){const r=this.attendeeIdToStreamId[t],i=this.streamIdToExternalUserId[r];delete this.streamIdToAttendeeId[r],delete this.streamIdToExternalUserId[r],delete this.warnedAboutMissingStreamIdMapping[r],delete this.attendeeIdToStreamId[t],t!==this.selfAttendeeId?this.realtimeController.realtimeSetAttendeeIdPresence(t,!1,i,!1,{attendeeIndex:e,attendeesInFrame:t.length}):this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection")}}sendRealtimeUpdatesForAudioMetadata(e){let t=null,r=null;for(const i of e.attendeeStates){const e=this.attendeeIdForStreamId(i.audioStreamId);i.hasOwnProperty("volume")&&(null===t&&(t={}),null!==e&&(t[e]=this.normalizedVolume(i))),i.hasOwnProperty("signalStrength")&&(null===r&&(r={}),null!==e&&(r[e]=this.normalizedSignalStrength(i)))}this.applyRealtimeUpdatesForAudioMetadata(t,r)}normalizedVolume(e){const t=1-(-e.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(t,0),1)}normalizedSignalStrength(e){const t=e.signalStrength/r.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(t,0),1)}applyRealtimeUpdatesForAudioMetadata(e,t){for(const i in this.streamIdToAttendeeId){const n=this.streamIdToAttendeeId[i],o=this.streamIdToExternalUserId[i];let s=null,a=null;null!==e&&(s=e.hasOwnProperty(n)?e[n]:r.IMPLICIT_VOLUME),null!==t&&(a=t.hasOwnProperty(n)?t[n]:r.IMPLICIT_SIGNAL_STRENGTH),null===s&&null===a||this.realtimeController.realtimeUpdateVolumeIndicator(n,s,null,a,o)}}attendeeIdForStreamId(e){if(0===e)return null;return this.streamIdToAttendeeId[e]||(this.warnedAboutMissingStreamIdMapping[e]||(this.warnedAboutMissingStreamIdMapping[e]=!0,this.logger.warn(`volume indicator stream id ${e} seen before being defined`)),null)}}t.default=r,r.MAX_SIGNAL_STRENGTH_LEVELS=2,r.IMPLICIT_VOLUME=0,r.IMPLICIT_SIGNAL_STRENGTH=1},5786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8495),n=r(4643);t.default=class{constructor(e){this.logger=e}create(e,t,r){this.connection=new WebSocket(r?e:i.default.urlWithVersion(e),t),this.connection.binaryType="arraybuffer"}send(e){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return e instanceof Uint8Array?this.connection.send(e.buffer):this.connection.send(e),!0}catch(e){return this.logger.debug((()=>`send error: ${e.message}, websocket state=${n.default[this.readyState()]}`)),!1}}close(e,t){var r;null===(r=this.connection)||void 0===r||r.close(e,t)}destroy(){this.connection=void 0}addEventListener(e,t){this.connection?this.connection.addEventListener(e,t):this.logger.warn("Cannot add event listener with no WebSocket connection.")}removeEventListener(e,t){var r;null===(r=this.connection)||void 0===r||r.removeEventListener(e,t)}readyState(){if(!this.connection)return n.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return n.default.Connecting;case WebSocket.OPEN:return n.default.Open;case WebSocket.CLOSING:return n.default.Closing;case WebSocket.CLOSED:return n.default.Closed}}}},4643:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=void 0,function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(r=t.WebSocketReadyState||(t.WebSocketReadyState={})),t.default=r},5169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Alert:()=>xt,Button:()=>Ct,Carousel:()=>Vt,Collapse:()=>Wt,Dropdown:()=>dr,Modal:()=>Dr,Offcanvas:()=>zr,Popover:()=>ui,ScrollSpy:()=>bi,Tab:()=>Ti,Toast:()=>Di,Tooltip:()=>ci});var i={};r.r(i),r.d(i,{afterMain:()=>k,afterRead:()=>w,afterWrite:()=>_,applyStyles:()=>D,arrow:()=>Q,auto:()=>c,basePlacements:()=>l,beforeMain:()=>S,beforeRead:()=>v,beforeWrite:()=>C,bottom:()=>o,clippingParents:()=>h,computeStyles:()=>te,createPopper:()=>Ae,createPopperBase:()=>Me,createPopperLite:()=>Oe,detectOverflow:()=>ge,end:()=>u,eventListeners:()=>ie,flip:()=>be,hide:()=>we,left:()=>a,main:()=>x,modifierPhases:()=>T,offset:()=>Se,placements:()=>b,popper:()=>m,popperGenerator:()=>Ie,popperOffsets:()=>xe,preventOverflow:()=>ke,read:()=>y,reference:()=>f,right:()=>s,start:()=>d,top:()=>n,variationPlacements:()=>g,viewport:()=>p,write:()=>E});var n="top",o="bottom",s="right",a="left",c="auto",l=[n,o,s,a],d="start",u="end",h="clippingParents",p="viewport",m="popper",f="reference",g=l.reduce((function(e,t){return e.concat([t+"-"+d,t+"-"+u])}),[]),b=[].concat(l,[c]).reduce((function(e,t){return e.concat([t,t+"-"+d,t+"-"+u])}),[]),v="beforeRead",y="read",w="afterRead",S="beforeMain",x="main",k="afterMain",C="beforeWrite",E="write",_="afterWrite",T=[v,y,w,S,x,k,C,E,_];function I(e){return e?(e.nodeName||"").toLowerCase():null}function M(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function A(e){return e instanceof M(e).Element||e instanceof Element}function O(e){return e instanceof M(e).HTMLElement||e instanceof HTMLElement}function P(e){return"undefined"!=typeof ShadowRoot&&(e instanceof M(e).ShadowRoot||e instanceof ShadowRoot)}const D={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},n=t.elements[e];O(n)&&I(n)&&(Object.assign(n.style,r),Object.keys(i).forEach((function(e){var t=i[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],n=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});O(i)&&I(i)&&(Object.assign(i.style,o),Object.keys(n).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};function R(e){return e.split("-")[0]}var L=Math.max,F=Math.min,B=Math.round;function N(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),i=1,n=1;if(O(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(i=B(r.width)/s||1),o>0&&(n=B(r.height)/o||1)}return{width:r.width/i,height:r.height/n,top:r.top/n,right:r.right/i,bottom:r.bottom/n,left:r.left/i,x:r.left/i,y:r.top/n}}function V(e){var t=N(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function j(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&P(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function U(e){return M(e).getComputedStyle(e)}function z(e){return["table","td","th"].indexOf(I(e))>=0}function $(e){return((A(e)?e.ownerDocument:e.document)||window.document).documentElement}function q(e){return"html"===I(e)?e:e.assignedSlot||e.parentNode||(P(e)?e.host:null)||$(e)}function H(e){return O(e)&&"fixed"!==U(e).position?e.offsetParent:null}function W(e){for(var t=M(e),r=H(e);r&&z(r)&&"static"===U(r).position;)r=H(r);return r&&("html"===I(r)||"body"===I(r)&&"static"===U(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&O(e)&&"fixed"===U(e).position)return null;var r=q(e);for(P(r)&&(r=r.host);O(r)&&["html","body"].indexOf(I(r))<0;){var i=U(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(e)||t}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function G(e,t,r){return L(e,F(t,r))}function J(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Z(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}const Q={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,i=e.name,c=e.options,d=r.elements.arrow,u=r.modifiersData.popperOffsets,h=R(r.placement),p=K(h),m=[a,s].indexOf(h)>=0?"height":"width";if(d&&u){var f=function(e,t){return J("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Z(e,l))}(c.padding,r),g=V(d),b="y"===p?n:a,v="y"===p?o:s,y=r.rects.reference[m]+r.rects.reference[p]-u[p]-r.rects.popper[m],w=u[p]-r.rects.reference[p],S=W(d),x=S?"y"===p?S.clientHeight||0:S.clientWidth||0:0,k=y/2-w/2,C=f[b],E=x-g[m]-f[v],_=x/2-g[m]/2+k,T=G(C,_,E),I=p;r.modifiersData[i]=((t={})[I]=T,t.centerOffset=T-_,t)}},effect:function(e){var t=e.state,r=e.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&j(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function X(e){return e.split("-")[1]}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ee(e){var t,r=e.popper,i=e.popperRect,c=e.placement,l=e.variation,d=e.offsets,h=e.position,p=e.gpuAcceleration,m=e.adaptive,f=e.roundOffsets,g=e.isFixed,b=d.x,v=void 0===b?0:b,y=d.y,w=void 0===y?0:y,S="function"==typeof f?f({x:v,y:w}):{x:v,y:w};v=S.x,w=S.y;var x=d.hasOwnProperty("x"),k=d.hasOwnProperty("y"),C=a,E=n,_=window;if(m){var T=W(r),I="clientHeight",A="clientWidth";T===M(r)&&"static"!==U(T=$(r)).position&&"absolute"===h&&(I="scrollHeight",A="scrollWidth"),(c===n||(c===a||c===s)&&l===u)&&(E=o,w-=(g&&T===_&&_.visualViewport?_.visualViewport.height:T[I])-i.height,w*=p?1:-1),c!==a&&(c!==n&&c!==o||l!==u)||(C=s,v-=(g&&T===_&&_.visualViewport?_.visualViewport.width:T[A])-i.width,v*=p?1:-1)}var O,P=Object.assign({position:h},m&&Y),D=!0===f?function(e){var t=e.x,r=e.y,i=window.devicePixelRatio||1;return{x:B(t*i)/i||0,y:B(r*i)/i||0}}({x:v,y:w}):{x:v,y:w};return v=D.x,w=D.y,p?Object.assign({},P,((O={})[E]=k?"0":"",O[C]=x?"0":"",O.transform=(_.devicePixelRatio||1)<=1?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",O)):Object.assign({},P,((t={})[E]=k?w+"px":"",t[C]=x?v+"px":"",t.transform="",t))}const te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=void 0===i||i,o=r.adaptive,s=void 0===o||o,a=r.roundOffsets,c=void 0===a||a,l={placement:R(t.placement),variation:X(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ee(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ee(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var re={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,o=void 0===n||n,s=i.resize,a=void 0===s||s,c=M(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",r.update,re)})),a&&c.addEventListener("resize",r.update,re),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",r.update,re)})),a&&c.removeEventListener("resize",r.update,re)}},data:{}};var ne={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return ne[e]}))}var se={start:"end",end:"start"};function ae(e){return e.replace(/start|end/g,(function(e){return se[e]}))}function ce(e){var t=M(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function le(e){return N($(e)).left+ce(e).scrollLeft}function de(e){var t=U(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function ue(e){return["html","body","#document"].indexOf(I(e))>=0?e.ownerDocument.body:O(e)&&de(e)?e:ue(q(e))}function he(e,t){var r;void 0===t&&(t=[]);var i=ue(e),n=i===(null==(r=e.ownerDocument)?void 0:r.body),o=M(i),s=n?[o].concat(o.visualViewport||[],de(i)?i:[]):i,a=t.concat(s);return n?a:a.concat(he(q(s)))}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t){return t===p?pe(function(e){var t=M(e),r=$(e),i=t.visualViewport,n=r.clientWidth,o=r.clientHeight,s=0,a=0;return i&&(n=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:n,height:o,x:s+le(e),y:a}}(e)):A(t)?function(e){var t=N(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):pe(function(e){var t,r=$(e),i=ce(e),n=null==(t=e.ownerDocument)?void 0:t.body,o=L(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=L(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+le(e),c=-i.scrollTop;return"rtl"===U(n||r).direction&&(a+=L(r.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}($(e)))}function fe(e){var t,r=e.reference,i=e.element,c=e.placement,l=c?R(c):null,h=c?X(c):null,p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2;switch(l){case n:t={x:p,y:r.y-i.height};break;case o:t={x:p,y:r.y+r.height};break;case s:t={x:r.x+r.width,y:m};break;case a:t={x:r.x-i.width,y:m};break;default:t={x:r.x,y:r.y}}var f=l?K(l):null;if(null!=f){var g="y"===f?"height":"width";switch(h){case d:t[f]=t[f]-(r[g]/2-i[g]/2);break;case u:t[f]=t[f]+(r[g]/2-i[g]/2)}}return t}function ge(e,t){void 0===t&&(t={});var r=t,i=r.placement,a=void 0===i?e.placement:i,c=r.boundary,d=void 0===c?h:c,u=r.rootBoundary,g=void 0===u?p:u,b=r.elementContext,v=void 0===b?m:b,y=r.altBoundary,w=void 0!==y&&y,S=r.padding,x=void 0===S?0:S,k=J("number"!=typeof x?x:Z(x,l)),C=v===m?f:m,E=e.rects.popper,_=e.elements[w?C:v],T=function(e,t,r){var i="clippingParents"===t?function(e){var t=he(q(e)),r=["absolute","fixed"].indexOf(U(e).position)>=0&&O(e)?W(e):e;return A(r)?t.filter((function(e){return A(e)&&j(e,r)&&"body"!==I(e)})):[]}(e):[].concat(t),n=[].concat(i,[r]),o=n[0],s=n.reduce((function(t,r){var i=me(e,r);return t.top=L(i.top,t.top),t.right=F(i.right,t.right),t.bottom=F(i.bottom,t.bottom),t.left=L(i.left,t.left),t}),me(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(A(_)?_:_.contextElement||$(e.elements.popper),d,g),M=N(e.elements.reference),P=fe({reference:M,element:E,strategy:"absolute",placement:a}),D=pe(Object.assign({},E,P)),R=v===m?D:M,B={top:T.top-R.top+k.top,bottom:R.bottom-T.bottom+k.bottom,left:T.left-R.left+k.left,right:R.right-T.right+k.right},V=e.modifiersData.offset;if(v===m&&V){var z=V[a];Object.keys(B).forEach((function(e){var t=[s,o].indexOf(e)>=0?1:-1,r=[n,o].indexOf(e)>=0?"y":"x";B[e]+=z[r]*t}))}return B}const be={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var u=r.mainAxis,h=void 0===u||u,p=r.altAxis,m=void 0===p||p,f=r.fallbackPlacements,v=r.padding,y=r.boundary,w=r.rootBoundary,S=r.altBoundary,x=r.flipVariations,k=void 0===x||x,C=r.allowedAutoPlacements,E=t.options.placement,_=R(E),T=f||(_!==E&&k?function(e){if(R(e)===c)return[];var t=oe(e);return[ae(e),t,ae(t)]}(E):[oe(E)]),I=[E].concat(T).reduce((function(e,r){return e.concat(R(r)===c?function(e,t){void 0===t&&(t={});var r=t,i=r.placement,n=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,d=void 0===c?b:c,u=X(i),h=u?a?g:g.filter((function(e){return X(e)===u})):l,p=h.filter((function(e){return d.indexOf(e)>=0}));0===p.length&&(p=h);var m=p.reduce((function(t,r){return t[r]=ge(e,{placement:r,boundary:n,rootBoundary:o,padding:s})[R(r)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:r,boundary:y,rootBoundary:w,padding:v,flipVariations:k,allowedAutoPlacements:C}):r)}),[]),M=t.rects.reference,A=t.rects.popper,O=new Map,P=!0,D=I[0],L=0;L<I.length;L++){var F=I[L],B=R(F),N=X(F)===d,V=[n,o].indexOf(B)>=0,j=V?"width":"height",U=ge(t,{placement:F,boundary:y,rootBoundary:w,altBoundary:S,padding:v}),z=V?N?s:a:N?o:n;M[j]>A[j]&&(z=oe(z));var $=oe(z),q=[];if(h&&q.push(U[B]<=0),m&&q.push(U[z]<=0,U[$]<=0),q.every((function(e){return e}))){D=F,P=!1;break}O.set(F,q)}if(P)for(var H=function(e){var t=I.find((function(t){var r=O.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},W=k?3:1;W>0&&"break"!==H(W);W--);t.placement!==D&&(t.modifiersData[i]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ve(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function ye(e){return[n,s,o,a].some((function(t){return e[t]>=0}))}const we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,s=ge(t,{elementContext:"reference"}),a=ge(t,{altBoundary:!0}),c=ve(s,i),l=ve(a,n,o),d=ye(c),u=ye(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},Se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,i=e.name,o=r.offset,c=void 0===o?[0,0]:o,l=b.reduce((function(e,r){return e[r]=function(e,t,r){var i=R(e),o=[a,n].indexOf(i)>=0?-1:1,c="function"==typeof r?r(Object.assign({},t,{placement:e})):r,l=c[0],d=c[1];return l=l||0,d=(d||0)*o,[a,s].indexOf(i)>=0?{x:d,y:l}:{x:l,y:d}}(r,t.rects,c),e}),{}),d=l[t.placement],u=d.x,h=d.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=l}},xe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=fe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ke={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name,c=r.mainAxis,l=void 0===c||c,u=r.altAxis,h=void 0!==u&&u,p=r.boundary,m=r.rootBoundary,f=r.altBoundary,g=r.padding,b=r.tether,v=void 0===b||b,y=r.tetherOffset,w=void 0===y?0:y,S=ge(t,{boundary:p,rootBoundary:m,padding:g,altBoundary:f}),x=R(t.placement),k=X(t.placement),C=!k,E=K(x),_="x"===E?"y":"x",T=t.modifiersData.popperOffsets,I=t.rects.reference,M=t.rects.popper,A="function"==typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,O="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(T){if(l){var B,N="y"===E?n:a,j="y"===E?o:s,U="y"===E?"height":"width",z=T[E],$=z+S[N],q=z-S[j],H=v?-M[U]/2:0,J=k===d?I[U]:M[U],Z=k===d?-M[U]:-I[U],Q=t.elements.arrow,Y=v&&Q?V(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[N],re=ee[j],ie=G(0,I[U],Y[U]),ne=C?I[U]/2-H-ie-te-O.mainAxis:J-ie-te-O.mainAxis,oe=C?-I[U]/2+H+ie+re+O.mainAxis:Z+ie+re+O.mainAxis,se=t.elements.arrow&&W(t.elements.arrow),ae=se?"y"===E?se.clientTop||0:se.clientLeft||0:0,ce=null!=(B=null==P?void 0:P[E])?B:0,le=z+oe-ce,de=G(v?F($,z+ne-ce-ae):$,z,v?L(q,le):q);T[E]=de,D[E]=de-z}if(h){var ue,he="x"===E?n:a,pe="x"===E?o:s,me=T[_],fe="y"===_?"height":"width",be=me+S[he],ve=me-S[pe],ye=-1!==[n,a].indexOf(x),we=null!=(ue=null==P?void 0:P[_])?ue:0,Se=ye?be:me-I[fe]-M[fe]-we+O.altAxis,xe=ye?me+I[fe]+M[fe]-we-O.altAxis:ve,ke=v&&ye?function(e,t,r){var i=G(e,t,r);return i>r?r:i}(Se,me,xe):G(v?Se:be,me,v?xe:ve);T[_]=ke,D[_]=ke-me}t.modifiersData[i]=D}},requiresIfExists:["offset"]};function Ce(e,t,r){void 0===r&&(r=!1);var i,n,o=O(t),s=O(t)&&function(e){var t=e.getBoundingClientRect(),r=B(t.width)/e.offsetWidth||1,i=B(t.height)/e.offsetHeight||1;return 1!==r||1!==i}(t),a=$(t),c=N(e,s),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!r)&&(("body"!==I(t)||de(a))&&(l=(i=t)!==M(i)&&O(i)?{scrollLeft:(n=i).scrollLeft,scrollTop:n.scrollTop}:ce(i)),O(t)?((d=N(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=le(a))),{x:c.left+l.scrollLeft-d.x,y:c.top+l.scrollTop-d.y,width:c.width,height:c.height}}function Ee(e){var t=new Map,r=new Set,i=[];function n(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var i=t.get(e);i&&n(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||n(e)})),i}var _e={placement:"bottom",modifiers:[],strategy:"absolute"};function Te(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Ie(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,i=void 0===r?[]:r,n=t.defaultOptions,o=void 0===n?_e:n;return function(e,t,r){void 0===r&&(r=o);var n,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},_e,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,d={state:a,setOptions:function(r){var n="function"==typeof r?r(a.options):r;u(),a.options=Object.assign({},o,a.options,n),a.scrollParents={reference:A(e)?he(e):e.contextElement?he(e.contextElement):[],popper:he(t)};var s,l,h=function(e){var t=Ee(e);return T.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((s=[].concat(i,a.options.modifiers),l=s.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,i=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var o=n({state:a,name:t,instance:d,options:i});c.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,r=e.popper;if(Te(t,r)){a.rects={reference:Ce(t,W(r),"fixed"===a.options.strategy),popper:V(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var n=a.orderedModifiers[i],o=n.fn,s=n.options,c=void 0===s?{}:s,u=n.name;"function"==typeof o&&(a=o({state:a,options:c,name:u,instance:d})||a)}else a.reset=!1,i=-1}}},update:(n=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(n())}))}))),s}),destroy:function(){u(),l=!0}};if(!Te(e,t))return d;function u(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(r).then((function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var Me=Ie(),Ae=Ie({defaultModifiers:[ie,xe,te,D,Se,be,ke,Q,we]}),Oe=Ie({defaultModifiers:[ie,xe,te,D]});const Pe="transitionend",De=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&"#"!==r?r.trim():null}return t},Re=e=>{const t=De(e);return t&&document.querySelector(t)?t:null},Le=e=>{const t=De(e);return t?document.querySelector(t):null},Fe=e=>{e.dispatchEvent(new Event(Pe))},Be=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),Ne=e=>Be(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,Ve=e=>{if(!Be(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),r=e.closest("details:not([open])");if(!r)return t;if(r!==e){const t=e.closest("summary");if(t&&t.parentNode!==r)return!1;if(null===t)return!1}return t},je=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),Ue=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ue(e.parentNode):null},ze=()=>{},$e=e=>{e.offsetHeight},qe=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,He=[],We=()=>"rtl"===document.documentElement.dir,Ke=e=>{var t;t=()=>{const t=qe();if(t){const r=e.NAME,i=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=i,e.jQueryInterface)}},"loading"===document.readyState?(He.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of He)e()})),He.push(t)):t()},Ge=e=>{"function"==typeof e&&e()},Je=(e,t,r=!0)=>{if(!r)return void Ge(e);const i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(e);const i=Number.parseFloat(t),n=Number.parseFloat(r);return i||n?(t=t.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(r))):0})(t)+5;let n=!1;const o=({target:r})=>{r===t&&(n=!0,t.removeEventListener(Pe,o),Ge(e))};t.addEventListener(Pe,o),setTimeout((()=>{n||Fe(t)}),i)},Ze=(e,t,r,i)=>{const n=e.length;let o=e.indexOf(t);return-1===o?!r&&i?e[n-1]:e[0]:(o+=r?1:-1,i&&(o=(o+n)%n),e[Math.max(0,Math.min(o,n-1))])},Qe=/[^.]*(?=\..*)\.|.*/,Xe=/\..*/,Ye=/::\d+$/,et={};let tt=1;const rt={mouseenter:"mouseover",mouseleave:"mouseout"},it=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function nt(e,t){return t&&`${t}::${tt++}`||e.uidEvent||tt++}function ot(e){const t=nt(e);return e.uidEvent=t,et[t]=et[t]||{},et[t]}function st(e,t,r=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===r))}function at(e,t,r){const i="string"==typeof t,n=i?r:t||r;let o=ut(e);return it.has(o)||(o=e),[i,n,o]}function ct(e,t,r,i,n){if("string"!=typeof t||!e)return;let[o,s,a]=at(t,r,i);if(t in rt){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const c=ot(e),l=c[a]||(c[a]={}),d=st(l,s,o?r:null);if(d)return void(d.oneOff=d.oneOff&&n);const u=nt(s,t.replace(Qe,"")),h=o?function(e,t,r){return function i(n){const o=e.querySelectorAll(t);for(let{target:s}=n;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return pt(n,{delegateTarget:s}),i.oneOff&&ht.off(e,n.type,t,r),r.apply(s,[n])}}(e,r,s):function(e,t){return function r(i){return pt(i,{delegateTarget:e}),r.oneOff&&ht.off(e,i.type,t),t.apply(e,[i])}}(e,s);h.delegationSelector=o?r:null,h.callable=s,h.oneOff=n,h.uidEvent=u,l[u]=h,e.addEventListener(a,h,o)}function lt(e,t,r,i,n){const o=st(t[r],i,n);o&&(e.removeEventListener(r,o,Boolean(n)),delete t[r][o.uidEvent])}function dt(e,t,r,i){const n=t[r]||{};for(const o of Object.keys(n))if(o.includes(i)){const i=n[o];lt(e,t,r,i.callable,i.delegationSelector)}}function ut(e){return e=e.replace(Xe,""),rt[e]||e}const ht={on(e,t,r,i){ct(e,t,r,i,!1)},one(e,t,r,i){ct(e,t,r,i,!0)},off(e,t,r,i){if("string"!=typeof t||!e)return;const[n,o,s]=at(t,r,i),a=s!==t,c=ot(e),l=c[s]||{},d=t.startsWith(".");if(void 0===o){if(d)for(const r of Object.keys(c))dt(e,c,r,t.slice(1));for(const r of Object.keys(l)){const i=r.replace(Ye,"");if(!a||t.includes(i)){const t=l[r];lt(e,c,s,t.callable,t.delegationSelector)}}}else{if(!Object.keys(l).length)return;lt(e,c,s,o,n?r:null)}},trigger(e,t,r){if("string"!=typeof t||!e)return null;const i=qe();let n=null,o=!0,s=!0,a=!1;t!==ut(t)&&i&&(n=i.Event(t,r),i(e).trigger(n),o=!n.isPropagationStopped(),s=!n.isImmediatePropagationStopped(),a=n.isDefaultPrevented());let c=new Event(t,{bubbles:o,cancelable:!0});return c=pt(c,r),a&&c.preventDefault(),s&&e.dispatchEvent(c),c.defaultPrevented&&n&&n.preventDefault(),c}};function pt(e,t){for(const[r,i]of Object.entries(t||{}))try{e[r]=i}catch(t){Object.defineProperty(e,r,{configurable:!0,get:()=>i})}return e}const mt=new Map,ft={set(e,t,r){mt.has(e)||mt.set(e,new Map);const i=mt.get(e);i.has(t)||0===i.size?i.set(t,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>mt.has(e)&&mt.get(e).get(t)||null,remove(e,t){if(!mt.has(e))return;const r=mt.get(e);r.delete(t),0===r.size&&mt.delete(e)}};function gt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function bt(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const vt={setDataAttribute(e,t,r){e.setAttribute(`data-bs-${bt(t)}`,r)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${bt(t)}`)},getDataAttributes(e){if(!e)return{};const t={},r=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const i of r){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=gt(e.dataset[i])}return t},getDataAttribute:(e,t)=>gt(e.getAttribute(`data-bs-${bt(t)}`))};class yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Be(t)?vt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...Be(t)?vt.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const n=t[i],o=e[i],s=Be(o)?"element":null==(r=o)?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)}var r}}class wt extends yt{constructor(e,t){super(),(e=Ne(e))&&(this._element=e,this._config=this._getConfig(t),ft.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ft.remove(this._element,this.constructor.DATA_KEY),ht.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){Je(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ft.get(Ne(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const St=(e,t="hide")=>{const r=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;ht.on(document,r,`[data-bs-dismiss="${i}"]`,(function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),je(this))return;const n=Le(this)||this.closest(`.${i}`);e.getOrCreateInstance(n)[t]()}))};class xt extends wt{static get NAME(){return"alert"}close(){if(ht.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),ht.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=xt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}St(xt,"close"),Ke(xt);const kt='[data-bs-toggle="button"]';class Ct extends wt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Ct.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}ht.on(document,"click.bs.button.data-api",kt,(e=>{e.preventDefault();const t=e.target.closest(kt);Ct.getOrCreateInstance(t).toggle()})),Ke(Ct);const Et={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const r=[];let i=e.parentNode.closest(t);for(;i;)r.push(i),i=i.parentNode.closest(t);return r},prev(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!je(e)&&Ve(e)))}},_t={endCallback:null,leftCallback:null,rightCallback:null},Tt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class It extends yt{constructor(e,t){super(),this._element=e,e&&It.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return _t}static get DefaultType(){return Tt}static get NAME(){return"swipe"}dispose(){ht.off(this._element,".bs.swipe")}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ge(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Ge(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ht.on(this._element,"pointerdown.bs.swipe",(e=>this._start(e))),ht.on(this._element,"pointerup.bs.swipe",(e=>this._end(e))),this._element.classList.add("pointer-event")):(ht.on(this._element,"touchstart.bs.swipe",(e=>this._start(e))),ht.on(this._element,"touchmove.bs.swipe",(e=>this._move(e))),ht.on(this._element,"touchend.bs.swipe",(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Mt="next",At="prev",Ot="left",Pt="right",Dt="slid.bs.carousel",Rt="carousel",Lt="active",Ft={ArrowLeft:Pt,ArrowRight:Ot},Bt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vt extends wt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Et.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Rt&&this.cycle()}static get Default(){return Bt}static get DefaultType(){return Nt}static get NAME(){return"carousel"}next(){this._slide(Mt)}nextWhenVisible(){!document.hidden&&Ve(this._element)&&this.next()}prev(){this._slide(At)}pause(){this._isSliding&&Fe(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ht.one(this._element,Dt,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ht.one(this._element,Dt,(()=>this.to(e)));const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Mt:At;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ht.on(this._element,"keydown.bs.carousel",(e=>this._keydown(e))),"hover"===this._config.pause&&(ht.on(this._element,"mouseenter.bs.carousel",(()=>this.pause())),ht.on(this._element,"mouseleave.bs.carousel",(()=>this._maybeEnableCycle()))),this._config.touch&&It.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of Et.find(".carousel-item img",this._element))ht.on(e,"dragstart.bs.carousel",(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Ot)),rightCallback:()=>this._slide(this._directionToOrder(Pt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new It(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ft[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Et.findOne(".active",this._indicatorsElement);t.classList.remove(Lt),t.removeAttribute("aria-current");const r=Et.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Lt),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Mt,n=t||Ze(this._getItems(),r,i,this._config.wrap);if(n===r)return;const o=this._getItemIndex(n),s=t=>ht.trigger(this._element,t,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:o});if(s("slide.bs.carousel").defaultPrevented)return;if(!r||!n)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=n;const c=i?"carousel-item-start":"carousel-item-end",l=i?"carousel-item-next":"carousel-item-prev";n.classList.add(l),$e(n),r.classList.add(c),n.classList.add(c),this._queueCallback((()=>{n.classList.remove(c,l),n.classList.add(Lt),r.classList.remove(Lt,l,c),this._isSliding=!1,s(Dt)}),r,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Et.findOne(".active.carousel-item",this._element)}_getItems(){return Et.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return We()?e===Ot?At:Mt:e===Ot?Mt:At}_orderToDirection(e){return We()?e===At?Ot:Pt:e===At?Pt:Ot}static jQueryInterface(e){return this.each((function(){const t=Vt.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}ht.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(e){const t=Le(this);if(!t||!t.classList.contains(Rt))return;e.preventDefault();const r=Vt.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(r.to(i),void r._maybeEnableCycle()):"next"===vt.getDataAttribute(this,"slide")?(r.next(),void r._maybeEnableCycle()):(r.prev(),void r._maybeEnableCycle())})),ht.on(window,"load.bs.carousel.data-api",(()=>{const e=Et.find('[data-bs-ride="carousel"]');for(const t of e)Vt.getOrCreateInstance(t)})),Ke(Vt);const jt="show",Ut="collapse",zt="collapsing",$t='[data-bs-toggle="collapse"]',qt={parent:null,toggle:!0},Ht={parent:"(null|element)",toggle:"boolean"};class Wt extends wt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Et.find($t);for(const e of r){const t=Re(e),r=Et.find(t).filter((e=>e===this._element));null!==t&&r.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return qt}static get DefaultType(){return Ht}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Wt.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(ht.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Ut),this._element.classList.add(zt),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(zt),this._element.classList.add(Ut,jt),this._element.style[t]="",ht.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[t]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ht.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,$e(this._element),this._element.classList.add(zt),this._element.classList.remove(Ut,jt);for(const e of this._triggerArray){const t=Le(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(zt),this._element.classList.add(Ut),ht.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(jt)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Ne(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren($t);for(const t of e){const e=Le(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Et.find(":scope .collapse .collapse",this._config.parent);return Et.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const r=Wt.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===r[e])throw new TypeError(`No method named "${e}"`);r[e]()}}))}}ht.on(document,"click.bs.collapse.data-api",$t,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=Re(this),r=Et.find(t);for(const e of r)Wt.getOrCreateInstance(e,{toggle:!1}).toggle()})),Ke(Wt);const Kt="dropdown",Gt="ArrowUp",Jt="ArrowDown",Zt="click.bs.dropdown.data-api",Qt="keydown.bs.dropdown.data-api",Xt="show",Yt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',er=`${Yt}.show`,tr=".dropdown-menu",rr=We()?"top-end":"top-start",ir=We()?"top-start":"top-end",nr=We()?"bottom-end":"bottom-start",or=We()?"bottom-start":"bottom-end",sr=We()?"left-start":"right-start",ar=We()?"right-start":"left-start",cr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class dr extends wt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Et.findOne(tr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cr}static get DefaultType(){return lr}static get NAME(){return Kt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(je(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ht.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",ze);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Xt),this._element.classList.add(Xt),ht.trigger(this._element,"shown.bs.dropdown",e)}}hide(){if(je(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ht.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",ze);this._popper&&this._popper.destroy(),this._menu.classList.remove(Xt),this._element.classList.remove(Xt),this._element.setAttribute("aria-expanded","false"),vt.removeDataAttribute(this._menu,"popper"),ht.trigger(this._element,"hidden.bs.dropdown",e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Be(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Kt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Be(this._config.reference)?e=Ne(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ae(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Xt)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return sr;if(e.classList.contains("dropstart"))return ar;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ir:rr:t?or:nr}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(vt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const r=Et.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>Ve(e)));r.length&&Ze(r,t,e===Jt,!r.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=dr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Et.find(er);for(const r of t){const t=dr.getInstance(r);if(!t||!1===t._config.autoClose)continue;const i=e.composedPath(),n=i.includes(t._menu);if(i.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=[Gt,Jt].includes(e.key);if(!i&&!r)return;if(t&&!r)return;e.preventDefault();const n=Et.findOne(Yt,e.delegateTarget.parentNode),o=dr.getOrCreateInstance(n);if(i)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),n.focus())}}ht.on(document,Qt,Yt,dr.dataApiKeydownHandler),ht.on(document,Qt,tr,dr.dataApiKeydownHandler),ht.on(document,Zt,dr.clearMenus),ht.on(document,"keyup.bs.dropdown.data-api",dr.clearMenus),ht.on(document,Zt,Yt,(function(e){e.preventDefault(),dr.getOrCreateInstance(this).toggle()})),Ke(dr);const ur=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hr=".sticky-top",pr="padding-right",mr="margin-right";class fr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pr,(t=>t+e)),this._setElementAttributes(ur,pr,(t=>t+e)),this._setElementAttributes(hr,mr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pr),this._resetElementAttributes(ur,pr),this._resetElementAttributes(hr,mr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const n=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${r(Number.parseFloat(n))}px`)}))}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&vt.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const r=vt.getDataAttribute(e,t);null!==r?(vt.removeDataAttribute(e,t),e.style.setProperty(t,r)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(Be(e))t(e);else for(const r of Et.find(e,this._element))t(r)}}const gr="show",br="mousedown.bs.backdrop",vr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},yr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wr extends yt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return vr}static get DefaultType(){return yr}static get NAME(){return"backdrop"}show(e){if(!this._config.isVisible)return void Ge(e);this._append();const t=this._getElement();this._config.isAnimated&&$e(t),t.classList.add(gr),this._emulateAnimation((()=>{Ge(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(gr),this._emulateAnimation((()=>{this.dispose(),Ge(e)}))):Ge(e)}dispose(){this._isAppended&&(ht.off(this._element,br),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ne(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ht.on(e,br,(()=>{Ge(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Je(e,this._getElement(),this._config.isAnimated)}}const Sr=".bs.focustrap",xr="backward",kr={autofocus:!0,trapElement:null},Cr={autofocus:"boolean",trapElement:"element"};class Er extends yt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kr}static get DefaultType(){return Cr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ht.off(document,Sr),ht.on(document,"focusin.bs.focustrap",(e=>this._handleFocusin(e))),ht.on(document,"keydown.tab.bs.focustrap",(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ht.off(document,Sr))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Et.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===xr?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?xr:"forward")}}const _r="hidden.bs.modal",Tr="show.bs.modal",Ir="modal-open",Mr="show",Ar="modal-static",Or={backdrop:!0,focus:!0,keyboard:!0},Pr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Dr extends wt{constructor(e,t){super(e,t),this._dialog=Et.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fr,this._addEventListeners()}static get Default(){return Or}static get DefaultType(){return Pr}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ht.trigger(this._element,Tr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ir),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(ht.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Mr),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const e of[window,this._dialog])ht.off(e,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Er({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Et.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),$e(this._element),this._element.classList.add(Mr),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ht.trigger(this._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){ht.on(this._element,"keydown.dismiss.bs.modal",(e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),ht.on(window,"resize.bs.modal",(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),ht.on(this._element,"mousedown.dismiss.bs.modal",(e=>{e.target===e.currentTarget&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Ir),this._resetAdjustments(),this._scrollBar.reset(),ht.trigger(this._element,_r)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ht.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Ar)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ar),this._queueCallback((()=>{this._element.classList.remove(Ar),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const e=We()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!r&&e){const e=We()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const r=Dr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw new TypeError(`No method named "${e}"`);r[e](t)}}))}}ht.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=Le(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ht.one(t,Tr,(e=>{e.defaultPrevented||ht.one(t,_r,(()=>{Ve(this)&&this.focus()}))}));const r=Et.findOne(".modal.show");r&&Dr.getInstance(r).hide(),Dr.getOrCreateInstance(t).toggle(this)})),St(Dr),Ke(Dr);const Rr="show",Lr="showing",Fr="hiding",Br=".offcanvas.show",Nr="hidePrevented.bs.offcanvas",Vr="hidden.bs.offcanvas",jr={backdrop:!0,keyboard:!0,scroll:!1},Ur={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class zr extends wt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return jr}static get DefaultType(){return Ur}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ht.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new fr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Lr),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Rr),this._element.classList.remove(Lr),ht.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(ht.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fr),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Rr,Fr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new fr).reset(),ht.trigger(this._element,Vr)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new wr({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():ht.trigger(this._element,Nr)}:null})}_initializeFocusTrap(){return new Er({trapElement:this._element})}_addEventListeners(){ht.on(this._element,"keydown.dismiss.bs.offcanvas",(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():ht.trigger(this._element,Nr))}))}static jQueryInterface(e){return this.each((function(){const t=zr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ht.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=Le(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),je(this))return;ht.one(t,Vr,(()=>{Ve(this)&&this.focus()}));const r=Et.findOne(Br);r&&r!==t&&zr.getInstance(r).hide(),zr.getOrCreateInstance(t).toggle(this)})),ht.on(window,"load.bs.offcanvas.data-api",(()=>{for(const e of Et.find(Br))zr.getOrCreateInstance(e).show()})),ht.on(window,"resize.bs.offcanvas",(()=>{for(const e of Et.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&zr.getOrCreateInstance(e).hide()})),St(zr),Ke(zr);const $r=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Hr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Wr=(e,t)=>{const r=e.nodeName.toLowerCase();return t.includes(r)?!$r.has(r)||Boolean(qr.test(e.nodeValue)||Hr.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(r)))},Kr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gr={allowList:Kr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Jr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Zr={entry:"(string|element|function|null)",selector:"(string|element)"};class Qr extends yt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Gr}static get DefaultType(){return Jr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,r]of Object.entries(this._config.content))this._setContent(e,r,t);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},Zr)}_setContent(e,t,r){const i=Et.findOne(r,e);i&&((t=this._resolvePossibleFunction(t))?Be(t)?this._putElementInTemplate(Ne(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,r){if(!e.length)return e;if(r&&"function"==typeof r)return r(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),n=[].concat(...i.body.querySelectorAll("*"));for(const e of n){const r=e.nodeName.toLowerCase();if(!Object.keys(t).includes(r)){e.remove();continue}const i=[].concat(...e.attributes),n=[].concat(t["*"]||[],t[r]||[]);for(const t of i)Wr(t,n)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Xr=new Set(["sanitize","allowList","sanitizeFn"]),Yr="fade",ei="show",ti=".modal",ri="hide.bs.modal",ii="hover",ni="focus",oi={AUTO:"auto",TOP:"top",RIGHT:We()?"left":"right",BOTTOM:"bottom",LEFT:We()?"right":"left"},si={allowList:Kr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ai={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ci extends wt{constructor(e,t){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return si}static get DefaultType(){return ai}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled){if(e){const t=this._initializeOnDelegatedTarget(e);return t._activeTrigger.click=!t._activeTrigger.click,void(t._isWithActiveTrigger()?t._enter():t._leave())}this._isShown()?this._leave():this._enter()}}dispose(){clearTimeout(this._timeout),ht.off(this._element.closest(ti),ri,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ht.trigger(this._element,this.constructor.eventName("show")),t=(Ue(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this.tip&&(this.tip.remove(),this.tip=null);const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),ht.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(r),r.classList.add(ei),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",ze);this._queueCallback((()=>{const e=this._isHovered;this._isHovered=!1,ht.trigger(this._element,this.constructor.eventName("shown")),e&&this._leave()}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(ht.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const e=this._getTipElement();if(e.classList.remove(ei),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",ze);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=!1,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||e.remove(),this._element.removeAttribute("aria-describedby"),ht.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Yr,ei),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Yr),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Qr({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Yr)}_isShown(){return this.tip&&this.tip.classList.contains(ei)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,r=oi[t.toUpperCase()];return Ae(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ht.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>this.toggle(e)));else if("manual"!==t){const e=t===ii?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=t===ii?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ht.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?ni:ii]=!0,t._enter()})),ht.on(this._element,r,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?ni:ii]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},ht.on(this._element.closest(ti),ri,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._config.originalTitle;e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=vt.getDataAttributes(this._element);for(const e of Object.keys(t))Xr.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Ne(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e.originalTitle=this._element.getAttribute("title")||"","number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const t=ci.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ke(ci);const li={...ci.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},di={...ci.DefaultType,content:"(null|string|element|function)"};class ui extends ci{static get Default(){return li}static get DefaultType(){return di}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=ui.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ke(ui);const hi="click.bs.scrollspy",pi="active",mi="[href]",fi={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},gi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"};class bi extends wt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return fi}static get DefaultType(){return gi}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ne(e.target)||document.body,e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ht.off(this._config.target,hi),ht.on(this._config.target,hi,mi,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}})))}_getNewObserver(){const e={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),r=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,n=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&e){if(r(o),!i)return}else n||e||r(o)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Et.find(mi,this._config.target);for(const t of e){if(!t.hash||je(t))continue;const e=Et.findOne(t.hash,this._element);Ve(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(pi),this._activateParents(e),ht.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Et.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(pi);else for(const t of Et.parents(e,".nav, .list-group"))for(const e of Et.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))e.classList.add(pi)}_clearActiveClass(e){e.classList.remove(pi);const t=Et.find("[href].active",e);for(const e of t)e.classList.remove(pi)}static jQueryInterface(e){return this.each((function(){const t=bi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(window,"load.bs.scrollspy.data-api",(()=>{for(const e of Et.find('[data-bs-spy="scroll"]'))bi.getOrCreateInstance(e)})),Ke(bi);const vi="ArrowLeft",yi="ArrowRight",wi="ArrowUp",Si="ArrowDown",xi="active",ki="fade",Ci="show",Ei='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_i=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ei}`;class Ti extends wt{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ht.on(this._element,"keydown.bs.tab",(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ht.trigger(t,"hide.bs.tab",{relatedTarget:e}):null;ht.trigger(e,"show.bs.tab",{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(xi),this._activate(Le(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ht.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(Ci)}),e,e.classList.contains(ki)))}_deactivate(e,t){e&&(e.classList.remove(xi),e.blur(),this._deactivate(Le(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ht.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(Ci)}),e,e.classList.contains(ki)))}_keydown(e){if(![vi,yi,wi,Si].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[yi,Si].includes(e.key),r=Ze(this._getChildren().filter((e=>!je(e))),e.target,t,!0);r&&Ti.getOrCreateInstance(r).show()}_getChildren(){return Et.find(_i,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Le(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;const i=(e,i)=>{const n=Et.findOne(e,r);n&&n.classList.toggle(i,t)};i(".dropdown-toggle",xi),i(".dropdown-menu",Ci),i(".dropdown-item",xi),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(xi)}_getInnerElement(e){return e.matches(_i)?e:Et.findOne(_i,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Ti.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(document,"click.bs.tab",Ei,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),je(this)||Ti.getOrCreateInstance(this).show()})),ht.on(window,"load.bs.tab",(()=>{for(const e of Et.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Ti.getOrCreateInstance(e)})),Ke(Ti);const Ii="hide",Mi="show",Ai="showing",Oi={animation:"boolean",autohide:"boolean",delay:"number"},Pi={animation:!0,autohide:!0,delay:5e3};class Di extends wt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pi}static get DefaultType(){return Oi}static get NAME(){return"toast"}show(){ht.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ii),$e(this._element),this._element.classList.add(Mi,Ai),this._queueCallback((()=>{this._element.classList.remove(Ai),ht.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(ht.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ai),this._queueCallback((()=>{this._element.classList.add(Ii),this._element.classList.remove(Ai,Mi),ht.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Mi),super.dispose()}isShown(){return this._element.classList.contains(Mi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ht.on(this._element,"mouseover.bs.toast",(e=>this._onInteraction(e,!0))),ht.on(this._element,"mouseout.bs.toast",(e=>this._onInteraction(e,!1))),ht.on(this._element,"focusin.bs.toast",(e=>this._onInteraction(e,!0))),ht.on(this._element,"focusout.bs.toast",(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Di.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}St(Di),Ke(Di)},2411:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var i=r(8081),n=r.n(i),o=r(3645),s=r.n(o),a=r(1667),c=r.n(a),l=new URL(r(6770),r.b),d=new URL(r(6199),r.b),u=new URL(r(2204),r.b),h=new URL(r(8931),r.b),p=new URL(r(7486),r.b),m=new URL(r(1763),r.b),f=new URL(r(2469),r.b),g=new URL(r(9134),r.b),b=new URL(r(15),r.b),v=new URL(r(1217),r.b),y=new URL(r(1116),r.b),w=new URL(r(6529),r.b),S=new URL(r(8179),r.b),x=new URL(r(6254),r.b),k=new URL(r(5647),r.b),C=new URL(r(1692),r.b),E=s()(n()),_=c()(l),T=c()(d),I=c()(u),M=c()(h),A=c()(p),O=c()(m),P=c()(f),D=c()(g),R=c()(b),L=c()(v),F=c()(y),B=c()(w),N=c()(S),V=c()(x),j=c()(k),U=c()(C);E.push([e.id,'/*!\n * Bootstrap  v5.2.0 (https://getbootstrap.com/)\n * Copyright 2011-2022 The Bootstrap Authors\n * Copyright 2011-2022 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--bs-blue: #2c3e50;--bs-indigo: #6610f2;--bs-purple: #6f42c1;--bs-pink: #e83e8c;--bs-red: #e74c3c;--bs-orange: #fd7e14;--bs-yellow: #f39c12;--bs-green: #18bc9c;--bs-teal: #20c997;--bs-cyan: #3498db;--bs-black: #000;--bs-white: #fff;--bs-gray: #95a5a6;--bs-gray-dark: #343a40;--bs-gray-100: #f8f9fa;--bs-gray-200: #ecf0f1;--bs-gray-300: #dee2e6;--bs-gray-400: #ced4da;--bs-gray-500: #b4bcc2;--bs-gray-600: #95a5a6;--bs-gray-700: #7b8a8b;--bs-gray-800: #343a40;--bs-gray-900: #212529;--bs-primary: #2c3e50;--bs-secondary: #95a5a6;--bs-success: #18bc9c;--bs-info: #3498db;--bs-warning: #f39c12;--bs-danger: #e74c3c;--bs-light: #ecf0f1;--bs-dark: #7b8a8b;--bs-primary-rgb: 44, 62, 80;--bs-secondary-rgb: 149, 165, 166;--bs-success-rgb: 24, 188, 156;--bs-info-rgb: 52, 152, 219;--bs-warning-rgb: 243, 156, 18;--bs-danger-rgb: 231, 76, 60;--bs-light-rgb: 236, 240, 241;--bs-dark-rgb: 123, 138, 139;--bs-white-rgb: 255, 255, 255;--bs-black-rgb: 0, 0, 0;--bs-body-color-rgb: 33, 37, 41;--bs-body-bg-rgb: 255, 255, 255;--bs-font-sans-serif: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;--bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family: Lato, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;--bs-body-font-size:0.9375rem;--bs-body-font-weight: 400;--bs-body-line-height: 1.5;--bs-body-color: #212529;--bs-body-bg: #fff;--bs-border-width: 1px;--bs-border-style: solid;--bs-border-color: #dee2e6;--bs-border-color-translucent: rgba(0, 0, 0, 0.175);--bs-border-radius: 0.375rem;--bs-border-radius-sm: 0.25rem;--bs-border-radius-lg: 0.5rem;--bs-border-radius-xl: 1rem;--bs-border-radius-2xl: 2rem;--bs-border-radius-pill: 50rem;--bs-link-color: #18bc9c;--bs-link-hover-color: #13967d;--bs-code-color: #e83e8c;--bs-highlight-bg: #fdebd0}*,*::before,*::after{box-sizing:border-box}@media(prefers-reduced-motion: no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}hr{margin:1rem 0;color:inherit;border:0;border-top:1px solid;opacity:.25}h6,.h6,h5,.h5,h4,.h4,h3,.h3,h2,.h2,h1,.h1{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1,.h1{font-size:calc(1.425rem + 2.1vw)}@media(min-width: 1200px){h1,.h1{font-size:3rem}}h2,.h2{font-size:calc(1.375rem + 1.5vw)}@media(min-width: 1200px){h2,.h2{font-size:2.5rem}}h3,.h3{font-size:calc(1.325rem + 0.9vw)}@media(min-width: 1200px){h3,.h3{font-size:2rem}}h4,.h4{font-size:calc(1.265625rem + 0.1875vw)}@media(min-width: 1200px){h4,.h4{font-size:1.40625rem}}h5,.h5{font-size:1.171875rem}h6,.h6{font-size:0.9375rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}ol,ul,dl{margin-top:0;margin-bottom:1rem}ol ol,ul ul,ol ul,ul ol{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small,.small{font-size:0.875em}mark,.mark{padding:.1875em;background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:0.75em;line-height:0;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}a{color:var(--bs-link-color);text-decoration:underline}a:hover{color:var(--bs-link-hover-color)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre,code,kbd,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:0.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:0.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:0.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#95a5a6;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}thead,tbody,tfoot,tr,td,th{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}input,button,select,optgroup,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none !important}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button:not(:disabled),[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + 0.3vw);line-height:inherit}@media(min-width: 1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-text,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none !important}.lead{font-size:1.171875rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media(min-width: 1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:0.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.171875rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:0.875em;color:#95a5a6}.blockquote-footer::before{content:""}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid var(--bs-border-color);border-radius:.375rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:0.875em;color:#95a5a6}.container,.container-fluid,.container-xxl,.container-xl,.container-lg,.container-md,.container-sm{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;width:100%;padding-right:calc(var(--bs-gutter-x)*.5);padding-left:calc(var(--bs-gutter-x)*.5);margin-right:auto;margin-left:auto}@media(min-width: 576px){.container-sm,.container{max-width:540px}}@media(min-width: 768px){.container-md,.container-sm,.container{max-width:720px}}@media(min-width: 992px){.container-lg,.container-md,.container-sm,.container{max-width:960px}}@media(min-width: 1200px){.container-xl,.container-lg,.container-md,.container-sm,.container{max-width:1140px}}@media(min-width: 1400px){.container-xxl,.container-xl,.container-lg,.container-md,.container-sm,.container{max-width:1320px}}.row{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1*var(--bs-gutter-y));margin-right:calc(-0.5*var(--bs-gutter-x));margin-left:calc(-0.5*var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x)*.5);padding-left:calc(var(--bs-gutter-x)*.5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x: 0}.g-0,.gy-0{--bs-gutter-y: 0}.g-1,.gx-1{--bs-gutter-x: 0.25rem}.g-1,.gy-1{--bs-gutter-y: 0.25rem}.g-2,.gx-2{--bs-gutter-x: 0.5rem}.g-2,.gy-2{--bs-gutter-y: 0.5rem}.g-3,.gx-3{--bs-gutter-x: 1rem}.g-3,.gy-3{--bs-gutter-y: 1rem}.g-4,.gx-4{--bs-gutter-x: 1.5rem}.g-4,.gy-4{--bs-gutter-y: 1.5rem}.g-5,.gx-5{--bs-gutter-x: 3rem}.g-5,.gy-5{--bs-gutter-y: 3rem}@media(min-width: 576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x: 0}.g-sm-0,.gy-sm-0{--bs-gutter-y: 0}.g-sm-1,.gx-sm-1{--bs-gutter-x: 0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y: 0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x: 0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y: 0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x: 1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y: 1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x: 1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y: 1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x: 3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y: 3rem}}@media(min-width: 768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x: 0}.g-md-0,.gy-md-0{--bs-gutter-y: 0}.g-md-1,.gx-md-1{--bs-gutter-x: 0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y: 0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x: 0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y: 0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x: 1rem}.g-md-3,.gy-md-3{--bs-gutter-y: 1rem}.g-md-4,.gx-md-4{--bs-gutter-x: 1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y: 1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x: 3rem}.g-md-5,.gy-md-5{--bs-gutter-y: 3rem}}@media(min-width: 992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x: 0}.g-lg-0,.gy-lg-0{--bs-gutter-y: 0}.g-lg-1,.gx-lg-1{--bs-gutter-x: 0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y: 0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x: 0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y: 0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x: 1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y: 1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x: 1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y: 1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x: 3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y: 3rem}}@media(min-width: 1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x: 0}.g-xl-0,.gy-xl-0{--bs-gutter-y: 0}.g-xl-1,.gx-xl-1{--bs-gutter-x: 0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y: 0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x: 0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y: 0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x: 1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y: 1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x: 1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y: 1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x: 3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y: 3rem}}@media(min-width: 1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x: 0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y: 0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x: 0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y: 0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x: 0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y: 0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x: 1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y: 1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x: 1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y: 1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x: 3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y: 3rem}}.table{--bs-table-color: var(--bs-body-color);--bs-table-bg: transparent;--bs-table-border-color: var(--bs-border-color);--bs-table-accent-bg: #ecf0f1;--bs-table-striped-color: var(--bs-body-color);--bs-table-striped-bg: rgba(0, 0, 0, 0.05);--bs-table-active-color: var(--bs-body-color);--bs-table-active-bg: rgba(0, 0, 0, 0.1);--bs-table-hover-color: var(--bs-body-color);--bs-table-hover-bg: rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:var(--bs-table-color);vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:2px solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-accent-bg: var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-striped-columns>:not(caption)>tr>:nth-child(even){--bs-table-accent-bg: var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg: var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover>*{--bs-table-accent-bg: var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-color: #000;--bs-table-bg: #d5d8dc;--bs-table-border-color: #c0c2c6;--bs-table-striped-bg: #cacdd1;--bs-table-striped-color: #000;--bs-table-active-bg: #c0c2c6;--bs-table-active-color: #000;--bs-table-hover-bg: #c5c8cc;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color: #000;--bs-table-bg: #eaeded;--bs-table-border-color: #d3d5d5;--bs-table-striped-bg: #dee1e1;--bs-table-striped-color: #000;--bs-table-active-bg: #d3d5d5;--bs-table-active-color: #000;--bs-table-hover-bg: #d8dbdb;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color: #000;--bs-table-bg: #d1f2eb;--bs-table-border-color: #bcdad4;--bs-table-striped-bg: #c7e6df;--bs-table-striped-color: #000;--bs-table-active-bg: #bcdad4;--bs-table-active-color: #000;--bs-table-hover-bg: #c1e0d9;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color: #000;--bs-table-bg: #d6eaf8;--bs-table-border-color: #c1d3df;--bs-table-striped-bg: #cbdeec;--bs-table-striped-color: #000;--bs-table-active-bg: #c1d3df;--bs-table-active-color: #000;--bs-table-hover-bg: #c6d8e5;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color: #000;--bs-table-bg: #fdebd0;--bs-table-border-color: #e4d4bb;--bs-table-striped-bg: #f0dfc6;--bs-table-striped-color: #000;--bs-table-active-bg: #e4d4bb;--bs-table-active-color: #000;--bs-table-hover-bg: #ead9c0;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color: #000;--bs-table-bg: #fadbd8;--bs-table-border-color: #e1c5c2;--bs-table-striped-bg: #eed0cd;--bs-table-striped-color: #000;--bs-table-active-bg: #e1c5c2;--bs-table-active-color: #000;--bs-table-hover-bg: #e7cbc8;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color: #000;--bs-table-bg: #ecf0f1;--bs-table-border-color: #d4d8d9;--bs-table-striped-bg: #e0e4e5;--bs-table-striped-color: #000;--bs-table-active-bg: #d4d8d9;--bs-table-active-color: #000;--bs-table-hover-bg: #dadedf;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color: #000;--bs-table-bg: #7b8a8b;--bs-table-border-color: #6f7c7d;--bs-table-striped-bg: #758384;--bs-table-striped-color: #000;--bs-table-active-bg: #6f7c7d;--bs-table-active-color: #000;--bs-table-hover-bg: #728081;--bs-table-hover-color: #000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media(max-width: 575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media(max-width: 767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media(max-width: 991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media(max-width: 1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media(max-width: 1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(0.375rem + 1px);padding-bottom:calc(0.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(0.5rem + 1px);padding-bottom:calc(0.5rem + 1px);font-size:1.171875rem}.col-form-label-sm{padding-top:calc(0.25rem + 1px);padding-bottom:calc(0.25rem + 1px);font-size:0.8203125rem}.form-text{margin-top:.25rem;font-size:0.875em;color:#95a5a6}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:0.9375rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#969fa8;outline:0;box-shadow:0 0 0 .25rem rgba(44,62,80,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#95a5a6;opacity:1}.form-control::placeholder{color:#95a5a6;opacity:1}.form-control:disabled{background-color:#ecf0f1;opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-0.375rem -0.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#ecf0f1;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-0.375rem -0.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#ecf0f1;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#e0e4e5}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#e0e4e5}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:rgba(0,0,0,0);border:solid rgba(0,0,0,0);border-width:1px 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-sm,.form-control-plaintext.form-control-lg{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + 0.5rem + 2px);padding:.25rem .5rem;font-size:0.8203125rem;border-radius:.25rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-0.25rem -0.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-0.25rem -0.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.171875rem;border-radius:.5rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-0.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-0.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + 0.75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + 0.5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{width:3rem;height:calc(1.5em + 0.75rem + 2px);padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0 !important;border-radius:.375rem}.form-control-color::-webkit-color-swatch{border-radius:.375rem}.form-control-color.form-control-sm{height:calc(1.5em + 0.5rem + 2px)}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + 2px)}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);font-size:0.9375rem;font-weight:400;line-height:1.5;color:#7b8a8b;background-color:#fff;background-image:url('+_+');background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion: reduce){.form-select{transition:none}}.form-select:focus{border-color:#969fa8;outline:0;box-shadow:0 0 0 .25rem rgba(44,62,80,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#ecf0f1}.form-select:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #7b8a8b}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:0.8203125rem;border-radius:.25rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.171875rem;border-radius:.5rem}.form-check{display:block;min-height:1.40625rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#969fa8;outline:0;box-shadow:0 0 0 .25rem rgba(44,62,80,.25)}.form-check-input:checked{background-color:#2c3e50;border-color:#2c3e50}.form-check-input:checked[type=checkbox]{background-image:url('+T+")}.form-check-input:checked[type=radio]{background-image:url("+I+")}.form-check-input[type=checkbox]:indeterminate{background-color:#2c3e50;border-color:#2c3e50;background-image:url("+M+")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input[disabled]~.form-check-label,.form-check-input:disabled~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url("+A+");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media(prefers-reduced-motion: reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url("+O+")}.form-switch .form-check-input:checked{background-position:right center;background-image:url("+P+")}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0, 0, 0, 0);pointer-events:none}.btn-check[disabled]+.btn,.btn-check:disabled+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:rgba(0,0,0,0);-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(44,62,80,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(44,62,80,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-0.25rem;background-color:#2c3e50;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion: reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#c0c5cb}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:rgba(0,0,0,0);cursor:pointer;background-color:#dee2e6;border-color:rgba(0,0,0,0);border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#2c3e50;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion: reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#c0c5cb}.form-range::-moz-range-track{width:100%;height:.5rem;color:rgba(0,0,0,0);cursor:pointer;background-color:#dee2e6;border-color:rgba(0,0,0,0);border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#b4bcc2}.form-range:disabled::-moz-range-thumb{background-color:#b4bcc2}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + 2px);line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;width:100%;height:100%;padding:1rem .75rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:1px solid rgba(0,0,0,0);transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media(prefers-reduced-motion: reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control::-moz-placeholder, .form-floating>.form-control-plaintext::-moz-placeholder{color:rgba(0,0,0,0)}.form-floating>.form-control::placeholder,.form-floating>.form-control-plaintext::placeholder{color:rgba(0,0,0,0)}.form-floating>.form-control:not(:-moz-placeholder-shown), .form-floating>.form-control-plaintext:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown),.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:-webkit-autofill,.form-floating>.form-control-plaintext:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(0.85) translateY(-0.5rem) translateX(0.15rem)}.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-control-plaintext~label,.form-floating>.form-select~label{opacity:.65;transform:scale(0.85) translateY(-0.5rem) translateX(0.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(0.85) translateY(-0.5rem) translateX(0.15rem)}.form-floating>.form-control-plaintext~label{border-width:1px 0}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-select,.input-group>.form-floating{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-select:focus,.input-group>.form-floating:focus-within{z-index:3}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:3}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:0.9375rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#ecf0f1;border:1px solid #ced4da;border-radius:.375rem}.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text,.input-group-lg>.btn{padding:.5rem 1rem;font-size:1.171875rem;border-radius:.5rem}.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text,.input-group-sm>.btn{padding:.25rem .5rem;font-size:0.8203125rem;border-radius:.25rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating),.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select{border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating),.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.form-floating):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback),.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:0.875em;color:#18bc9c}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:0.8203125rem;color:#000;background-color:rgba(24,188,156,.9);border-radius:.375rem}.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip,.is-valid~.valid-feedback,.is-valid~.valid-tooltip{display:block}.was-validated .form-control:valid,.form-control.is-valid{border-color:#18bc9c;padding-right:calc(1.5em + 0.75rem);background-image:url("+D+');background-repeat:no-repeat;background-position:right calc(0.375em + 0.1875rem) center;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.was-validated .form-control:valid:focus,.form-control.is-valid:focus{border-color:#18bc9c;box-shadow:0 0 0 .25rem rgba(24,188,156,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + 0.75rem);background-position:top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem)}.was-validated .form-select:valid,.form-select.is-valid{border-color:#18bc9c}.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"],.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url('+_+"),url("+D+");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.was-validated .form-select:valid:focus,.form-select.is-valid:focus{border-color:#18bc9c;box-shadow:0 0 0 .25rem rgba(24,188,156,.25)}.was-validated .form-control-color:valid,.form-control-color.is-valid{width:calc(3rem + calc(1.5em + 0.75rem))}.was-validated .form-check-input:valid,.form-check-input.is-valid{border-color:#18bc9c}.was-validated .form-check-input:valid:checked,.form-check-input.is-valid:checked{background-color:#18bc9c}.was-validated .form-check-input:valid:focus,.form-check-input.is-valid:focus{box-shadow:0 0 0 .25rem rgba(24,188,156,.25)}.was-validated .form-check-input:valid~.form-check-label,.form-check-input.is-valid~.form-check-label{color:#18bc9c}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.was-validated .input-group .form-control:valid,.input-group .form-control.is-valid,.was-validated .input-group .form-select:valid,.input-group .form-select.is-valid{z-index:1}.was-validated .input-group .form-control:valid:focus,.input-group .form-control.is-valid:focus,.was-validated .input-group .form-select:valid:focus,.input-group .form-select.is-valid:focus{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:0.875em;color:#e74c3c}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:0.8203125rem;color:#000;background-color:rgba(231,76,60,.9);border-radius:.375rem}.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip,.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip{display:block}.was-validated .form-control:invalid,.form-control.is-invalid{border-color:#e74c3c;padding-right:calc(1.5em + 0.75rem);background-image:url("+R+');background-repeat:no-repeat;background-position:right calc(0.375em + 0.1875rem) center;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.was-validated .form-control:invalid:focus,.form-control.is-invalid:focus{border-color:#e74c3c;box-shadow:0 0 0 .25rem rgba(231,76,60,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + 0.75rem);background-position:top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem)}.was-validated .form-select:invalid,.form-select.is-invalid{border-color:#e74c3c}.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"],.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url('+_+"),url("+R+');background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.was-validated .form-select:invalid:focus,.form-select.is-invalid:focus{border-color:#e74c3c;box-shadow:0 0 0 .25rem rgba(231,76,60,.25)}.was-validated .form-control-color:invalid,.form-control-color.is-invalid{width:calc(3rem + calc(1.5em + 0.75rem))}.was-validated .form-check-input:invalid,.form-check-input.is-invalid{border-color:#e74c3c}.was-validated .form-check-input:invalid:checked,.form-check-input.is-invalid:checked{background-color:#e74c3c}.was-validated .form-check-input:invalid:focus,.form-check-input.is-invalid:focus{box-shadow:0 0 0 .25rem rgba(231,76,60,.25)}.was-validated .form-check-input:invalid~.form-check-label,.form-check-input.is-invalid~.form-check-label{color:#e74c3c}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.was-validated .input-group .form-control:invalid,.input-group .form-control.is-invalid,.was-validated .input-group .form-select:invalid,.input-group .form-select.is-invalid{z-index:2}.was-validated .input-group .form-control:invalid:focus,.input-group .form-control.is-invalid:focus,.was-validated .input-group .form-select:invalid:focus,.input-group .form-select.is-invalid:focus{z-index:3}.btn{--bs-btn-padding-x: 0.75rem;--bs-btn-padding-y: 0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:0.9375rem;--bs-btn-font-weight: 400;--bs-btn-line-height: 1.5;--bs-btn-color: #212529;--bs-btn-bg: transparent;--bs-btn-border-width: 1px;--bs-btn-border-color: transparent;--bs-btn-border-radius: 0.375rem;--bs-btn-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity: 0.65;--bs-btn-focus-box-shadow: 0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check:focus+.btn,.btn:focus{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn-check:active+.btn,.btn:active,.btn.active,.btn.show{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus,.btn-check:active+.btn:focus,.btn:active:focus,.btn.active:focus,.btn.show:focus{box-shadow:var(--bs-btn-focus-box-shadow)}.btn:disabled,.btn.disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color: #fff;--bs-btn-bg: #2c3e50;--bs-btn-border-color: #2c3e50;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #253544;--bs-btn-hover-border-color: #233240;--bs-btn-focus-shadow-rgb: 76, 91, 106;--bs-btn-active-color: #fff;--bs-btn-active-bg: #233240;--bs-btn-active-border-color: #212f3c;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #fff;--bs-btn-disabled-bg: #2c3e50;--bs-btn-disabled-border-color: #2c3e50}.btn-secondary{--bs-btn-color: #000;--bs-btn-bg: #95a5a6;--bs-btn-border-color: #95a5a6;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #a5b3b3;--bs-btn-hover-border-color: #a0aeaf;--bs-btn-focus-shadow-rgb: 127, 140, 141;--bs-btn-active-color: #000;--bs-btn-active-bg: #aab7b8;--bs-btn-active-border-color: #a0aeaf;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #95a5a6;--bs-btn-disabled-border-color: #95a5a6}.btn-success{--bs-btn-color: #000;--bs-btn-bg: #18bc9c;--bs-btn-border-color: #18bc9c;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #3bc6ab;--bs-btn-hover-border-color: #2fc3a6;--bs-btn-focus-shadow-rgb: 20, 160, 133;--bs-btn-active-color: #000;--bs-btn-active-bg: #46c9b0;--bs-btn-active-border-color: #2fc3a6;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #18bc9c;--bs-btn-disabled-border-color: #18bc9c}.btn-info{--bs-btn-color: #000;--bs-btn-bg: #3498db;--bs-btn-border-color: #3498db;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #52a7e0;--bs-btn-hover-border-color: #48a2df;--bs-btn-focus-shadow-rgb: 44, 129, 186;--bs-btn-active-color: #000;--bs-btn-active-bg: #5dade2;--bs-btn-active-border-color: #48a2df;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #3498db;--bs-btn-disabled-border-color: #3498db}.btn-warning{--bs-btn-color: #000;--bs-btn-bg: #f39c12;--bs-btn-border-color: #f39c12;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #f5ab36;--bs-btn-hover-border-color: #f4a62a;--bs-btn-focus-shadow-rgb: 207, 133, 15;--bs-btn-active-color: #000;--bs-btn-active-bg: #f5b041;--bs-btn-active-border-color: #f4a62a;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #f39c12;--bs-btn-disabled-border-color: #f39c12}.btn-danger{--bs-btn-color: #000;--bs-btn-bg: #e74c3c;--bs-btn-border-color: #e74c3c;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #eb6759;--bs-btn-hover-border-color: #e95e50;--bs-btn-focus-shadow-rgb: 196, 65, 51;--bs-btn-active-color: #000;--bs-btn-active-bg: #ec7063;--bs-btn-active-border-color: #e95e50;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #e74c3c;--bs-btn-disabled-border-color: #e74c3c}.btn-light{--bs-btn-color: #000;--bs-btn-bg: #ecf0f1;--bs-btn-border-color: #ecf0f1;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #c9cccd;--bs-btn-hover-border-color: #bdc0c1;--bs-btn-focus-shadow-rgb: 201, 204, 205;--bs-btn-active-color: #000;--bs-btn-active-bg: #bdc0c1;--bs-btn-active-border-color: #b1b4b5;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #ecf0f1;--bs-btn-disabled-border-color: #ecf0f1}.btn-dark{--bs-btn-color: #000;--bs-btn-bg: #7b8a8b;--bs-btn-border-color: #7b8a8b;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #8f9c9c;--bs-btn-hover-border-color: #889697;--bs-btn-focus-shadow-rgb: 105, 117, 118;--bs-btn-active-color: #000;--bs-btn-active-bg: #95a1a2;--bs-btn-active-border-color: #889697;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #000;--bs-btn-disabled-bg: #7b8a8b;--bs-btn-disabled-border-color: #7b8a8b}.btn-outline-primary{--bs-btn-color: #2c3e50;--bs-btn-border-color: #2c3e50;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #2c3e50;--bs-btn-hover-border-color: #2c3e50;--bs-btn-focus-shadow-rgb: 44, 62, 80;--bs-btn-active-color: #fff;--bs-btn-active-bg: #2c3e50;--bs-btn-active-border-color: #2c3e50;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #2c3e50;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #2c3e50;--bs-gradient: none}.btn-outline-secondary{--bs-btn-color: #95a5a6;--bs-btn-border-color: #95a5a6;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #95a5a6;--bs-btn-hover-border-color: #95a5a6;--bs-btn-focus-shadow-rgb: 149, 165, 166;--bs-btn-active-color: #000;--bs-btn-active-bg: #95a5a6;--bs-btn-active-border-color: #95a5a6;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #95a5a6;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #95a5a6;--bs-gradient: none}.btn-outline-success{--bs-btn-color: #18bc9c;--bs-btn-border-color: #18bc9c;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #18bc9c;--bs-btn-hover-border-color: #18bc9c;--bs-btn-focus-shadow-rgb: 24, 188, 156;--bs-btn-active-color: #000;--bs-btn-active-bg: #18bc9c;--bs-btn-active-border-color: #18bc9c;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #18bc9c;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #18bc9c;--bs-gradient: none}.btn-outline-info{--bs-btn-color: #3498db;--bs-btn-border-color: #3498db;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #3498db;--bs-btn-hover-border-color: #3498db;--bs-btn-focus-shadow-rgb: 52, 152, 219;--bs-btn-active-color: #000;--bs-btn-active-bg: #3498db;--bs-btn-active-border-color: #3498db;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #3498db;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #3498db;--bs-gradient: none}.btn-outline-warning{--bs-btn-color: #f39c12;--bs-btn-border-color: #f39c12;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #f39c12;--bs-btn-hover-border-color: #f39c12;--bs-btn-focus-shadow-rgb: 243, 156, 18;--bs-btn-active-color: #000;--bs-btn-active-bg: #f39c12;--bs-btn-active-border-color: #f39c12;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #f39c12;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #f39c12;--bs-gradient: none}.btn-outline-danger{--bs-btn-color: #e74c3c;--bs-btn-border-color: #e74c3c;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #e74c3c;--bs-btn-hover-border-color: #e74c3c;--bs-btn-focus-shadow-rgb: 231, 76, 60;--bs-btn-active-color: #000;--bs-btn-active-bg: #e74c3c;--bs-btn-active-border-color: #e74c3c;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #e74c3c;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #e74c3c;--bs-gradient: none}.btn-outline-light{--bs-btn-color: #ecf0f1;--bs-btn-border-color: #ecf0f1;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #ecf0f1;--bs-btn-hover-border-color: #ecf0f1;--bs-btn-focus-shadow-rgb: 236, 240, 241;--bs-btn-active-color: #000;--bs-btn-active-bg: #ecf0f1;--bs-btn-active-border-color: #ecf0f1;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #ecf0f1;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #ecf0f1;--bs-gradient: none}.btn-outline-dark{--bs-btn-color: #7b8a8b;--bs-btn-border-color: #7b8a8b;--bs-btn-hover-color: #000;--bs-btn-hover-bg: #7b8a8b;--bs-btn-hover-border-color: #7b8a8b;--bs-btn-focus-shadow-rgb: 123, 138, 139;--bs-btn-active-color: #000;--bs-btn-active-bg: #7b8a8b;--bs-btn-active-border-color: #7b8a8b;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #7b8a8b;--bs-btn-disabled-bg: transparent;--bs-btn-disabled-border-color: #7b8a8b;--bs-gradient: none}.btn-link{--bs-btn-font-weight: 400;--bs-btn-color: var(--bs-link-color);--bs-btn-bg: transparent;--bs-btn-border-color: transparent;--bs-btn-hover-color: var(--bs-link-hover-color);--bs-btn-hover-border-color: transparent;--bs-btn-active-color: var(--bs-link-hover-color);--bs-btn-active-border-color: transparent;--bs-btn-disabled-color: #95a5a6;--bs-btn-disabled-border-color: transparent;--bs-btn-box-shadow: none;--bs-btn-focus-shadow-rgb: 76, 91, 106;text-decoration:underline}.btn-link:focus{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-lg,.btn-group-lg>.btn{--bs-btn-padding-y: 0.5rem;--bs-btn-padding-x: 1rem;--bs-btn-font-size:1.171875rem;--bs-btn-border-radius: 0.5rem}.btn-sm,.btn-group-sm>.btn{--bs-btn-padding-y: 0.25rem;--bs-btn-padding-x: 0.5rem;--bs-btn-font-size:0.8203125rem;--bs-btn-border-radius: 0.25rem}.fade{transition:opacity .15s linear}@media(prefers-reduced-motion: reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media(prefers-reduced-motion: reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media(prefers-reduced-motion: reduce){.collapsing.collapse-horizontal{transition:none}}.dropup,.dropend,.dropdown,.dropstart,.dropup-center,.dropdown-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid rgba(0,0,0,0);border-bottom:0;border-left:.3em solid rgba(0,0,0,0)}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{--bs-dropdown-min-width: 10rem;--bs-dropdown-padding-x: 0;--bs-dropdown-padding-y: 0.5rem;--bs-dropdown-spacer: 0.125rem;--bs-dropdown-font-size:0.9375rem;--bs-dropdown-color: #212529;--bs-dropdown-bg: #fff;--bs-dropdown-border-color: var(--bs-border-color-translucent);--bs-dropdown-border-radius: 0.375rem;--bs-dropdown-border-width: 1px;--bs-dropdown-inner-border-radius: calc(0.375rem - 1px);--bs-dropdown-divider-bg: var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y: 0.5rem;--bs-dropdown-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-dropdown-link-color: #7b8a8b;--bs-dropdown-link-hover-color: #fff;--bs-dropdown-link-hover-bg: #2c3e50;--bs-dropdown-link-active-color: #fff;--bs-dropdown-link-active-bg: #18bc9c;--bs-dropdown-link-disabled-color: #b4bcc2;--bs-dropdown-item-padding-x: 1rem;--bs-dropdown-item-padding-y: 0.25rem;--bs-dropdown-header-color: #95a5a6;--bs-dropdown-header-padding-x: 1rem;--bs-dropdown-header-padding-y: 0.5rem;position:absolute;z-index:1000;display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position: start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position: end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media(min-width: 576px){.dropdown-menu-sm-start{--bs-position: start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position: end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media(min-width: 768px){.dropdown-menu-md-start{--bs-position: start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position: end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media(min-width: 992px){.dropdown-menu-lg-start{--bs-position: start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position: end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media(min-width: 1200px){.dropdown-menu-xl-start{--bs-position: start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position: end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media(min-width: 1400px){.dropdown-menu-xxl-start{--bs-position: start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position: end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid rgba(0,0,0,0);border-bottom:.3em solid;border-left:.3em solid rgba(0,0,0,0)}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid rgba(0,0,0,0);border-right:0;border-bottom:.3em solid rgba(0,0,0,0);border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid rgba(0,0,0,0);border-right:.3em solid;border-bottom:.3em solid rgba(0,0,0,0)}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:rgba(0,0,0,0);border:0}.dropdown-item:hover,.dropdown-item:focus{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:rgba(0,0,0,0)}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:0.8203125rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color: #dee2e6;--bs-dropdown-bg: #343a40;--bs-dropdown-border-color: var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color: #dee2e6;--bs-dropdown-link-hover-color: #fff;--bs-dropdown-divider-bg: var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg: rgba(255, 255, 255, 0.15);--bs-dropdown-link-active-color: #fff;--bs-dropdown-link-active-bg: #18bc9c;--bs-dropdown-link-disabled-color: #b4bcc2;--bs-dropdown-header-color: #b4bcc2}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group>.btn,.btn-group-vertical>.btn{position:relative;flex:1 1 auto}.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn:hover,.btn-group>.btn:focus,.btn-group>.btn:active,.btn-group>.btn.active,.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn:hover,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn.active{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:.375rem}.btn-group>.btn:not(:first-child),.btn-group>.btn-group:not(:first-child){margin-left:-1px}.btn-group>.btn:not(:last-child):not(.dropdown-toggle),.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn,.btn-group>.btn-group:not(:first-child)>.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-sm+.dropdown-toggle-split,.btn-group-sm>.btn+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-lg+.dropdown-toggle-split,.btn-group-lg>.btn+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn:not(:first-child),.btn-group-vertical>.btn-group:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle),.btn-group-vertical>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn~.btn,.btn-group-vertical>.btn-group:not(:first-child)>.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x: 2rem;--bs-nav-link-padding-y: 0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color: var(--bs-link-color);--bs-nav-link-hover-color: var(--bs-link-hover-color);--bs-nav-link-disabled-color: #95a5a6;display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media(prefers-reduced-motion: reduce){.nav-link{transition:none}}.nav-link:hover,.nav-link:focus{color:var(--bs-nav-link-hover-color)}.nav-link.disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width: 1px;--bs-nav-tabs-border-color: #ecf0f1;--bs-nav-tabs-border-radius: 0.375rem;--bs-nav-tabs-link-hover-border-color: #ecf0f1 #ecf0f1 #ecf0f1;--bs-nav-tabs-link-active-color: #7b8a8b;--bs-nav-tabs-link-active-bg: #fff;--bs-nav-tabs-link-active-border-color: #dee2e6 #dee2e6 #fff;border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(var(--bs-nav-tabs-border-width)*-1);background:none;border:var(--bs-nav-tabs-border-width) solid rgba(0,0,0,0);border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:hover,.nav-tabs .nav-link:focus{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-link.disabled,.nav-tabs .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.nav-tabs .nav-link.active,.nav-tabs .nav-item.show .nav-link{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(var(--bs-nav-tabs-border-width)*-1);border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius: 0.375rem;--bs-nav-pills-link-active-color: #fff;--bs-nav-pills-link-active-bg: #2c3e50}.nav-pills .nav-link{background:none;border:0;border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-fill>.nav-link,.nav-fill .nav-item{flex:1 1 auto;text-align:center}.nav-justified>.nav-link,.nav-justified .nav-item{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x: 0;--bs-navbar-padding-y: 1rem;--bs-navbar-color: rgba(0, 0, 0, 0.55);--bs-navbar-hover-color: rgba(0, 0, 0, 0.7);--bs-navbar-disabled-color: rgba(0, 0, 0, 0.3);--bs-navbar-active-color: rgba(0, 0, 0, 0.9);--bs-navbar-brand-padding-y: 0.32421875rem;--bs-navbar-brand-margin-end: 1rem;--bs-navbar-brand-font-size: 1.171875rem;--bs-navbar-brand-color: rgba(0, 0, 0, 0.9);--bs-navbar-brand-hover-color: rgba(0, 0, 0, 0.9);--bs-navbar-nav-link-padding-x: 0.5rem;--bs-navbar-toggler-padding-y: 0.25rem;--bs-navbar-toggler-padding-x: 0.75rem;--bs-navbar-toggler-font-size: 1.171875rem;--bs-navbar-toggler-icon-bg: url('+L+");--bs-navbar-toggler-border-color: rgba(0, 0, 0, 0.1);--bs-navbar-toggler-border-radius: 0.375rem;--bs-navbar-toggler-focus-width: 0.25rem;--bs-navbar-toggler-transition: box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-sm,.navbar>.container-md,.navbar>.container-lg,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:hover,.navbar-brand:focus{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x: 0;--bs-nav-link-padding-y: 0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color: var(--bs-navbar-color);--bs-nav-link-hover-color: var(--bs-navbar-hover-color);--bs-nav-link-disabled-color: var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .show>.nav-link,.navbar-nav .nav-link.active{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:hover,.navbar-text a:focus{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:rgba(0,0,0,0);border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media(prefers-reduced-motion: reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height, 75vh);overflow-y:auto}@media(min-width: 576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media(min-width: 768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media(min-width: 992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media(min-width: 1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media(min-width: 1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex !important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto !important;height:auto !important;visibility:visible !important;background-color:rgba(0,0,0,0) !important;border:0 !important;transform:none !important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark{--bs-navbar-color: #fff;--bs-navbar-hover-color: #18bc9c;--bs-navbar-disabled-color: rgba(255, 255, 255, 0.25);--bs-navbar-active-color: #fff;--bs-navbar-brand-color: #fff;--bs-navbar-brand-hover-color: #fff;--bs-navbar-toggler-border-color: rgba(255, 255, 255, 0.1);--bs-navbar-toggler-icon-bg: url("+F+")}.card{--bs-card-spacer-y: 1rem;--bs-card-spacer-x: 1rem;--bs-card-title-spacer-y: 0.5rem;--bs-card-border-width: 1px;--bs-card-border-color: var(--bs-border-color-translucent);--bs-card-border-radius: 0.375rem;--bs-card-box-shadow: ;--bs-card-inner-border-radius: calc(0.375rem - 1px);--bs-card-cap-padding-y: 0.5rem;--bs-card-cap-padding-x: 1rem;--bs-card-cap-bg: rgba(0, 0, 0, 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg: #fff;--bs-card-img-overlay-padding: 1rem;--bs-card-group-margin: 0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y)}.card-subtitle{margin-top:calc(-0.5*var(--bs-card-title-spacer-y));margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-0.5*var(--bs-card-cap-padding-x));margin-bottom:calc(-1*var(--bs-card-cap-padding-y));margin-left:calc(-0.5*var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-0.5*var(--bs-card-cap-padding-x));margin-left:calc(-0.5*var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-top,.card-img-bottom{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media(min-width: 576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-img-top,.card-group>.card:not(:last-child) .card-header{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-img-bottom,.card-group>.card:not(:last-child) .card-footer{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-img-top,.card-group>.card:not(:first-child) .card-header{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-img-bottom,.card-group>.card:not(:first-child) .card-footer{border-bottom-left-radius:0}}.accordion{--bs-accordion-color: #000;--bs-accordion-bg: #fff;--bs-accordion-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, border-radius 0.15s ease;--bs-accordion-border-color: var(--bs-border-color);--bs-accordion-border-width: 1px;--bs-accordion-border-radius: 0.375rem;--bs-accordion-inner-border-radius: calc(0.375rem - 1px);--bs-accordion-btn-padding-x: 1.25rem;--bs-accordion-btn-padding-y: 1rem;--bs-accordion-btn-color: var(--bs-body-color);--bs-accordion-btn-bg: var(--bs-accordion-bg);--bs-accordion-btn-icon: url("+B+");--bs-accordion-btn-icon-width: 1.25rem;--bs-accordion-btn-icon-transform: rotate(-180deg);--bs-accordion-btn-icon-transition: transform 0.2s ease-in-out;--bs-accordion-btn-active-icon: url("+N+');--bs-accordion-btn-focus-border-color: #969fa8;--bs-accordion-btn-focus-box-shadow: 0 0 0 0.25rem rgba(44, 62, 80, 0.25);--bs-accordion-body-padding-x: 1.25rem;--bs-accordion-body-padding-y: 1rem;--bs-accordion-active-color: #283848;--bs-accordion-active-bg: #eaecee}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:0.9375rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media(prefers-reduced-motion: reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(var(--bs-accordion-border-width)*-1) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed)::after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button::after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media(prefers-reduced-motion: reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:var(--bs-accordion-btn-focus-border-color);outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button{border-radius:0}.breadcrumb{--bs-breadcrumb-padding-x: 0;--bs-breadcrumb-padding-y: 0;--bs-breadcrumb-margin-bottom: 1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color: #95a5a6;--bs-breadcrumb-item-padding-x: 0.5rem;--bs-breadcrumb-item-active-color: #95a5a6;display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/") /* rtl: var(--bs-breadcrumb-divider, "/") */}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x: 0.75rem;--bs-pagination-padding-y: 0.375rem;--bs-pagination-font-size:0.9375rem;--bs-pagination-color: #fff;--bs-pagination-bg: #18bc9c;--bs-pagination-border-width: 0;--bs-pagination-border-color: transparent;--bs-pagination-border-radius: 0.375rem;--bs-pagination-hover-color: #fff;--bs-pagination-hover-bg: #0f7864;--bs-pagination-hover-border-color: transparent;--bs-pagination-focus-color: var(--bs-link-hover-color);--bs-pagination-focus-bg: #ecf0f1;--bs-pagination-focus-box-shadow: 0 0 0 0.25rem rgba(44, 62, 80, 0.25);--bs-pagination-active-color: #fff;--bs-pagination-active-bg: #0f7864;--bs-pagination-active-border-color: transparent;--bs-pagination-disabled-color: #ecf0f1;--bs-pagination-disabled-bg: #3be6c4;--bs-pagination-disabled-border-color: transparent;display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.page-link.active,.active>.page-link{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.page-link.disabled,.disabled>.page-link{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:0}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x: 1.5rem;--bs-pagination-padding-y: 0.75rem;--bs-pagination-font-size:1.171875rem;--bs-pagination-border-radius: 0.5rem}.pagination-sm{--bs-pagination-padding-x: 0.5rem;--bs-pagination-padding-y: 0.25rem;--bs-pagination-font-size:0.8203125rem;--bs-pagination-border-radius: 0.25rem}.badge{--bs-badge-padding-x: 0.65em;--bs-badge-padding-y: 0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight: 700;--bs-badge-color: #fff;--bs-badge-border-radius: 0.375rem;display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg: transparent;--bs-alert-padding-x: 1rem;--bs-alert-padding-y: 1rem;--bs-alert-margin-bottom: 1rem;--bs-alert-color: inherit;--bs-alert-border-color: transparent;--bs-alert-border: 1px solid var(--bs-alert-border-color);--bs-alert-border-radius: 0.375rem;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color: #1a2530;--bs-alert-bg: #d5d8dc;--bs-alert-border-color: #c0c5cb}.alert-primary .alert-link{color:#151e26}.alert-secondary{--bs-alert-color: #596364;--bs-alert-bg: #eaeded;--bs-alert-border-color: #dfe4e4}.alert-secondary .alert-link{color:#474f50}.alert-success{--bs-alert-color: #0e715e;--bs-alert-bg: #d1f2eb;--bs-alert-border-color: #baebe1}.alert-success .alert-link{color:#0b5a4b}.alert-info{--bs-alert-color: #1f5b83;--bs-alert-bg: #d6eaf8;--bs-alert-border-color: #c2e0f4}.alert-info .alert-link{color:#194969}.alert-warning{--bs-alert-color: #925e0b;--bs-alert-bg: #fdebd0;--bs-alert-border-color: #fbe1b8}.alert-warning .alert-link{color:#754b09}.alert-danger{--bs-alert-color: #8b2e24;--bs-alert-bg: #fadbd8;--bs-alert-border-color: #f8c9c5}.alert-danger .alert-link{color:#6f251d}.alert-light{--bs-alert-color: #5e6060;--bs-alert-bg: #fbfcfc;--bs-alert-border-color: #f9fbfb}.alert-light .alert-link{color:#4b4d4d}.alert-dark{--bs-alert-color: #4a5353;--bs-alert-bg: #e5e8e8;--bs-alert-border-color: #d7dcdc}.alert-dark .alert-link{color:#3b4242}@-webkit-keyframes progress-bar-stripes{0%{background-position-x:.625rem}}@keyframes progress-bar-stripes{0%{background-position-x:.625rem}}.progress{--bs-progress-height: 0.625rem;--bs-progress-font-size:0.625rem;--bs-progress-bg: #ecf0f1;--bs-progress-border-radius: 0.375rem;--bs-progress-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-progress-bar-color: #fff;--bs-progress-bar-bg: #2c3e50;--bs-progress-bar-transition: width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media(prefers-reduced-motion: reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media(prefers-reduced-motion: reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.list-group{--bs-list-group-color: #212529;--bs-list-group-bg: #fff;--bs-list-group-border-color: rgba(0, 0, 0, 0.125);--bs-list-group-border-width: 1px;--bs-list-group-border-radius: 0.375rem;--bs-list-group-item-padding-x: 1rem;--bs-list-group-item-padding-y: 0.5rem;--bs-list-group-action-color: #7b8a8b;--bs-list-group-action-hover-color: #7b8a8b;--bs-list-group-action-hover-bg: #ecf0f1;--bs-list-group-action-active-color: #212529;--bs-list-group-action-active-bg: #ecf0f1;--bs-list-group-disabled-color: #95a5a6;--bs-list-group-disabled-bg: #ecf0f1;--bs-list-group-active-color: #fff;--bs-list-group-active-bg: #2c3e50;--bs-list-group-active-border-color: #2c3e50;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:hover,.list-group-item-action:focus{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(var(--bs-list-group-border-width)*-1);border-top-width:var(--bs-list-group-border-width)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}@media(min-width: 576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}}@media(min-width: 768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}}@media(min-width: 992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}}@media(min-width: 1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}}@media(min-width: 1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child{border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child{border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(var(--bs-list-group-border-width)*-1);border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#1a2530;background-color:#d5d8dc}.list-group-item-primary.list-group-item-action:hover,.list-group-item-primary.list-group-item-action:focus{color:#1a2530;background-color:#c0c2c6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#1a2530;border-color:#1a2530}.list-group-item-secondary{color:#596364;background-color:#eaeded}.list-group-item-secondary.list-group-item-action:hover,.list-group-item-secondary.list-group-item-action:focus{color:#596364;background-color:#d3d5d5}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#596364;border-color:#596364}.list-group-item-success{color:#0e715e;background-color:#d1f2eb}.list-group-item-success.list-group-item-action:hover,.list-group-item-success.list-group-item-action:focus{color:#0e715e;background-color:#bcdad4}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0e715e;border-color:#0e715e}.list-group-item-info{color:#1f5b83;background-color:#d6eaf8}.list-group-item-info.list-group-item-action:hover,.list-group-item-info.list-group-item-action:focus{color:#1f5b83;background-color:#c1d3df}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#1f5b83;border-color:#1f5b83}.list-group-item-warning{color:#925e0b;background-color:#fdebd0}.list-group-item-warning.list-group-item-action:hover,.list-group-item-warning.list-group-item-action:focus{color:#925e0b;background-color:#e4d4bb}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#925e0b;border-color:#925e0b}.list-group-item-danger{color:#8b2e24;background-color:#fadbd8}.list-group-item-danger.list-group-item-action:hover,.list-group-item-danger.list-group-item-action:focus{color:#8b2e24;background-color:#e1c5c2}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#8b2e24;border-color:#8b2e24}.list-group-item-light{color:#5e6060;background-color:#fbfcfc}.list-group-item-light.list-group-item-action:hover,.list-group-item-light.list-group-item-action:focus{color:#5e6060;background-color:#e2e3e3}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#5e6060;border-color:#5e6060}.list-group-item-dark{color:#4a5353;background-color:#e5e8e8}.list-group-item-dark.list-group-item-action:hover,.list-group-item-dark.list-group-item-action:focus{color:#4a5353;background-color:#ced1d1}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#4a5353;border-color:#4a5353}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:rgba(0,0,0,0) url('+V+') center/1em auto no-repeat;border:0;border-radius:.375rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(44,62,80,.25);opacity:1}.btn-close:disabled,.btn-close.disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{--bs-toast-padding-x: 0.75rem;--bs-toast-padding-y: 0.5rem;--bs-toast-spacing: 1.5rem;--bs-toast-max-width: 350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg: rgba(255, 255, 255, 0.85);--bs-toast-border-width: 1px;--bs-toast-border-color: var(--bs-border-color-translucent);--bs-toast-border-radius: 0.375rem;--bs-toast-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-toast-header-color: #95a5a6;--bs-toast-header-bg: rgba(255, 255, 255, 0.85);--bs-toast-header-border-color: rgba(0, 0, 0, 0.05);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{position:absolute;z-index:1090;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(var(--bs-toast-padding-x)*-0.5);margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex: 1055;--bs-modal-width: 500px;--bs-modal-padding: 1rem;--bs-modal-margin: 0.5rem;--bs-modal-color: ;--bs-modal-bg: #fff;--bs-modal-border-color: var(--bs-border-color-translucent);--bs-modal-border-width: 1px;--bs-modal-border-radius: 0.5rem;--bs-modal-box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-modal-inner-border-radius: calc(0.5rem - 1px);--bs-modal-header-padding-x: 1rem;--bs-modal-header-padding-y: 1rem;--bs-modal-header-padding: 1rem 1rem;--bs-modal-header-border-color: var(--bs-border-color);--bs-modal-header-border-width: 1px;--bs-modal-title-line-height: 1.5;--bs-modal-footer-gap: 0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color: var(--bs-border-color);--bs-modal-footer-border-width: 1px;position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0, -50px)}@media(prefers-reduced-motion: reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin)*2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin)*2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex: 1050;--bs-backdrop-bg: #000;--bs-backdrop-opacity: 0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y)*.5) calc(var(--bs-modal-header-padding-x)*.5);margin:calc(var(--bs-modal-header-padding-y)*-0.5) calc(var(--bs-modal-header-padding-x)*-0.5) calc(var(--bs-modal-header-padding-y)*-0.5) auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap)*.5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap)*.5)}@media(min-width: 576px){.modal{--bs-modal-margin: 1.75rem;--bs-modal-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width: 300px}}@media(min-width: 992px){.modal-lg,.modal-xl{--bs-modal-width: 800px}}@media(min-width: 1200px){.modal-xl{--bs-modal-width: 1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-header,.modal-fullscreen .modal-footer{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media(max-width: 575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-header,.modal-fullscreen-sm-down .modal-footer{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media(max-width: 767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-header,.modal-fullscreen-md-down .modal-footer{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media(max-width: 991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-header,.modal-fullscreen-lg-down .modal-footer{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media(max-width: 1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-header,.modal-fullscreen-xl-down .modal-footer{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media(max-width: 1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-header,.modal-fullscreen-xxl-down .modal-footer{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex: 1080;--bs-tooltip-max-width: 200px;--bs-tooltip-padding-x: 0.5rem;--bs-tooltip-padding-y: 0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.8203125rem;--bs-tooltip-color: #fff;--bs-tooltip-bg: #000;--bs-tooltip-border-radius: 0.375rem;--bs-tooltip-opacity: 0.9;--bs-tooltip-arrow-width: 0.8rem;--bs-tooltip-arrow-height: 0.4rem;z-index:var(--bs-tooltip-zindex);display:block;padding:var(--bs-tooltip-arrow-height);margin:var(--bs-tooltip-margin);font-family:"Lato",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:rgba(0,0,0,0);border-style:solid}.bs-tooltip-top .tooltip-arrow,.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow{bottom:0}.bs-tooltip-top .tooltip-arrow::before,.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width)*.5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-end .tooltip-arrow,.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow{left:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-end .tooltip-arrow::before,.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width)*.5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width)*.5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-bottom .tooltip-arrow,.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow{top:0}.bs-tooltip-bottom .tooltip-arrow::before,.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width)*.5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-start .tooltip-arrow,.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow{right:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-start .tooltip-arrow::before,.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width)*.5) 0 calc(var(--bs-tooltip-arrow-width)*.5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex: 1070;--bs-popover-max-width: 276px;--bs-popover-font-size:0.8203125rem;--bs-popover-bg: #fff;--bs-popover-border-width: 1px;--bs-popover-border-color: var(--bs-border-color-translucent);--bs-popover-border-radius: 0.5rem;--bs-popover-inner-border-radius: calc(0.5rem - 1px);--bs-popover-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-popover-header-padding-x: 1rem;--bs-popover-header-padding-y: 0.5rem;--bs-popover-header-font-size:0.9375rem;--bs-popover-header-color: var(--bs-heading-color);--bs-popover-header-bg: #f0f0f0;--bs-popover-body-padding-x: 1rem;--bs-popover-body-padding-y: 1rem;--bs-popover-body-color: #212529;--bs-popover-arrow-width: 1rem;--bs-popover-arrow-height: 0.5rem;--bs-popover-arrow-border: var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:"Lato",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow::before,.popover .popover-arrow::after{position:absolute;display:block;content:"";border-color:rgba(0,0,0,0);border-style:solid;border-width:0}.bs-popover-top>.popover-arrow,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow{bottom:calc(var(--bs-popover-arrow-height)*-1 - var(--bs-popover-border-width))}.bs-popover-top>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width)*.5) 0}.bs-popover-top>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-top>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-end>.popover-arrow,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow{left:calc(var(--bs-popover-arrow-height)*-1 - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-end>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after{border-width:calc(var(--bs-popover-arrow-width)*.5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width)*.5) 0}.bs-popover-end>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-end>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-bottom>.popover-arrow,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow{top:calc(var(--bs-popover-arrow-height)*-1 - var(--bs-popover-border-width))}.bs-popover-bottom>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after{border-width:0 calc(var(--bs-popover-arrow-width)*.5) var(--bs-popover-arrow-height)}.bs-popover-bottom>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-bottom>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-bottom .popover-header::before,.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(var(--bs-popover-arrow-width)*-0.5);content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-start>.popover-arrow,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow{right:calc(var(--bs-popover-arrow-height)*-1 - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-start>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after{border-width:calc(var(--bs-popover-arrow-width)*.5) 0 calc(var(--bs-popover-arrow-width)*.5) var(--bs-popover-arrow-height)}.bs-popover-start>.popover-arrow::before,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-start>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media(prefers-reduced-motion: reduce){.carousel-item{transition:none}}.carousel-item.active,.carousel-item-next,.carousel-item-prev{display:block}.carousel-item-next:not(.carousel-item-start),.active.carousel-item-end{transform:translateX(100%)}.carousel-item-prev:not(.carousel-item-end),.active.carousel-item-start{transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item.active,.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end{z-index:1;opacity:1}.carousel-fade .active.carousel-item-start,.carousel-fade .active.carousel-item-end{z-index:0;opacity:0;transition:opacity 0s .6s}@media(prefers-reduced-motion: reduce){.carousel-fade .active.carousel-item-start,.carousel-fade .active.carousel-item-end{transition:none}}.carousel-control-prev,.carousel-control-next{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:none;border:0;opacity:.5;transition:opacity .15s ease}@media(prefers-reduced-motion: reduce){.carousel-control-prev,.carousel-control-next{transition:none}}.carousel-control-prev:hover,.carousel-control-prev:focus,.carousel-control-next:hover,.carousel-control-next:focus{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-prev-icon,.carousel-control-next-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url('+j+")}.carousel-control-next-icon{background-image:url("+U+')}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid rgba(0,0,0,0);border-bottom:10px solid rgba(0,0,0,0);opacity:.5;transition:opacity .6s ease}@media(prefers-reduced-motion: reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-prev-icon,.carousel-dark .carousel-control-next-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}.spinner-grow,.spinner-border{display:inline-block;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;-webkit-animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name);animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@-webkit-keyframes spinner-border{to{transform:rotate(360deg) /* rtl:ignore */}}@keyframes spinner-border{to{transform:rotate(360deg) /* rtl:ignore */}}.spinner-border{--bs-spinner-width: 2rem;--bs-spinner-height: 2rem;--bs-spinner-vertical-align: -0.125em;--bs-spinner-border-width: 0.25em;--bs-spinner-animation-speed: 0.75s;--bs-spinner-animation-name: spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:rgba(0,0,0,0)}.spinner-border-sm{--bs-spinner-width: 1rem;--bs-spinner-height: 1rem;--bs-spinner-border-width: 0.2em}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width: 2rem;--bs-spinner-height: 2rem;--bs-spinner-vertical-align: -0.125em;--bs-spinner-animation-speed: 0.75s;--bs-spinner-animation-name: spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width: 1rem;--bs-spinner-height: 1rem}@media(prefers-reduced-motion: reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed: 1.5s}}.offcanvas,.offcanvas-xxl,.offcanvas-xl,.offcanvas-lg,.offcanvas-md,.offcanvas-sm{--bs-offcanvas-width: 400px;--bs-offcanvas-height: 30vh;--bs-offcanvas-padding-x: 1rem;--bs-offcanvas-padding-y: 1rem;--bs-offcanvas-color: ;--bs-offcanvas-bg: #fff;--bs-offcanvas-border-width: 1px;--bs-offcanvas-border-color: var(--bs-border-color-translucent);--bs-offcanvas-box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)}@media(max-width: 575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media(max-width: 575.98px)and (prefers-reduced-motion: reduce){.offcanvas-sm{transition:none}}@media(max-width: 575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media(max-width: 575.98px){.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media(max-width: 575.98px){.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media(max-width: 575.98px){.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media(max-width: 575.98px){.offcanvas-sm.showing,.offcanvas-sm.show:not(.hiding){transform:none}}@media(max-width: 575.98px){.offcanvas-sm.showing,.offcanvas-sm.hiding,.offcanvas-sm.show{visibility:visible}}@media(min-width: 576px){.offcanvas-sm{--bs-offcanvas-height: auto;--bs-offcanvas-border-width: 0;background-color:rgba(0,0,0,0) !important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:rgba(0,0,0,0) !important}}@media(max-width: 767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media(max-width: 767.98px)and (prefers-reduced-motion: reduce){.offcanvas-md{transition:none}}@media(max-width: 767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media(max-width: 767.98px){.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media(max-width: 767.98px){.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media(max-width: 767.98px){.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media(max-width: 767.98px){.offcanvas-md.showing,.offcanvas-md.show:not(.hiding){transform:none}}@media(max-width: 767.98px){.offcanvas-md.showing,.offcanvas-md.hiding,.offcanvas-md.show{visibility:visible}}@media(min-width: 768px){.offcanvas-md{--bs-offcanvas-height: auto;--bs-offcanvas-border-width: 0;background-color:rgba(0,0,0,0) !important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:rgba(0,0,0,0) !important}}@media(max-width: 991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media(max-width: 991.98px)and (prefers-reduced-motion: reduce){.offcanvas-lg{transition:none}}@media(max-width: 991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media(max-width: 991.98px){.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media(max-width: 991.98px){.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media(max-width: 991.98px){.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media(max-width: 991.98px){.offcanvas-lg.showing,.offcanvas-lg.show:not(.hiding){transform:none}}@media(max-width: 991.98px){.offcanvas-lg.showing,.offcanvas-lg.hiding,.offcanvas-lg.show{visibility:visible}}@media(min-width: 992px){.offcanvas-lg{--bs-offcanvas-height: auto;--bs-offcanvas-border-width: 0;background-color:rgba(0,0,0,0) !important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:rgba(0,0,0,0) !important}}@media(max-width: 1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media(max-width: 1199.98px)and (prefers-reduced-motion: reduce){.offcanvas-xl{transition:none}}@media(max-width: 1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media(max-width: 1199.98px){.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media(max-width: 1199.98px){.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media(max-width: 1199.98px){.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media(max-width: 1199.98px){.offcanvas-xl.showing,.offcanvas-xl.show:not(.hiding){transform:none}}@media(max-width: 1199.98px){.offcanvas-xl.showing,.offcanvas-xl.hiding,.offcanvas-xl.show{visibility:visible}}@media(min-width: 1200px){.offcanvas-xl{--bs-offcanvas-height: auto;--bs-offcanvas-border-width: 0;background-color:rgba(0,0,0,0) !important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:rgba(0,0,0,0) !important}}@media(max-width: 1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media(max-width: 1399.98px)and (prefers-reduced-motion: reduce){.offcanvas-xxl{transition:none}}@media(max-width: 1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media(max-width: 1399.98px){.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media(max-width: 1399.98px){.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media(max-width: 1399.98px){.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media(max-width: 1399.98px){.offcanvas-xxl.showing,.offcanvas-xxl.show:not(.hiding){transform:none}}@media(max-width: 1399.98px){.offcanvas-xxl.showing,.offcanvas-xxl.hiding,.offcanvas-xxl.show{visibility:visible}}@media(min-width: 1400px){.offcanvas-xxl{--bs-offcanvas-height: auto;--bs-offcanvas-border-width: 0;background-color:rgba(0,0,0,0) !important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:rgba(0,0,0,0) !important}}.offcanvas{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media(prefers-reduced-motion: reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.showing,.offcanvas.show:not(.hiding){transform:none}.offcanvas.showing,.offcanvas.hiding,.offcanvas.show{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y)*.5) calc(var(--bs-offcanvas-padding-x)*.5);margin-top:calc(var(--bs-offcanvas-padding-y)*-0.5);margin-right:calc(var(--bs-offcanvas-padding-x)*-0.5);margin-bottom:calc(var(--bs-offcanvas-padding-y)*-0.5)}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{-webkit-animation:placeholder-glow 2s ease-in-out infinite;animation:placeholder-glow 2s ease-in-out infinite}@-webkit-keyframes placeholder-glow{50%{opacity:.2}}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg, #000 55%, rgba(0, 0, 0, 0.8) 75%, #000 95%);mask-image:linear-gradient(130deg, #000 55%, rgba(0, 0, 0, 0.8) 75%, #000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;-webkit-animation:placeholder-wave 2s linear infinite;animation:placeholder-wave 2s linear infinite}@-webkit-keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.text-bg-primary{color:#fff !important;background-color:RGBA(44, 62, 80, var(--bs-bg-opacity, 1)) !important}.text-bg-secondary{color:#000 !important;background-color:RGBA(149, 165, 166, var(--bs-bg-opacity, 1)) !important}.text-bg-success{color:#000 !important;background-color:RGBA(24, 188, 156, var(--bs-bg-opacity, 1)) !important}.text-bg-info{color:#000 !important;background-color:RGBA(52, 152, 219, var(--bs-bg-opacity, 1)) !important}.text-bg-warning{color:#000 !important;background-color:RGBA(243, 156, 18, var(--bs-bg-opacity, 1)) !important}.text-bg-danger{color:#000 !important;background-color:RGBA(231, 76, 60, var(--bs-bg-opacity, 1)) !important}.text-bg-light{color:#000 !important;background-color:RGBA(236, 240, 241, var(--bs-bg-opacity, 1)) !important}.text-bg-dark{color:#000 !important;background-color:RGBA(123, 138, 139, var(--bs-bg-opacity, 1)) !important}.link-primary{color:#2c3e50 !important}.link-primary:hover,.link-primary:focus{color:#233240 !important}.link-secondary{color:#95a5a6 !important}.link-secondary:hover,.link-secondary:focus{color:#aab7b8 !important}.link-success{color:#18bc9c !important}.link-success:hover,.link-success:focus{color:#46c9b0 !important}.link-info{color:#3498db !important}.link-info:hover,.link-info:focus{color:#5dade2 !important}.link-warning{color:#f39c12 !important}.link-warning:hover,.link-warning:focus{color:#f5b041 !important}.link-danger{color:#e74c3c !important}.link-danger:hover,.link-danger:focus{color:#ec7063 !important}.link-light{color:#ecf0f1 !important}.link-light:hover,.link-light:focus{color:#f0f3f4 !important}.link-dark{color:#7b8a8b !important}.link-dark:hover,.link-dark:focus{color:#95a1a2 !important}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio: 100%}.ratio-4x3{--bs-aspect-ratio: 75%}.ratio-16x9{--bs-aspect-ratio: 56.25%}.ratio-21x9{--bs-aspect-ratio: 42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media(min-width: 576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media(min-width: 768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media(min-width: 992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media(min-width: 1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media(min-width: 1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline !important}.align-top{vertical-align:top !important}.align-middle{vertical-align:middle !important}.align-bottom{vertical-align:bottom !important}.align-text-bottom{vertical-align:text-bottom !important}.align-text-top{vertical-align:text-top !important}.float-start{float:left !important}.float-end{float:right !important}.float-none{float:none !important}.opacity-0{opacity:0 !important}.opacity-25{opacity:.25 !important}.opacity-50{opacity:.5 !important}.opacity-75{opacity:.75 !important}.opacity-100{opacity:1 !important}.overflow-auto{overflow:auto !important}.overflow-hidden{overflow:hidden !important}.overflow-visible{overflow:visible !important}.overflow-scroll{overflow:scroll !important}.d-inline{display:inline !important}.d-inline-block{display:inline-block !important}.d-block{display:block !important}.d-grid{display:grid !important}.d-table{display:table !important}.d-table-row{display:table-row !important}.d-table-cell{display:table-cell !important}.d-flex{display:flex !important}.d-inline-flex{display:inline-flex !important}.d-none{display:none !important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15) !important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075) !important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175) !important}.shadow-none{box-shadow:none !important}.position-static{position:static !important}.position-relative{position:relative !important}.position-absolute{position:absolute !important}.position-fixed{position:fixed !important}.position-sticky{position:-webkit-sticky !important;position:sticky !important}.top-0{top:0 !important}.top-50{top:50% !important}.top-100{top:100% !important}.bottom-0{bottom:0 !important}.bottom-50{bottom:50% !important}.bottom-100{bottom:100% !important}.start-0{left:0 !important}.start-50{left:50% !important}.start-100{left:100% !important}.end-0{right:0 !important}.end-50{right:50% !important}.end-100{right:100% !important}.translate-middle{transform:translate(-50%, -50%) !important}.translate-middle-x{transform:translateX(-50%) !important}.translate-middle-y{transform:translateY(-50%) !important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important}.border-0{border:0 !important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important}.border-top-0{border-top:0 !important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important}.border-end-0{border-right:0 !important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important}.border-bottom-0{border-bottom:0 !important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important}.border-start-0{border-left:0 !important}.border-primary{--bs-border-opacity: 1;border-color:rgba(var(--bs-primary-rgb), var(--bs-border-opacity)) !important}.border-secondary{--bs-border-opacity: 1;border-color:rgba(var(--bs-secondary-rgb), var(--bs-border-opacity)) !important}.border-success{--bs-border-opacity: 1;border-color:rgba(var(--bs-success-rgb), var(--bs-border-opacity)) !important}.border-info{--bs-border-opacity: 1;border-color:rgba(var(--bs-info-rgb), var(--bs-border-opacity)) !important}.border-warning{--bs-border-opacity: 1;border-color:rgba(var(--bs-warning-rgb), var(--bs-border-opacity)) !important}.border-danger{--bs-border-opacity: 1;border-color:rgba(var(--bs-danger-rgb), var(--bs-border-opacity)) !important}.border-light{--bs-border-opacity: 1;border-color:rgba(var(--bs-light-rgb), var(--bs-border-opacity)) !important}.border-dark{--bs-border-opacity: 1;border-color:rgba(var(--bs-dark-rgb), var(--bs-border-opacity)) !important}.border-white{--bs-border-opacity: 1;border-color:rgba(var(--bs-white-rgb), var(--bs-border-opacity)) !important}.border-1{--bs-border-width: 1px}.border-2{--bs-border-width: 2px}.border-3{--bs-border-width: 3px}.border-4{--bs-border-width: 4px}.border-5{--bs-border-width: 5px}.border-opacity-10{--bs-border-opacity: 0.1}.border-opacity-25{--bs-border-opacity: 0.25}.border-opacity-50{--bs-border-opacity: 0.5}.border-opacity-75{--bs-border-opacity: 0.75}.border-opacity-100{--bs-border-opacity: 1}.w-25{width:25% !important}.w-50{width:50% !important}.w-75{width:75% !important}.w-100{width:100% !important}.w-auto{width:auto !important}.mw-100{max-width:100% !important}.vw-100{width:100vw !important}.min-vw-100{min-width:100vw !important}.h-25{height:25% !important}.h-50{height:50% !important}.h-75{height:75% !important}.h-100{height:100% !important}.h-auto{height:auto !important}.mh-100{max-height:100% !important}.vh-100{height:100vh !important}.min-vh-100{min-height:100vh !important}.flex-fill{flex:1 1 auto !important}.flex-row{flex-direction:row !important}.flex-column{flex-direction:column !important}.flex-row-reverse{flex-direction:row-reverse !important}.flex-column-reverse{flex-direction:column-reverse !important}.flex-grow-0{flex-grow:0 !important}.flex-grow-1{flex-grow:1 !important}.flex-shrink-0{flex-shrink:0 !important}.flex-shrink-1{flex-shrink:1 !important}.flex-wrap{flex-wrap:wrap !important}.flex-nowrap{flex-wrap:nowrap !important}.flex-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-start{justify-content:flex-start !important}.justify-content-end{justify-content:flex-end !important}.justify-content-center{justify-content:center !important}.justify-content-between{justify-content:space-between !important}.justify-content-around{justify-content:space-around !important}.justify-content-evenly{justify-content:space-evenly !important}.align-items-start{align-items:flex-start !important}.align-items-end{align-items:flex-end !important}.align-items-center{align-items:center !important}.align-items-baseline{align-items:baseline !important}.align-items-stretch{align-items:stretch !important}.align-content-start{align-content:flex-start !important}.align-content-end{align-content:flex-end !important}.align-content-center{align-content:center !important}.align-content-between{align-content:space-between !important}.align-content-around{align-content:space-around !important}.align-content-stretch{align-content:stretch !important}.align-self-auto{align-self:auto !important}.align-self-start{align-self:flex-start !important}.align-self-end{align-self:flex-end !important}.align-self-center{align-self:center !important}.align-self-baseline{align-self:baseline !important}.align-self-stretch{align-self:stretch !important}.order-first{order:-1 !important}.order-0{order:0 !important}.order-1{order:1 !important}.order-2{order:2 !important}.order-3{order:3 !important}.order-4{order:4 !important}.order-5{order:5 !important}.order-last{order:6 !important}.m-0{margin:0 !important}.m-1{margin:.25rem !important}.m-2{margin:.5rem !important}.m-3{margin:1rem !important}.m-4{margin:1.5rem !important}.m-5{margin:3rem !important}.m-auto{margin:auto !important}.mx-0{margin-right:0 !important;margin-left:0 !important}.mx-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-3{margin-right:1rem !important;margin-left:1rem !important}.mx-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-5{margin-right:3rem !important;margin-left:3rem !important}.mx-auto{margin-right:auto !important;margin-left:auto !important}.my-0{margin-top:0 !important;margin-bottom:0 !important}.my-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-0{margin-top:0 !important}.mt-1{margin-top:.25rem !important}.mt-2{margin-top:.5rem !important}.mt-3{margin-top:1rem !important}.mt-4{margin-top:1.5rem !important}.mt-5{margin-top:3rem !important}.mt-auto{margin-top:auto !important}.me-0{margin-right:0 !important}.me-1{margin-right:.25rem !important}.me-2{margin-right:.5rem !important}.me-3{margin-right:1rem !important}.me-4{margin-right:1.5rem !important}.me-5{margin-right:3rem !important}.me-auto{margin-right:auto !important}.mb-0{margin-bottom:0 !important}.mb-1{margin-bottom:.25rem !important}.mb-2{margin-bottom:.5rem !important}.mb-3{margin-bottom:1rem !important}.mb-4{margin-bottom:1.5rem !important}.mb-5{margin-bottom:3rem !important}.mb-auto{margin-bottom:auto !important}.ms-0{margin-left:0 !important}.ms-1{margin-left:.25rem !important}.ms-2{margin-left:.5rem !important}.ms-3{margin-left:1rem !important}.ms-4{margin-left:1.5rem !important}.ms-5{margin-left:3rem !important}.ms-auto{margin-left:auto !important}.p-0{padding:0 !important}.p-1{padding:.25rem !important}.p-2{padding:.5rem !important}.p-3{padding:1rem !important}.p-4{padding:1.5rem !important}.p-5{padding:3rem !important}.px-0{padding-right:0 !important;padding-left:0 !important}.px-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-3{padding-right:1rem !important;padding-left:1rem !important}.px-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-5{padding-right:3rem !important;padding-left:3rem !important}.py-0{padding-top:0 !important;padding-bottom:0 !important}.py-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-0{padding-top:0 !important}.pt-1{padding-top:.25rem !important}.pt-2{padding-top:.5rem !important}.pt-3{padding-top:1rem !important}.pt-4{padding-top:1.5rem !important}.pt-5{padding-top:3rem !important}.pe-0{padding-right:0 !important}.pe-1{padding-right:.25rem !important}.pe-2{padding-right:.5rem !important}.pe-3{padding-right:1rem !important}.pe-4{padding-right:1.5rem !important}.pe-5{padding-right:3rem !important}.pb-0{padding-bottom:0 !important}.pb-1{padding-bottom:.25rem !important}.pb-2{padding-bottom:.5rem !important}.pb-3{padding-bottom:1rem !important}.pb-4{padding-bottom:1.5rem !important}.pb-5{padding-bottom:3rem !important}.ps-0{padding-left:0 !important}.ps-1{padding-left:.25rem !important}.ps-2{padding-left:.5rem !important}.ps-3{padding-left:1rem !important}.ps-4{padding-left:1.5rem !important}.ps-5{padding-left:3rem !important}.gap-0{gap:0 !important}.gap-1{gap:.25rem !important}.gap-2{gap:.5rem !important}.gap-3{gap:1rem !important}.gap-4{gap:1.5rem !important}.gap-5{gap:3rem !important}.font-monospace{font-family:var(--bs-font-monospace) !important}.fs-1{font-size:calc(1.425rem + 2.1vw) !important}.fs-2{font-size:calc(1.375rem + 1.5vw) !important}.fs-3{font-size:calc(1.325rem + 0.9vw) !important}.fs-4{font-size:calc(1.265625rem + 0.1875vw) !important}.fs-5{font-size:1.171875rem !important}.fs-6{font-size:0.9375rem !important}.fst-italic{font-style:italic !important}.fst-normal{font-style:normal !important}.fw-light{font-weight:300 !important}.fw-lighter{font-weight:lighter !important}.fw-normal{font-weight:400 !important}.fw-bold{font-weight:700 !important}.fw-semibold{font-weight:600 !important}.fw-bolder{font-weight:bolder !important}.lh-1{line-height:1 !important}.lh-sm{line-height:1.25 !important}.lh-base{line-height:1.5 !important}.lh-lg{line-height:2 !important}.text-start{text-align:left !important}.text-end{text-align:right !important}.text-center{text-align:center !important}.text-decoration-none{text-decoration:none !important}.text-decoration-underline{text-decoration:underline !important}.text-decoration-line-through{text-decoration:line-through !important}.text-lowercase{text-transform:lowercase !important}.text-uppercase{text-transform:uppercase !important}.text-capitalize{text-transform:capitalize !important}.text-wrap{white-space:normal !important}.text-nowrap{white-space:nowrap !important}.text-break{word-wrap:break-word !important;word-break:break-word !important}.text-primary{--bs-text-opacity: 1;color:rgba(var(--bs-primary-rgb), var(--bs-text-opacity)) !important}.text-secondary{--bs-text-opacity: 1;color:rgba(var(--bs-secondary-rgb), var(--bs-text-opacity)) !important}.text-success{--bs-text-opacity: 1;color:rgba(var(--bs-success-rgb), var(--bs-text-opacity)) !important}.text-info{--bs-text-opacity: 1;color:rgba(var(--bs-info-rgb), var(--bs-text-opacity)) !important}.text-warning{--bs-text-opacity: 1;color:rgba(var(--bs-warning-rgb), var(--bs-text-opacity)) !important}.text-danger{--bs-text-opacity: 1;color:rgba(var(--bs-danger-rgb), var(--bs-text-opacity)) !important}.text-light{--bs-text-opacity: 1;color:rgba(var(--bs-light-rgb), var(--bs-text-opacity)) !important}.text-dark{--bs-text-opacity: 1;color:rgba(var(--bs-dark-rgb), var(--bs-text-opacity)) !important}.text-black{--bs-text-opacity: 1;color:rgba(var(--bs-black-rgb), var(--bs-text-opacity)) !important}.text-white{--bs-text-opacity: 1;color:rgba(var(--bs-white-rgb), var(--bs-text-opacity)) !important}.text-body{--bs-text-opacity: 1;color:rgba(var(--bs-body-color-rgb), var(--bs-text-opacity)) !important}.text-muted{--bs-text-opacity: 1;color:#95a5a6 !important}.text-black-50{--bs-text-opacity: 1;color:rgba(0,0,0,.5) !important}.text-white-50{--bs-text-opacity: 1;color:rgba(255,255,255,.5) !important}.text-reset{--bs-text-opacity: 1;color:inherit !important}.text-opacity-25{--bs-text-opacity: 0.25}.text-opacity-50{--bs-text-opacity: 0.5}.text-opacity-75{--bs-text-opacity: 0.75}.text-opacity-100{--bs-text-opacity: 1}.bg-primary{--bs-bg-opacity: 1;background-color:rgba(var(--bs-primary-rgb), var(--bs-bg-opacity)) !important}.bg-secondary{--bs-bg-opacity: 1;background-color:rgba(var(--bs-secondary-rgb), var(--bs-bg-opacity)) !important}.bg-success{--bs-bg-opacity: 1;background-color:rgba(var(--bs-success-rgb), var(--bs-bg-opacity)) !important}.bg-info{--bs-bg-opacity: 1;background-color:rgba(var(--bs-info-rgb), var(--bs-bg-opacity)) !important}.bg-warning{--bs-bg-opacity: 1;background-color:rgba(var(--bs-warning-rgb), var(--bs-bg-opacity)) !important}.bg-danger{--bs-bg-opacity: 1;background-color:rgba(var(--bs-danger-rgb), var(--bs-bg-opacity)) !important}.bg-light{--bs-bg-opacity: 1;background-color:rgba(var(--bs-light-rgb), var(--bs-bg-opacity)) !important}.bg-dark{--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb), var(--bs-bg-opacity)) !important}.bg-black{--bs-bg-opacity: 1;background-color:rgba(var(--bs-black-rgb), var(--bs-bg-opacity)) !important}.bg-white{--bs-bg-opacity: 1;background-color:rgba(var(--bs-white-rgb), var(--bs-bg-opacity)) !important}.bg-body{--bs-bg-opacity: 1;background-color:rgba(var(--bs-body-bg-rgb), var(--bs-bg-opacity)) !important}.bg-transparent{--bs-bg-opacity: 1;background-color:rgba(0,0,0,0) !important}.bg-opacity-10{--bs-bg-opacity: 0.1}.bg-opacity-25{--bs-bg-opacity: 0.25}.bg-opacity-50{--bs-bg-opacity: 0.5}.bg-opacity-75{--bs-bg-opacity: 0.75}.bg-opacity-100{--bs-bg-opacity: 1}.bg-gradient{background-image:var(--bs-gradient) !important}.user-select-all{-webkit-user-select:all !important;-moz-user-select:all !important;user-select:all !important}.user-select-auto{-webkit-user-select:auto !important;-moz-user-select:auto !important;user-select:auto !important}.user-select-none{-webkit-user-select:none !important;-moz-user-select:none !important;user-select:none !important}.pe-none{pointer-events:none !important}.pe-auto{pointer-events:auto !important}.rounded{border-radius:var(--bs-border-radius) !important}.rounded-0{border-radius:0 !important}.rounded-1{border-radius:var(--bs-border-radius-sm) !important}.rounded-2{border-radius:var(--bs-border-radius) !important}.rounded-3{border-radius:var(--bs-border-radius-lg) !important}.rounded-4{border-radius:var(--bs-border-radius-xl) !important}.rounded-5{border-radius:var(--bs-border-radius-2xl) !important}.rounded-circle{border-radius:50% !important}.rounded-pill{border-radius:var(--bs-border-radius-pill) !important}.rounded-top{border-top-left-radius:var(--bs-border-radius) !important;border-top-right-radius:var(--bs-border-radius) !important}.rounded-end{border-top-right-radius:var(--bs-border-radius) !important;border-bottom-right-radius:var(--bs-border-radius) !important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius) !important;border-bottom-left-radius:var(--bs-border-radius) !important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius) !important;border-top-left-radius:var(--bs-border-radius) !important}.visible{visibility:visible !important}.invisible{visibility:hidden !important}@media(min-width: 576px){.float-sm-start{float:left !important}.float-sm-end{float:right !important}.float-sm-none{float:none !important}.d-sm-inline{display:inline !important}.d-sm-inline-block{display:inline-block !important}.d-sm-block{display:block !important}.d-sm-grid{display:grid !important}.d-sm-table{display:table !important}.d-sm-table-row{display:table-row !important}.d-sm-table-cell{display:table-cell !important}.d-sm-flex{display:flex !important}.d-sm-inline-flex{display:inline-flex !important}.d-sm-none{display:none !important}.flex-sm-fill{flex:1 1 auto !important}.flex-sm-row{flex-direction:row !important}.flex-sm-column{flex-direction:column !important}.flex-sm-row-reverse{flex-direction:row-reverse !important}.flex-sm-column-reverse{flex-direction:column-reverse !important}.flex-sm-grow-0{flex-grow:0 !important}.flex-sm-grow-1{flex-grow:1 !important}.flex-sm-shrink-0{flex-shrink:0 !important}.flex-sm-shrink-1{flex-shrink:1 !important}.flex-sm-wrap{flex-wrap:wrap !important}.flex-sm-nowrap{flex-wrap:nowrap !important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-sm-start{justify-content:flex-start !important}.justify-content-sm-end{justify-content:flex-end !important}.justify-content-sm-center{justify-content:center !important}.justify-content-sm-between{justify-content:space-between !important}.justify-content-sm-around{justify-content:space-around !important}.justify-content-sm-evenly{justify-content:space-evenly !important}.align-items-sm-start{align-items:flex-start !important}.align-items-sm-end{align-items:flex-end !important}.align-items-sm-center{align-items:center !important}.align-items-sm-baseline{align-items:baseline !important}.align-items-sm-stretch{align-items:stretch !important}.align-content-sm-start{align-content:flex-start !important}.align-content-sm-end{align-content:flex-end !important}.align-content-sm-center{align-content:center !important}.align-content-sm-between{align-content:space-between !important}.align-content-sm-around{align-content:space-around !important}.align-content-sm-stretch{align-content:stretch !important}.align-self-sm-auto{align-self:auto !important}.align-self-sm-start{align-self:flex-start !important}.align-self-sm-end{align-self:flex-end !important}.align-self-sm-center{align-self:center !important}.align-self-sm-baseline{align-self:baseline !important}.align-self-sm-stretch{align-self:stretch !important}.order-sm-first{order:-1 !important}.order-sm-0{order:0 !important}.order-sm-1{order:1 !important}.order-sm-2{order:2 !important}.order-sm-3{order:3 !important}.order-sm-4{order:4 !important}.order-sm-5{order:5 !important}.order-sm-last{order:6 !important}.m-sm-0{margin:0 !important}.m-sm-1{margin:.25rem !important}.m-sm-2{margin:.5rem !important}.m-sm-3{margin:1rem !important}.m-sm-4{margin:1.5rem !important}.m-sm-5{margin:3rem !important}.m-sm-auto{margin:auto !important}.mx-sm-0{margin-right:0 !important;margin-left:0 !important}.mx-sm-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-sm-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-sm-3{margin-right:1rem !important;margin-left:1rem !important}.mx-sm-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-sm-5{margin-right:3rem !important;margin-left:3rem !important}.mx-sm-auto{margin-right:auto !important;margin-left:auto !important}.my-sm-0{margin-top:0 !important;margin-bottom:0 !important}.my-sm-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-sm-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-sm-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-sm-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-sm-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-sm-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-sm-0{margin-top:0 !important}.mt-sm-1{margin-top:.25rem !important}.mt-sm-2{margin-top:.5rem !important}.mt-sm-3{margin-top:1rem !important}.mt-sm-4{margin-top:1.5rem !important}.mt-sm-5{margin-top:3rem !important}.mt-sm-auto{margin-top:auto !important}.me-sm-0{margin-right:0 !important}.me-sm-1{margin-right:.25rem !important}.me-sm-2{margin-right:.5rem !important}.me-sm-3{margin-right:1rem !important}.me-sm-4{margin-right:1.5rem !important}.me-sm-5{margin-right:3rem !important}.me-sm-auto{margin-right:auto !important}.mb-sm-0{margin-bottom:0 !important}.mb-sm-1{margin-bottom:.25rem !important}.mb-sm-2{margin-bottom:.5rem !important}.mb-sm-3{margin-bottom:1rem !important}.mb-sm-4{margin-bottom:1.5rem !important}.mb-sm-5{margin-bottom:3rem !important}.mb-sm-auto{margin-bottom:auto !important}.ms-sm-0{margin-left:0 !important}.ms-sm-1{margin-left:.25rem !important}.ms-sm-2{margin-left:.5rem !important}.ms-sm-3{margin-left:1rem !important}.ms-sm-4{margin-left:1.5rem !important}.ms-sm-5{margin-left:3rem !important}.ms-sm-auto{margin-left:auto !important}.p-sm-0{padding:0 !important}.p-sm-1{padding:.25rem !important}.p-sm-2{padding:.5rem !important}.p-sm-3{padding:1rem !important}.p-sm-4{padding:1.5rem !important}.p-sm-5{padding:3rem !important}.px-sm-0{padding-right:0 !important;padding-left:0 !important}.px-sm-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-sm-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-sm-3{padding-right:1rem !important;padding-left:1rem !important}.px-sm-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-sm-5{padding-right:3rem !important;padding-left:3rem !important}.py-sm-0{padding-top:0 !important;padding-bottom:0 !important}.py-sm-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-sm-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-sm-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-sm-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-sm-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-sm-0{padding-top:0 !important}.pt-sm-1{padding-top:.25rem !important}.pt-sm-2{padding-top:.5rem !important}.pt-sm-3{padding-top:1rem !important}.pt-sm-4{padding-top:1.5rem !important}.pt-sm-5{padding-top:3rem !important}.pe-sm-0{padding-right:0 !important}.pe-sm-1{padding-right:.25rem !important}.pe-sm-2{padding-right:.5rem !important}.pe-sm-3{padding-right:1rem !important}.pe-sm-4{padding-right:1.5rem !important}.pe-sm-5{padding-right:3rem !important}.pb-sm-0{padding-bottom:0 !important}.pb-sm-1{padding-bottom:.25rem !important}.pb-sm-2{padding-bottom:.5rem !important}.pb-sm-3{padding-bottom:1rem !important}.pb-sm-4{padding-bottom:1.5rem !important}.pb-sm-5{padding-bottom:3rem !important}.ps-sm-0{padding-left:0 !important}.ps-sm-1{padding-left:.25rem !important}.ps-sm-2{padding-left:.5rem !important}.ps-sm-3{padding-left:1rem !important}.ps-sm-4{padding-left:1.5rem !important}.ps-sm-5{padding-left:3rem !important}.gap-sm-0{gap:0 !important}.gap-sm-1{gap:.25rem !important}.gap-sm-2{gap:.5rem !important}.gap-sm-3{gap:1rem !important}.gap-sm-4{gap:1.5rem !important}.gap-sm-5{gap:3rem !important}.text-sm-start{text-align:left !important}.text-sm-end{text-align:right !important}.text-sm-center{text-align:center !important}}@media(min-width: 768px){.float-md-start{float:left !important}.float-md-end{float:right !important}.float-md-none{float:none !important}.d-md-inline{display:inline !important}.d-md-inline-block{display:inline-block !important}.d-md-block{display:block !important}.d-md-grid{display:grid !important}.d-md-table{display:table !important}.d-md-table-row{display:table-row !important}.d-md-table-cell{display:table-cell !important}.d-md-flex{display:flex !important}.d-md-inline-flex{display:inline-flex !important}.d-md-none{display:none !important}.flex-md-fill{flex:1 1 auto !important}.flex-md-row{flex-direction:row !important}.flex-md-column{flex-direction:column !important}.flex-md-row-reverse{flex-direction:row-reverse !important}.flex-md-column-reverse{flex-direction:column-reverse !important}.flex-md-grow-0{flex-grow:0 !important}.flex-md-grow-1{flex-grow:1 !important}.flex-md-shrink-0{flex-shrink:0 !important}.flex-md-shrink-1{flex-shrink:1 !important}.flex-md-wrap{flex-wrap:wrap !important}.flex-md-nowrap{flex-wrap:nowrap !important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-md-start{justify-content:flex-start !important}.justify-content-md-end{justify-content:flex-end !important}.justify-content-md-center{justify-content:center !important}.justify-content-md-between{justify-content:space-between !important}.justify-content-md-around{justify-content:space-around !important}.justify-content-md-evenly{justify-content:space-evenly !important}.align-items-md-start{align-items:flex-start !important}.align-items-md-end{align-items:flex-end !important}.align-items-md-center{align-items:center !important}.align-items-md-baseline{align-items:baseline !important}.align-items-md-stretch{align-items:stretch !important}.align-content-md-start{align-content:flex-start !important}.align-content-md-end{align-content:flex-end !important}.align-content-md-center{align-content:center !important}.align-content-md-between{align-content:space-between !important}.align-content-md-around{align-content:space-around !important}.align-content-md-stretch{align-content:stretch !important}.align-self-md-auto{align-self:auto !important}.align-self-md-start{align-self:flex-start !important}.align-self-md-end{align-self:flex-end !important}.align-self-md-center{align-self:center !important}.align-self-md-baseline{align-self:baseline !important}.align-self-md-stretch{align-self:stretch !important}.order-md-first{order:-1 !important}.order-md-0{order:0 !important}.order-md-1{order:1 !important}.order-md-2{order:2 !important}.order-md-3{order:3 !important}.order-md-4{order:4 !important}.order-md-5{order:5 !important}.order-md-last{order:6 !important}.m-md-0{margin:0 !important}.m-md-1{margin:.25rem !important}.m-md-2{margin:.5rem !important}.m-md-3{margin:1rem !important}.m-md-4{margin:1.5rem !important}.m-md-5{margin:3rem !important}.m-md-auto{margin:auto !important}.mx-md-0{margin-right:0 !important;margin-left:0 !important}.mx-md-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-md-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-md-3{margin-right:1rem !important;margin-left:1rem !important}.mx-md-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-md-5{margin-right:3rem !important;margin-left:3rem !important}.mx-md-auto{margin-right:auto !important;margin-left:auto !important}.my-md-0{margin-top:0 !important;margin-bottom:0 !important}.my-md-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-md-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-md-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-md-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-md-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-md-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-md-0{margin-top:0 !important}.mt-md-1{margin-top:.25rem !important}.mt-md-2{margin-top:.5rem !important}.mt-md-3{margin-top:1rem !important}.mt-md-4{margin-top:1.5rem !important}.mt-md-5{margin-top:3rem !important}.mt-md-auto{margin-top:auto !important}.me-md-0{margin-right:0 !important}.me-md-1{margin-right:.25rem !important}.me-md-2{margin-right:.5rem !important}.me-md-3{margin-right:1rem !important}.me-md-4{margin-right:1.5rem !important}.me-md-5{margin-right:3rem !important}.me-md-auto{margin-right:auto !important}.mb-md-0{margin-bottom:0 !important}.mb-md-1{margin-bottom:.25rem !important}.mb-md-2{margin-bottom:.5rem !important}.mb-md-3{margin-bottom:1rem !important}.mb-md-4{margin-bottom:1.5rem !important}.mb-md-5{margin-bottom:3rem !important}.mb-md-auto{margin-bottom:auto !important}.ms-md-0{margin-left:0 !important}.ms-md-1{margin-left:.25rem !important}.ms-md-2{margin-left:.5rem !important}.ms-md-3{margin-left:1rem !important}.ms-md-4{margin-left:1.5rem !important}.ms-md-5{margin-left:3rem !important}.ms-md-auto{margin-left:auto !important}.p-md-0{padding:0 !important}.p-md-1{padding:.25rem !important}.p-md-2{padding:.5rem !important}.p-md-3{padding:1rem !important}.p-md-4{padding:1.5rem !important}.p-md-5{padding:3rem !important}.px-md-0{padding-right:0 !important;padding-left:0 !important}.px-md-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-md-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-md-3{padding-right:1rem !important;padding-left:1rem !important}.px-md-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-md-5{padding-right:3rem !important;padding-left:3rem !important}.py-md-0{padding-top:0 !important;padding-bottom:0 !important}.py-md-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-md-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-md-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-md-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-md-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-md-0{padding-top:0 !important}.pt-md-1{padding-top:.25rem !important}.pt-md-2{padding-top:.5rem !important}.pt-md-3{padding-top:1rem !important}.pt-md-4{padding-top:1.5rem !important}.pt-md-5{padding-top:3rem !important}.pe-md-0{padding-right:0 !important}.pe-md-1{padding-right:.25rem !important}.pe-md-2{padding-right:.5rem !important}.pe-md-3{padding-right:1rem !important}.pe-md-4{padding-right:1.5rem !important}.pe-md-5{padding-right:3rem !important}.pb-md-0{padding-bottom:0 !important}.pb-md-1{padding-bottom:.25rem !important}.pb-md-2{padding-bottom:.5rem !important}.pb-md-3{padding-bottom:1rem !important}.pb-md-4{padding-bottom:1.5rem !important}.pb-md-5{padding-bottom:3rem !important}.ps-md-0{padding-left:0 !important}.ps-md-1{padding-left:.25rem !important}.ps-md-2{padding-left:.5rem !important}.ps-md-3{padding-left:1rem !important}.ps-md-4{padding-left:1.5rem !important}.ps-md-5{padding-left:3rem !important}.gap-md-0{gap:0 !important}.gap-md-1{gap:.25rem !important}.gap-md-2{gap:.5rem !important}.gap-md-3{gap:1rem !important}.gap-md-4{gap:1.5rem !important}.gap-md-5{gap:3rem !important}.text-md-start{text-align:left !important}.text-md-end{text-align:right !important}.text-md-center{text-align:center !important}}@media(min-width: 992px){.float-lg-start{float:left !important}.float-lg-end{float:right !important}.float-lg-none{float:none !important}.d-lg-inline{display:inline !important}.d-lg-inline-block{display:inline-block !important}.d-lg-block{display:block !important}.d-lg-grid{display:grid !important}.d-lg-table{display:table !important}.d-lg-table-row{display:table-row !important}.d-lg-table-cell{display:table-cell !important}.d-lg-flex{display:flex !important}.d-lg-inline-flex{display:inline-flex !important}.d-lg-none{display:none !important}.flex-lg-fill{flex:1 1 auto !important}.flex-lg-row{flex-direction:row !important}.flex-lg-column{flex-direction:column !important}.flex-lg-row-reverse{flex-direction:row-reverse !important}.flex-lg-column-reverse{flex-direction:column-reverse !important}.flex-lg-grow-0{flex-grow:0 !important}.flex-lg-grow-1{flex-grow:1 !important}.flex-lg-shrink-0{flex-shrink:0 !important}.flex-lg-shrink-1{flex-shrink:1 !important}.flex-lg-wrap{flex-wrap:wrap !important}.flex-lg-nowrap{flex-wrap:nowrap !important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-lg-start{justify-content:flex-start !important}.justify-content-lg-end{justify-content:flex-end !important}.justify-content-lg-center{justify-content:center !important}.justify-content-lg-between{justify-content:space-between !important}.justify-content-lg-around{justify-content:space-around !important}.justify-content-lg-evenly{justify-content:space-evenly !important}.align-items-lg-start{align-items:flex-start !important}.align-items-lg-end{align-items:flex-end !important}.align-items-lg-center{align-items:center !important}.align-items-lg-baseline{align-items:baseline !important}.align-items-lg-stretch{align-items:stretch !important}.align-content-lg-start{align-content:flex-start !important}.align-content-lg-end{align-content:flex-end !important}.align-content-lg-center{align-content:center !important}.align-content-lg-between{align-content:space-between !important}.align-content-lg-around{align-content:space-around !important}.align-content-lg-stretch{align-content:stretch !important}.align-self-lg-auto{align-self:auto !important}.align-self-lg-start{align-self:flex-start !important}.align-self-lg-end{align-self:flex-end !important}.align-self-lg-center{align-self:center !important}.align-self-lg-baseline{align-self:baseline !important}.align-self-lg-stretch{align-self:stretch !important}.order-lg-first{order:-1 !important}.order-lg-0{order:0 !important}.order-lg-1{order:1 !important}.order-lg-2{order:2 !important}.order-lg-3{order:3 !important}.order-lg-4{order:4 !important}.order-lg-5{order:5 !important}.order-lg-last{order:6 !important}.m-lg-0{margin:0 !important}.m-lg-1{margin:.25rem !important}.m-lg-2{margin:.5rem !important}.m-lg-3{margin:1rem !important}.m-lg-4{margin:1.5rem !important}.m-lg-5{margin:3rem !important}.m-lg-auto{margin:auto !important}.mx-lg-0{margin-right:0 !important;margin-left:0 !important}.mx-lg-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-lg-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-lg-3{margin-right:1rem !important;margin-left:1rem !important}.mx-lg-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-lg-5{margin-right:3rem !important;margin-left:3rem !important}.mx-lg-auto{margin-right:auto !important;margin-left:auto !important}.my-lg-0{margin-top:0 !important;margin-bottom:0 !important}.my-lg-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-lg-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-lg-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-lg-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-lg-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-lg-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-lg-0{margin-top:0 !important}.mt-lg-1{margin-top:.25rem !important}.mt-lg-2{margin-top:.5rem !important}.mt-lg-3{margin-top:1rem !important}.mt-lg-4{margin-top:1.5rem !important}.mt-lg-5{margin-top:3rem !important}.mt-lg-auto{margin-top:auto !important}.me-lg-0{margin-right:0 !important}.me-lg-1{margin-right:.25rem !important}.me-lg-2{margin-right:.5rem !important}.me-lg-3{margin-right:1rem !important}.me-lg-4{margin-right:1.5rem !important}.me-lg-5{margin-right:3rem !important}.me-lg-auto{margin-right:auto !important}.mb-lg-0{margin-bottom:0 !important}.mb-lg-1{margin-bottom:.25rem !important}.mb-lg-2{margin-bottom:.5rem !important}.mb-lg-3{margin-bottom:1rem !important}.mb-lg-4{margin-bottom:1.5rem !important}.mb-lg-5{margin-bottom:3rem !important}.mb-lg-auto{margin-bottom:auto !important}.ms-lg-0{margin-left:0 !important}.ms-lg-1{margin-left:.25rem !important}.ms-lg-2{margin-left:.5rem !important}.ms-lg-3{margin-left:1rem !important}.ms-lg-4{margin-left:1.5rem !important}.ms-lg-5{margin-left:3rem !important}.ms-lg-auto{margin-left:auto !important}.p-lg-0{padding:0 !important}.p-lg-1{padding:.25rem !important}.p-lg-2{padding:.5rem !important}.p-lg-3{padding:1rem !important}.p-lg-4{padding:1.5rem !important}.p-lg-5{padding:3rem !important}.px-lg-0{padding-right:0 !important;padding-left:0 !important}.px-lg-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-lg-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-lg-3{padding-right:1rem !important;padding-left:1rem !important}.px-lg-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-lg-5{padding-right:3rem !important;padding-left:3rem !important}.py-lg-0{padding-top:0 !important;padding-bottom:0 !important}.py-lg-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-lg-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-lg-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-lg-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-lg-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-lg-0{padding-top:0 !important}.pt-lg-1{padding-top:.25rem !important}.pt-lg-2{padding-top:.5rem !important}.pt-lg-3{padding-top:1rem !important}.pt-lg-4{padding-top:1.5rem !important}.pt-lg-5{padding-top:3rem !important}.pe-lg-0{padding-right:0 !important}.pe-lg-1{padding-right:.25rem !important}.pe-lg-2{padding-right:.5rem !important}.pe-lg-3{padding-right:1rem !important}.pe-lg-4{padding-right:1.5rem !important}.pe-lg-5{padding-right:3rem !important}.pb-lg-0{padding-bottom:0 !important}.pb-lg-1{padding-bottom:.25rem !important}.pb-lg-2{padding-bottom:.5rem !important}.pb-lg-3{padding-bottom:1rem !important}.pb-lg-4{padding-bottom:1.5rem !important}.pb-lg-5{padding-bottom:3rem !important}.ps-lg-0{padding-left:0 !important}.ps-lg-1{padding-left:.25rem !important}.ps-lg-2{padding-left:.5rem !important}.ps-lg-3{padding-left:1rem !important}.ps-lg-4{padding-left:1.5rem !important}.ps-lg-5{padding-left:3rem !important}.gap-lg-0{gap:0 !important}.gap-lg-1{gap:.25rem !important}.gap-lg-2{gap:.5rem !important}.gap-lg-3{gap:1rem !important}.gap-lg-4{gap:1.5rem !important}.gap-lg-5{gap:3rem !important}.text-lg-start{text-align:left !important}.text-lg-end{text-align:right !important}.text-lg-center{text-align:center !important}}@media(min-width: 1200px){.float-xl-start{float:left !important}.float-xl-end{float:right !important}.float-xl-none{float:none !important}.d-xl-inline{display:inline !important}.d-xl-inline-block{display:inline-block !important}.d-xl-block{display:block !important}.d-xl-grid{display:grid !important}.d-xl-table{display:table !important}.d-xl-table-row{display:table-row !important}.d-xl-table-cell{display:table-cell !important}.d-xl-flex{display:flex !important}.d-xl-inline-flex{display:inline-flex !important}.d-xl-none{display:none !important}.flex-xl-fill{flex:1 1 auto !important}.flex-xl-row{flex-direction:row !important}.flex-xl-column{flex-direction:column !important}.flex-xl-row-reverse{flex-direction:row-reverse !important}.flex-xl-column-reverse{flex-direction:column-reverse !important}.flex-xl-grow-0{flex-grow:0 !important}.flex-xl-grow-1{flex-grow:1 !important}.flex-xl-shrink-0{flex-shrink:0 !important}.flex-xl-shrink-1{flex-shrink:1 !important}.flex-xl-wrap{flex-wrap:wrap !important}.flex-xl-nowrap{flex-wrap:nowrap !important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-xl-start{justify-content:flex-start !important}.justify-content-xl-end{justify-content:flex-end !important}.justify-content-xl-center{justify-content:center !important}.justify-content-xl-between{justify-content:space-between !important}.justify-content-xl-around{justify-content:space-around !important}.justify-content-xl-evenly{justify-content:space-evenly !important}.align-items-xl-start{align-items:flex-start !important}.align-items-xl-end{align-items:flex-end !important}.align-items-xl-center{align-items:center !important}.align-items-xl-baseline{align-items:baseline !important}.align-items-xl-stretch{align-items:stretch !important}.align-content-xl-start{align-content:flex-start !important}.align-content-xl-end{align-content:flex-end !important}.align-content-xl-center{align-content:center !important}.align-content-xl-between{align-content:space-between !important}.align-content-xl-around{align-content:space-around !important}.align-content-xl-stretch{align-content:stretch !important}.align-self-xl-auto{align-self:auto !important}.align-self-xl-start{align-self:flex-start !important}.align-self-xl-end{align-self:flex-end !important}.align-self-xl-center{align-self:center !important}.align-self-xl-baseline{align-self:baseline !important}.align-self-xl-stretch{align-self:stretch !important}.order-xl-first{order:-1 !important}.order-xl-0{order:0 !important}.order-xl-1{order:1 !important}.order-xl-2{order:2 !important}.order-xl-3{order:3 !important}.order-xl-4{order:4 !important}.order-xl-5{order:5 !important}.order-xl-last{order:6 !important}.m-xl-0{margin:0 !important}.m-xl-1{margin:.25rem !important}.m-xl-2{margin:.5rem !important}.m-xl-3{margin:1rem !important}.m-xl-4{margin:1.5rem !important}.m-xl-5{margin:3rem !important}.m-xl-auto{margin:auto !important}.mx-xl-0{margin-right:0 !important;margin-left:0 !important}.mx-xl-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-xl-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-xl-3{margin-right:1rem !important;margin-left:1rem !important}.mx-xl-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-xl-5{margin-right:3rem !important;margin-left:3rem !important}.mx-xl-auto{margin-right:auto !important;margin-left:auto !important}.my-xl-0{margin-top:0 !important;margin-bottom:0 !important}.my-xl-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-xl-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-xl-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-xl-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-xl-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-xl-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-xl-0{margin-top:0 !important}.mt-xl-1{margin-top:.25rem !important}.mt-xl-2{margin-top:.5rem !important}.mt-xl-3{margin-top:1rem !important}.mt-xl-4{margin-top:1.5rem !important}.mt-xl-5{margin-top:3rem !important}.mt-xl-auto{margin-top:auto !important}.me-xl-0{margin-right:0 !important}.me-xl-1{margin-right:.25rem !important}.me-xl-2{margin-right:.5rem !important}.me-xl-3{margin-right:1rem !important}.me-xl-4{margin-right:1.5rem !important}.me-xl-5{margin-right:3rem !important}.me-xl-auto{margin-right:auto !important}.mb-xl-0{margin-bottom:0 !important}.mb-xl-1{margin-bottom:.25rem !important}.mb-xl-2{margin-bottom:.5rem !important}.mb-xl-3{margin-bottom:1rem !important}.mb-xl-4{margin-bottom:1.5rem !important}.mb-xl-5{margin-bottom:3rem !important}.mb-xl-auto{margin-bottom:auto !important}.ms-xl-0{margin-left:0 !important}.ms-xl-1{margin-left:.25rem !important}.ms-xl-2{margin-left:.5rem !important}.ms-xl-3{margin-left:1rem !important}.ms-xl-4{margin-left:1.5rem !important}.ms-xl-5{margin-left:3rem !important}.ms-xl-auto{margin-left:auto !important}.p-xl-0{padding:0 !important}.p-xl-1{padding:.25rem !important}.p-xl-2{padding:.5rem !important}.p-xl-3{padding:1rem !important}.p-xl-4{padding:1.5rem !important}.p-xl-5{padding:3rem !important}.px-xl-0{padding-right:0 !important;padding-left:0 !important}.px-xl-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-xl-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-xl-3{padding-right:1rem !important;padding-left:1rem !important}.px-xl-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-xl-5{padding-right:3rem !important;padding-left:3rem !important}.py-xl-0{padding-top:0 !important;padding-bottom:0 !important}.py-xl-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-xl-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-xl-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-xl-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-xl-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-xl-0{padding-top:0 !important}.pt-xl-1{padding-top:.25rem !important}.pt-xl-2{padding-top:.5rem !important}.pt-xl-3{padding-top:1rem !important}.pt-xl-4{padding-top:1.5rem !important}.pt-xl-5{padding-top:3rem !important}.pe-xl-0{padding-right:0 !important}.pe-xl-1{padding-right:.25rem !important}.pe-xl-2{padding-right:.5rem !important}.pe-xl-3{padding-right:1rem !important}.pe-xl-4{padding-right:1.5rem !important}.pe-xl-5{padding-right:3rem !important}.pb-xl-0{padding-bottom:0 !important}.pb-xl-1{padding-bottom:.25rem !important}.pb-xl-2{padding-bottom:.5rem !important}.pb-xl-3{padding-bottom:1rem !important}.pb-xl-4{padding-bottom:1.5rem !important}.pb-xl-5{padding-bottom:3rem !important}.ps-xl-0{padding-left:0 !important}.ps-xl-1{padding-left:.25rem !important}.ps-xl-2{padding-left:.5rem !important}.ps-xl-3{padding-left:1rem !important}.ps-xl-4{padding-left:1.5rem !important}.ps-xl-5{padding-left:3rem !important}.gap-xl-0{gap:0 !important}.gap-xl-1{gap:.25rem !important}.gap-xl-2{gap:.5rem !important}.gap-xl-3{gap:1rem !important}.gap-xl-4{gap:1.5rem !important}.gap-xl-5{gap:3rem !important}.text-xl-start{text-align:left !important}.text-xl-end{text-align:right !important}.text-xl-center{text-align:center !important}}@media(min-width: 1400px){.float-xxl-start{float:left !important}.float-xxl-end{float:right !important}.float-xxl-none{float:none !important}.d-xxl-inline{display:inline !important}.d-xxl-inline-block{display:inline-block !important}.d-xxl-block{display:block !important}.d-xxl-grid{display:grid !important}.d-xxl-table{display:table !important}.d-xxl-table-row{display:table-row !important}.d-xxl-table-cell{display:table-cell !important}.d-xxl-flex{display:flex !important}.d-xxl-inline-flex{display:inline-flex !important}.d-xxl-none{display:none !important}.flex-xxl-fill{flex:1 1 auto !important}.flex-xxl-row{flex-direction:row !important}.flex-xxl-column{flex-direction:column !important}.flex-xxl-row-reverse{flex-direction:row-reverse !important}.flex-xxl-column-reverse{flex-direction:column-reverse !important}.flex-xxl-grow-0{flex-grow:0 !important}.flex-xxl-grow-1{flex-grow:1 !important}.flex-xxl-shrink-0{flex-shrink:0 !important}.flex-xxl-shrink-1{flex-shrink:1 !important}.flex-xxl-wrap{flex-wrap:wrap !important}.flex-xxl-nowrap{flex-wrap:nowrap !important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse !important}.justify-content-xxl-start{justify-content:flex-start !important}.justify-content-xxl-end{justify-content:flex-end !important}.justify-content-xxl-center{justify-content:center !important}.justify-content-xxl-between{justify-content:space-between !important}.justify-content-xxl-around{justify-content:space-around !important}.justify-content-xxl-evenly{justify-content:space-evenly !important}.align-items-xxl-start{align-items:flex-start !important}.align-items-xxl-end{align-items:flex-end !important}.align-items-xxl-center{align-items:center !important}.align-items-xxl-baseline{align-items:baseline !important}.align-items-xxl-stretch{align-items:stretch !important}.align-content-xxl-start{align-content:flex-start !important}.align-content-xxl-end{align-content:flex-end !important}.align-content-xxl-center{align-content:center !important}.align-content-xxl-between{align-content:space-between !important}.align-content-xxl-around{align-content:space-around !important}.align-content-xxl-stretch{align-content:stretch !important}.align-self-xxl-auto{align-self:auto !important}.align-self-xxl-start{align-self:flex-start !important}.align-self-xxl-end{align-self:flex-end !important}.align-self-xxl-center{align-self:center !important}.align-self-xxl-baseline{align-self:baseline !important}.align-self-xxl-stretch{align-self:stretch !important}.order-xxl-first{order:-1 !important}.order-xxl-0{order:0 !important}.order-xxl-1{order:1 !important}.order-xxl-2{order:2 !important}.order-xxl-3{order:3 !important}.order-xxl-4{order:4 !important}.order-xxl-5{order:5 !important}.order-xxl-last{order:6 !important}.m-xxl-0{margin:0 !important}.m-xxl-1{margin:.25rem !important}.m-xxl-2{margin:.5rem !important}.m-xxl-3{margin:1rem !important}.m-xxl-4{margin:1.5rem !important}.m-xxl-5{margin:3rem !important}.m-xxl-auto{margin:auto !important}.mx-xxl-0{margin-right:0 !important;margin-left:0 !important}.mx-xxl-1{margin-right:.25rem !important;margin-left:.25rem !important}.mx-xxl-2{margin-right:.5rem !important;margin-left:.5rem !important}.mx-xxl-3{margin-right:1rem !important;margin-left:1rem !important}.mx-xxl-4{margin-right:1.5rem !important;margin-left:1.5rem !important}.mx-xxl-5{margin-right:3rem !important;margin-left:3rem !important}.mx-xxl-auto{margin-right:auto !important;margin-left:auto !important}.my-xxl-0{margin-top:0 !important;margin-bottom:0 !important}.my-xxl-1{margin-top:.25rem !important;margin-bottom:.25rem !important}.my-xxl-2{margin-top:.5rem !important;margin-bottom:.5rem !important}.my-xxl-3{margin-top:1rem !important;margin-bottom:1rem !important}.my-xxl-4{margin-top:1.5rem !important;margin-bottom:1.5rem !important}.my-xxl-5{margin-top:3rem !important;margin-bottom:3rem !important}.my-xxl-auto{margin-top:auto !important;margin-bottom:auto !important}.mt-xxl-0{margin-top:0 !important}.mt-xxl-1{margin-top:.25rem !important}.mt-xxl-2{margin-top:.5rem !important}.mt-xxl-3{margin-top:1rem !important}.mt-xxl-4{margin-top:1.5rem !important}.mt-xxl-5{margin-top:3rem !important}.mt-xxl-auto{margin-top:auto !important}.me-xxl-0{margin-right:0 !important}.me-xxl-1{margin-right:.25rem !important}.me-xxl-2{margin-right:.5rem !important}.me-xxl-3{margin-right:1rem !important}.me-xxl-4{margin-right:1.5rem !important}.me-xxl-5{margin-right:3rem !important}.me-xxl-auto{margin-right:auto !important}.mb-xxl-0{margin-bottom:0 !important}.mb-xxl-1{margin-bottom:.25rem !important}.mb-xxl-2{margin-bottom:.5rem !important}.mb-xxl-3{margin-bottom:1rem !important}.mb-xxl-4{margin-bottom:1.5rem !important}.mb-xxl-5{margin-bottom:3rem !important}.mb-xxl-auto{margin-bottom:auto !important}.ms-xxl-0{margin-left:0 !important}.ms-xxl-1{margin-left:.25rem !important}.ms-xxl-2{margin-left:.5rem !important}.ms-xxl-3{margin-left:1rem !important}.ms-xxl-4{margin-left:1.5rem !important}.ms-xxl-5{margin-left:3rem !important}.ms-xxl-auto{margin-left:auto !important}.p-xxl-0{padding:0 !important}.p-xxl-1{padding:.25rem !important}.p-xxl-2{padding:.5rem !important}.p-xxl-3{padding:1rem !important}.p-xxl-4{padding:1.5rem !important}.p-xxl-5{padding:3rem !important}.px-xxl-0{padding-right:0 !important;padding-left:0 !important}.px-xxl-1{padding-right:.25rem !important;padding-left:.25rem !important}.px-xxl-2{padding-right:.5rem !important;padding-left:.5rem !important}.px-xxl-3{padding-right:1rem !important;padding-left:1rem !important}.px-xxl-4{padding-right:1.5rem !important;padding-left:1.5rem !important}.px-xxl-5{padding-right:3rem !important;padding-left:3rem !important}.py-xxl-0{padding-top:0 !important;padding-bottom:0 !important}.py-xxl-1{padding-top:.25rem !important;padding-bottom:.25rem !important}.py-xxl-2{padding-top:.5rem !important;padding-bottom:.5rem !important}.py-xxl-3{padding-top:1rem !important;padding-bottom:1rem !important}.py-xxl-4{padding-top:1.5rem !important;padding-bottom:1.5rem !important}.py-xxl-5{padding-top:3rem !important;padding-bottom:3rem !important}.pt-xxl-0{padding-top:0 !important}.pt-xxl-1{padding-top:.25rem !important}.pt-xxl-2{padding-top:.5rem !important}.pt-xxl-3{padding-top:1rem !important}.pt-xxl-4{padding-top:1.5rem !important}.pt-xxl-5{padding-top:3rem !important}.pe-xxl-0{padding-right:0 !important}.pe-xxl-1{padding-right:.25rem !important}.pe-xxl-2{padding-right:.5rem !important}.pe-xxl-3{padding-right:1rem !important}.pe-xxl-4{padding-right:1.5rem !important}.pe-xxl-5{padding-right:3rem !important}.pb-xxl-0{padding-bottom:0 !important}.pb-xxl-1{padding-bottom:.25rem !important}.pb-xxl-2{padding-bottom:.5rem !important}.pb-xxl-3{padding-bottom:1rem !important}.pb-xxl-4{padding-bottom:1.5rem !important}.pb-xxl-5{padding-bottom:3rem !important}.ps-xxl-0{padding-left:0 !important}.ps-xxl-1{padding-left:.25rem !important}.ps-xxl-2{padding-left:.5rem !important}.ps-xxl-3{padding-left:1rem !important}.ps-xxl-4{padding-left:1.5rem !important}.ps-xxl-5{padding-left:3rem !important}.gap-xxl-0{gap:0 !important}.gap-xxl-1{gap:.25rem !important}.gap-xxl-2{gap:.5rem !important}.gap-xxl-3{gap:1rem !important}.gap-xxl-4{gap:1.5rem !important}.gap-xxl-5{gap:3rem !important}.text-xxl-start{text-align:left !important}.text-xxl-end{text-align:right !important}.text-xxl-center{text-align:center !important}}@media(min-width: 1200px){.fs-1{font-size:3rem !important}.fs-2{font-size:2.5rem !important}.fs-3{font-size:2rem !important}.fs-4{font-size:1.40625rem !important}}@media print{.d-print-inline{display:inline !important}.d-print-inline-block{display:inline-block !important}.d-print-block{display:block !important}.d-print-grid{display:grid !important}.d-print-table{display:table !important}.d-print-table-row{display:table-row !important}.d-print-table-cell{display:table-cell !important}.d-print-flex{display:flex !important}.d-print-inline-flex{display:inline-flex !important}.d-print-none{display:none !important}}.bg-primary .navbar-nav .active>.nav-link{color:#18bc9c !important}.bg-dark{background-color:#18bc9c !important}.bg-dark.navbar-dark .navbar-nav .nav-link:focus,.bg-dark.navbar-dark .navbar-nav .nav-link:hover,.bg-dark.navbar-dark .navbar-nav .active>.nav-link{color:#2c3e50 !important}.btn-success,.btn-success:hover,.btn-success:focus,.btn-secondary,.btn-secondary:hover,.btn-secondary:focus,.btn-warning,.btn-warning:hover,.btn-warning:focus{color:#fff}.btn-check:checked+.btn-success,.btn-check:checked+.btn-success:hover,.btn-check:checked+.btn-success:checked,.btn-check:checked+.btn-secondary,.btn-check:checked+.btn-secondary:hover,.btn-check:checked+.btn-secondary:checked,.btn-check:checked+.btn-warning,.btn-check:checked+.btn-warning:hover,.btn-check:checked+.btn-warning:checked{color:#fff}.table-primary,.table-secondary,.table-success,.table-info,.table-warning,.table-danger{color:#fff}.table-primary,.table-primary>th,.table-primary>td{background-color:#2c3e50}.table-secondary,.table-secondary>th,.table-secondary>td{background-color:#95a5a6}.table-light,.table-light>th,.table-light>td{background-color:#ecf0f1}.table-dark,.table-dark>th,.table-dark>td{background-color:#7b8a8b}.table-success,.table-success>th,.table-success>td{background-color:#18bc9c}.table-info,.table-info>th,.table-info>td{background-color:#3498db}.table-danger,.table-danger>th,.table-danger>td{background-color:#e74c3c}.table-warning,.table-warning>th,.table-warning>td{background-color:#f39c12}.table-active,.table-active>th,.table-active>td{background-color:rgba(0,0,0,.1)}.table-hover .table-primary:hover,.table-hover .table-primary:hover>th,.table-hover .table-primary:hover>td{background-color:#233140}.table-hover .table-secondary:hover,.table-hover .table-secondary:hover>th,.table-hover .table-secondary:hover>td{background-color:#87999a}.table-hover .table-light:hover,.table-hover .table-light:hover>th,.table-hover .table-light:hover>td{background-color:#dde4e6}.table-hover .table-dark:hover,.table-hover .table-dark:hover>th,.table-hover .table-dark:hover>td{background-color:#6f7d7e}.table-hover .table-success:hover,.table-hover .table-success:hover>th,.table-hover .table-success:hover>td{background-color:#15a589}.table-hover .table-info:hover,.table-hover .table-info:hover>th,.table-hover .table-info:hover>td{background-color:#258cd1}.table-hover .table-danger:hover,.table-hover .table-danger:hover>th,.table-hover .table-danger:hover>td{background-color:#e43725}.table-hover .table-warning:hover,.table-hover .table-warning:hover>th,.table-hover .table-warning:hover>td{background-color:#e08e0b}.table-hover .table-active:hover,.table-hover .table-active:hover>th,.table-hover .table-active:hover>td{background-color:rgba(0,0,0,.1)}#primary-meeting-external-id{display:none}#replica-meeting-input:checked~#primary-meeting-external-id{display:block}.nav-tabs .nav-link.active,.nav-tabs .nav-link.active:focus,.nav-tabs .nav-link.active:hover,.nav-tabs .nav-item.open .nav-link,.nav-tabs .nav-item.open .nav-link:focus,.nav-tabs .nav-item.open .nav-link:hover{color:#2c3e50}.pagination a:hover{text-decoration:none}.close{text-decoration:none;opacity:.4}.close:hover,.close:focus{opacity:1}.badge-secondary,.badge-warning{color:#fff}.alert{border:none;color:#fff}.alert a,.alert .alert-link{color:#fff;text-decoration:underline}.alert-primary{background-color:#2c3e50}.alert-secondary{background-color:#95a5a6}.alert-success{background-color:#18bc9c}.alert-info{background-color:#3498db}.alert-warning{background-color:#f39c12}.alert-danger{background-color:#e74c3c}.alert-light{background-color:#ecf0f1}.alert-dark{background-color:#7b8a8b}.alert-light,.alert-light a,.alert-light .alert-link{color:#212529}.modal .close{color:#000}.modal .close:not(:disabled):not(.disabled):hover,.modal .close:not(:disabled):not(.disabled):focus{color:#000}.modal-backdrop{z-index:-1}html{height:100%}body{min-width:320px;height:100%;display:flex;-ms-flex-align:center;-ms-flex-pack:center;align-items:center;justify-content:center;background-color:#f5f5f5}svg{width:20px;height:20px;fill:#bfc8c9}#form-authenticate svg{fill:#fff !important}.svg-active{fill:#fff}.svg-inactive{fill:#bfc8c9}.flow{display:none}.hidden{display:none}.progress-hidden{visibility:hidden}#flow-fatal{width:100%;height:100%;vertical-align:middle;background-color:darkred}#flow-fatal h1,#flow-fatal .h1{color:#f8f8ff;-webkit-text-stroke:#fff 1px;text-shadow:0 0 1px #212529}#flow-fatal p{color:#f8f8ff}#flow-meeting{min-width:320px}@media(max-width: 575px){#tile-area{display:flex;flex-wrap:wrap}#tile-area>div{position:relative !important;top:auto !important;right:auto !important;bottom:auto !important;left:auto !important;height:auto !important}#tile-area>video-tile{width:50% !important;padding-bottom:33% !important}#tile-area>video-tile>video{-o-object-fit:cover;object-fit:cover}#tile-area>video-tile>div,#tile-area>video-tile>button{display:none !important}#content-share-video{display:none !important}#meeting-container{height:auto !important}#roster-tile-container{height:auto !important}#roster-message-container{height:auto !important}#tile-transcript-container{height:auto !important}.bs-component{max-height:210px;height:auto !important}.message{max-height:210px;height:210px !important}.video-preview{max-width:100%;max-height:180px;margin-top:7px}#video-preview{max-height:180px}}#form-devices{height:100vh;padding-top:10px}@media(min-width: 576px){.video-preview{width:100%;max-height:300px;margin-left:0;margin-top:0}#video-preview{max-height:300px}}.markdown{margin-top:0;margin-bottom:0}a.markdown:link{color:#278990}a.markdown:visited{color:#278990}a.markdown:hover{color:#278990}a.markdown:active{color:#278990}.message-bubble-self{border-radius:5px;background-color:#eef8f8;border-width:1px;border-style:solid;border-color:#86d1d7;padding:.3rem;margin-left:1rem;margin-right:1rem;margin-top:0rem;margin-bottom:.5rem}.message-bubble-other{border-radius:5px;background-color:#f1f1f1;border-style:none;padding:.3rem;margin-left:1rem;margin-right:1rem;margin-top:0rem;margin-bottom:.5rem}.message-bubble-sender{font-weight:bold;margin-left:1.3rem;margin-right:1rem;margin-top:.25rem;margin-bottom:.25rem}.v-grid{display:grid;height:100%;width:100%}.v-grid.size-1{grid-template:1fr/1fr}.v-grid.size-1 .video-tile{height:0;padding-bottom:56.25%}.v-grid.size-2{grid-template:repeat(2, 1fr)/repeat(2, 1fr)}.v-grid.size-3,.v-grid.size-4{grid-template:repeat(2, 1fr)/repeat(2, 1fr)}.v-grid.size-5,.v-grid.size-6{grid-template:repeat(3, 1fr)/repeat(2, 1fr)}.v-grid.size-7,.v-grid.size-8{grid-template:repeat(4, 1fr)/repeat(2, 1fr)}.v-grid.size-9,.v-grid.size-10{grid-template:repeat(4, 1fr)/repeat(3, 1fr)}.v-grid.size-11,.v-grid.size-12{grid-template:repeat(4, 1fr)/repeat(3, 1fr)}.v-grid.size-13,.v-grid.size-14,.v-grid.size-15,.v-grid.size-16{grid-template:repeat(4, 1fr)/repeat(4, 1fr)}.v-grid.size-17,.v-grid.size-18,.v-grid.size-19,.v-grid.size-20,.v-grid.size-21,.v-grid.size-22,.v-grid.size-23,.v-grid.size-24,.v-grid.size-25{grid-template:repeat(5, 1fr)/repeat(5, 1fr)}.v-grid.featured{grid-template:1fr/1fr;grid-template-areas:"ft"}.v-grid.featured.size-2,.v-grid.featured.size-3{grid-template:repeat(4, 1fr)/repeat(2, 1fr);grid-template-areas:"ft ft" "ft ft" "ft ft"}.v-grid.featured.size-4{grid-template:repeat(4, 1fr)/repeat(3, 1fr);grid-template-areas:"ft ft ft" "ft ft ft" "ft ft ft"}.v-grid.featured.size-5,.v-grid.featured.size-6,.v-grid.featured.size-7{grid-template:repeat(6, 1fr)/repeat(3, 1fr);grid-template-areas:"ft ft ft" "ft ft ft" "ft ft ft" "ft ft ft"}.v-grid.featured.size-8,.v-grid.featured.size-9{grid-template:repeat(6, 1fr)/repeat(4, 1fr);grid-template-areas:"ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft"}.v-grid.featured.size-10,.v-grid.featured.size-11,.v-grid.featured.size-12,.v-grid.featured.size-13{grid-template:repeat(7, 1fr)/repeat(6, 1fr);grid-template-areas:"ft ft ft ft ft ft" "ft ft ft ft ft ft" "ft ft ft ft ft ft" "ft ft ft ft ft ft" "ft ft ft ft ft ft"}.v-grid.featured.size-14,.v-grid.featured.size-15,.v-grid.featured.size-16,.v-grid.featured.size-17{grid-template:repeat(7, 1fr)/repeat(8, 1fr);grid-template-areas:"ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft"}.v-grid.featured.size-18,.v-grid.featured.size-19,.v-grid.featured.size-20,.v-grid.featured.size-21,.v-grid.featured.size-22,.v-grid.featured.size-23,.v-grid.featured.size-24,.v-grid.featured.size-25,.v-grid.featured.size-26,.v-grid.featured.size-27{grid-template:repeat(9, 1fr)/repeat(8, 1fr);grid-template-areas:"ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft" "ft ft ft ft ft ft ft ft"}@media screen and (max-width: 1200px){.v-grid.size-2{grid-template:repeat(2, 1fr)/1fr}.v-grid.size-3{grid-template:repeat(3, 1fr)/1fr}.v-grid.size-4{grid-template:repeat(4, 1fr)/1fr}.v-grid.size-5,.v-grid.size-6,.v-grid.size-7,.v-grid.size-8{grid-template:repeat(4, 1fr)/repeat(2, 1fr)}.v-grid.size-9,.v-grid.size-10,.v-grid.size-11,.v-grid.size-12{grid-template:repeat(6, 1fr)/repeat(2, 1fr)}.v-grid.size-13,.v-grid.size-14,.v-grid.size-15,.v-grid.size-16{grid-template:repeat(8, 1fr)/repeat(2, 1fr)}.v-grid.size-17,.v-grid.size-18,.v-grid.size-19,.v-grid.size-20,.v-grid.size-21,.v-grid.size-22,.v-grid.size-23,.v-grid.size-24,.v-grid.size-25{grid-template:repeat(13, 1fr)/repeat(2, 1fr)}.v-grid.featured.size-1{grid-template:1fr/1fr;grid-template-areas:"ft"}.v-grid.featured.size-2,.v-grid.featured.size-3,.v-grid.featured.size-4,.v-grid.featured.size-5{grid-template:repeat(4, 1fr)/repeat(2, 1fr);grid-template-areas:"ft ft" "ft ft"}.v-grid.featured.size-6,.v-grid.featured.size-7{grid-template:repeat(4, 1fr)/repeat(3, 1fr);grid-template-areas:"ft ft ft" "ft ft ft"}.v-grid.featured.size-8,.v-grid.featured.size-9{grid-template:repeat(6, 1fr)/repeat(4, 1fr);grid-template-areas:"ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft"}.v-grid.featured.size-10,.v-grid.featured.size-11,.v-grid.featured.size-12,.v-grid.featured.size-13{grid-template:repeat(8, 1fr)/repeat(4, 1fr);grid-template-areas:"ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft"}.v-grid.featured.size-14,.v-grid.featured.size-15,.v-grid.featured.size-16,.v-grid.featured.size-17,.v-grid.featured.size-18,.v-grid.featured.size-19,.v-grid.featured.size-20,.v-grid.featured.size-21{grid-template:repeat(10, 1fr)/repeat(4, 1fr);grid-template-areas:"ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft" "ft ft ft ft"}.v-grid.featured.size-22,.v-grid.featured.size-23,.v-grid.featured.size-24,.v-grid.featured.size-25,.v-grid.featured.size-26,.v-grid.featured.size-27{grid-template:repeat(9, 1fr)/repeat(6, 1fr);grid-template-areas:"ft ft ft ft ft ft" "ft ft ft ft ft ft" "ft ft ft ft ft ft" "ft ft ft ft ft ft"}}.video-tile{position:relative;display:none;font-size:18px;overflow:hidden}.video-tile.active{display:block}.video-tile.featured{grid-area:ft}.video-tile.content .video-tile-video{-o-object-fit:contain !important;object-fit:contain !important;background-color:#313030}.video-tile.primary{border:5px solid pink}.video-tile-video{position:absolute;top:0;left:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.video-tile-nameplate{position:absolute;bottom:10px;left:10px;color:#fff;text-shadow:0px 0px 5px #000;letter-spacing:.1em}.button-video-tile-config{position:absolute;display:inline-block;top:10px;right:10px}.video-tile-config-toggle{padding:.5rem}.stats-info{position:absolute;background-color:rgba(0,0,0,.5);color:#fff;font-size:10px;bottom:3rem;left:0;z-index:10;padding:.5rem;transition:display .5s;display:none}.stats-info .stats-table{width:15rem}.stats-info .stats-table tr:first-child{border-bottom:1px dotted #fff}#tile-area .video-tile.active:hover>.stats-info{display:block}.video-tile-attendee-id{display:none;position:absolute;color:#fff;padding:1rem}.video-tile.active:hover>.video-tile-attendee-id{display:block}.video-tile-pause-state{position:absolute}.vf-active::before{content:" "}.live-transcription-active::before{content:" "}.transcript-container{max-height:210px;border-radius:10px;background-color:#bbb;overflow-y:scroll;margin-top:10px;padding:.2rem 1rem}.transcript{white-space:nowrap;word-wrap:break-word}.transcript-speaker{color:#555;font-weight:500}.transcript-content{white-space:normal}.modal{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fff;margin:auto;padding-left:20px;padding-right:20px;padding-bottom:20px;max-width:480px}.modal-content-header{display:flex;flex-direction:row;justify-content:space-between}.modal-content-header>span:first-child{margin-right:auto;visibility:hidden}.modal-title{font-size:24px}.close{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:32px;font-weight:bold;margin-left:auto}.close:hover,.close:focus{color:#000;cursor:pointer}.confidence-style{text-decoration:underline;-webkit-text-decoration-color:red;text-decoration-color:red}.entity-color{color:green;font-weight:bold}.error-message-color{color:red}#live-transcription-modal-content>*{margin:8px 0}#toast-container{bottom:20px;right:20px;position:absolute}input[type=file]{opacity:0;z-index:-1;position:absolute}input[type=file]:focus+label{outline:2px solid}',""]);const z=E},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",i=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),i&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),i&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,i,n,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},8337:(e,t,r)=>{"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function n(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===n(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},c={"http:":{validate:function(e,t,r){var i=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(i)?i.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var i=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var i=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(i)?i.match(r.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function d(e){var t=e.re=r(6066)(e.__opts__),i=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var r=e.__schemas__[t];if(null!==r){var i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===n(r))return"[object RegExp]"!==n(r.validate)?o(r.validate)?i.validate=r.validate:l(t,r):i.validate=function(e){return function(t,r){var i=t.slice(r);return e.test(i)?i.match(e)[0].length:0}}(r.validate),void(o(r.normalize)?i.normalize=r.normalize:r.normalize?l(t,r):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===n(e)}(r)?l(t,r):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var r=e.__index__,i=e.__last_index__,n=e.__text_cache__.slice(r,i);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=i+t,this.raw=n,this.text=n,this.url=n}function h(e,t){var r=new u(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function p(e,t){if(!(this instanceof p))return new p(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=i({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},p.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,i,n,o,s,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(n=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},p.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(h(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)r.push(h(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},p.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var r=this.testSchemaAt(e,t[2],t[0].length);return r?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r,h(this,0)):null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},6066:(e,t,r)=>{"use strict";e.exports=function(e){var t={};return e=e||{},t.src_Any=r(9369).source,t.src_Cc=r(9413).source,t.src_Z=r(5045).source,t.src_P=r(3189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},9980:(e,t,r)=>{"use strict";e.exports=r(7024)},6233:(e,t,r)=>{"use strict";e.exports=r(5485)},813:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},1947:e=>{"use strict";var t="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+t+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),n=new RegExp("^(?:"+t+"|"+r+")");e.exports.n=i,e.exports.q=n},7022:(e,t,r)=>{"use strict";var i=Object.prototype.hasOwnProperty;function n(e,t){return i.call(e,t)}function o(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)||e>=0&&e<=8||11===e||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function s(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,d=r(6233),u=/[&<>"]/,h=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function m(e){return p[e]}var f=/[.?*+^$[\]\\(){}|-]/g,g=r(3189);t.lib={},t.lib.mdurl=r(8765),t.lib.ucmicro=r(4205),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(r){e[r]=t[r]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=n,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(a,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,r){return t||function(e,t){var r=0;return n(d,t)?d[t]:35===t.charCodeAt(0)&&l.test(t)&&o(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?s(r):e}(e,r)}))},t.isValidEntityCode=o,t.fromCodePoint=s,t.escapeHtml=function(e){return u.test(e)?e.replace(h,m):e},t.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(f,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}},1685:(e,t,r)=>{"use strict";t.parseLinkLabel=r(3595),t.parseLinkDestination=r(2548),t.parseLinkTitle=r(8040)},2548:(e,t,r)=>{"use strict";var i=r(7022).unescapeAll;e.exports=function(e,t,r){var n,o,s=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(n=e.charCodeAt(t)))return a;if(60===n)return a;if(62===n)return a.pos=t+1,a.str=i(e.slice(s+1,t)),a.ok=!0,a;92===n&&t+1<r?t+=2:t++}return a}for(o=0;t<r&&32!==(n=e.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<r){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===n&&++o>32)return a;if(41===n){if(0===o)break;o--}t++}return s===t||0!==o||(a.str=i(e.slice(s,t)),a.lines=0,a.pos=t,a.ok=!0),a}},3595:e=>{"use strict";e.exports=function(e,t,r){var i,n,o,s,a=-1,c=e.posMax,l=e.pos;for(e.pos=t+1,i=1;e.pos<c;){if(93===(o=e.src.charCodeAt(e.pos))&&0==--i){n=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)i++;else if(r)return e.pos=l,-1}return n&&(a=e.pos),e.pos=l,a}},8040:(e,t,r)=>{"use strict";var i=r(7022).unescapeAll;e.exports=function(e,t,r){var n,o,s=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=r)return c;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return c;for(t++,40===o&&(o=41);t<r;){if((n=e.charCodeAt(t))===o)return c.pos=t+1,c.lines=s,c.str=i(e.slice(a+1,t)),c.ok=!0,c;if(40===n&&41===o)return c;10===n?s++:92===n&&t+1<r&&(t++,10===e.charCodeAt(t)&&s++),t++}return c}},7024:(e,t,r)=>{"use strict";var i=r(7022),n=r(1685),o=r(7529),s=r(7346),a=r(2471),c=r(4485),l=r(8337),d=r(8765),u=r(3689),h={default:r(4218),zero:r(873),commonmark:r(6895)},p=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function f(e){var t=e.trim().toLowerCase();return!p.test(t)||!!m.test(t)}var g=["http:","https:","mailto:"];function b(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=u.toASCII(t.hostname)}catch(e){}return d.encode(d.format(t))}function v(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=u.toUnicode(t.hostname)}catch(e){}return d.decode(d.format(t),d.decode.defaultChars+"%")}function y(e,t){if(!(this instanceof y))return new y(e,t);t||i.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new s,this.renderer=new o,this.linkify=new l,this.validateLink=f,this.normalizeLink=b,this.normalizeLinkText=v,this.utils=i,this.helpers=i.assign({},n),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return i.assign(this.options,e),this},y.prototype.configure=function(e){var t,r=this;if(i.isString(e)&&!(e=h[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.enable(e,!0))}),this),r=r.concat(this.inline.ruler2.enable(e,!0));var i=e.filter((function(e){return r.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},y.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.disable(e,!0))}),this),r=r.concat(this.inline.ruler2.disable(e,!0));var i=e.filter((function(e){return r.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},2471:(e,t,r)=>{"use strict";var i=r(9580),n=[["table",r(1785),["paragraph","reference"]],["code",r(8768)],["fence",r(3542),["paragraph","reference","blockquote","list"]],["blockquote",r(5258),["paragraph","reference","blockquote","list"]],["hr",r(5634),["paragraph","reference","blockquote","list"]],["list",r(8532),["paragraph","reference","blockquote"]],["reference",r(3804)],["html_block",r(6329),["paragraph","reference","blockquote"]],["heading",r(1630),["paragraph","reference","blockquote"]],["lheading",r(6850)],["paragraph",r(6864)]];function o(){this.ruler=new i;for(var e=0;e<n.length;e++)this.ruler.push(n[e][0],n[e][1],{alt:(n[e][2]||[]).slice()})}o.prototype.tokenize=function(e,t,r){for(var i,n=this.ruler.getRules(""),o=n.length,s=t,a=!1,c=e.md.options.maxNesting;s<r&&(e.line=s=e.skipEmptyLines(s),!(s>=r))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=c){e.line=r;break}for(i=0;i<o&&!n[i](e,s,r,!1);i++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<r&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},o.prototype.parse=function(e,t,r,i){var n;e&&(n=new this.State(e,t,r,i),this.tokenize(n,n.line,n.lineMax))},o.prototype.State=r(2948),e.exports=o},7346:(e,t,r)=>{"use strict";var i=r(9580),n=[["normalize",r(4129)],["block",r(898)],["inline",r(9827)],["linkify",r(7830)],["replacements",r(2834)],["smartquotes",r(8450)],["text_join",r(6633)]];function o(){this.ruler=new i;for(var e=0;e<n.length;e++)this.ruler.push(n[e][0],n[e][1])}o.prototype.process=function(e){var t,r,i;for(t=0,r=(i=this.ruler.getRules("")).length;t<r;t++)i[t](e)},o.prototype.State=r(6480),e.exports=o},4485:(e,t,r)=>{"use strict";var i=r(9580),n=[["text",r(9941)],["linkify",r(2906)],["newline",r(3905)],["escape",r(1917)],["backticks",r(9755)],["strikethrough",r(4814).w],["emphasis",r(7894).w],["link",r(1727)],["image",r(3006)],["autolink",r(3420)],["html_inline",r(1779)],["entity",r(9391)]],o=[["balance_pairs",r(9354)],["strikethrough",r(4814).g],["emphasis",r(7894).g],["fragments_join",r(9969)]];function s(){var e;for(this.ruler=new i,e=0;e<n.length;e++)this.ruler.push(n[e][0],n[e][1]);for(this.ruler2=new i,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}s.prototype.skipToken=function(e){var t,r,i=e.pos,n=this.ruler.getRules(""),o=n.length,s=e.md.options.maxNesting,a=e.cache;if(void 0===a[i]){if(e.level<s)for(r=0;r<o&&(e.level++,t=n[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[i]=e.pos}else e.pos=a[i]},s.prototype.tokenize=function(e){for(var t,r,i=this.ruler.getRules(""),n=i.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<n&&!(t=i[r](e,!1));r++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,r,i){var n,o,s,a=new this.State(e,t,r,i);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,n=0;n<s;n++)o[n](a)},s.prototype.State=r(670),e.exports=s},6895:e=>{"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},4218:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},873:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},7529:(e,t,r)=>{"use strict";var i=r(7022).assign,n=r(7022).unescapeAll,o=r(7022).escapeHtml,s={};function a(){this.rules=i({},s)}s.code_inline=function(e,t,r,i,n){var s=e[t];return"<code"+n.renderAttrs(s)+">"+o(e[t].content)+"</code>"},s.code_block=function(e,t,r,i,n){var s=e[t];return"<pre"+n.renderAttrs(s)+"><code>"+o(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,r,i,s){var a,c,l,d,u,h=e[t],p=h.info?n(h.info).trim():"",m="",f="";return p&&(m=(l=p.split(/(\s+)/g))[0],f=l.slice(2).join("")),0===(a=r.highlight&&r.highlight(h.content,m,f)||o(h.content)).indexOf("<pre")?a+"\n":p?(c=h.attrIndex("class"),d=h.attrs?h.attrs.slice():[],c<0?d.push(["class",r.langPrefix+m]):(d[c]=d[c].slice(),d[c][1]+=" "+r.langPrefix+m),u={attrs:d},"<pre><code"+s.renderAttrs(u)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(h)+">"+a+"</code></pre>\n"},s.image=function(e,t,r,i,n){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=n.renderInlineAsText(o.children,r,i),n.renderToken(e,t,r)},s.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return o(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,r,i;if(!e.attrs)return"";for(i="",t=0,r=e.attrs.length;t<r;t++)i+=" "+o(e.attrs[t][0])+'="'+o(e.attrs[t][1])+'"';return i},a.prototype.renderToken=function(e,t,r){var i,n="",o=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(n+="\n"),n+=(-1===s.nesting?"</":"<")+s.tag,n+=this.renderAttrs(s),0===s.nesting&&r.xhtmlOut&&(n+=" /"),s.block&&(o=!0,1===s.nesting&&t+1<e.length&&("inline"===(i=e[t+1]).type||i.hidden||-1===i.nesting&&i.tag===s.tag)&&(o=!1)),n+=o?">\n":">")},a.prototype.renderInline=function(e,t,r){for(var i,n="",o=this.rules,s=0,a=e.length;s<a;s++)void 0!==o[i=e[s].type]?n+=o[i](e,s,t,r,this):n+=this.renderToken(e,s,t);return n},a.prototype.renderInlineAsText=function(e,t,r){for(var i="",n=0,o=e.length;n<o;n++)"text"===e[n].type?i+=e[n].content:"image"===e[n].type?i+=this.renderInlineAsText(e[n].children,t,r):"softbreak"===e[n].type&&(i+="\n");return i},a.prototype.render=function(e,t,r){var i,n,o,s="",a=this.rules;for(i=0,n=e.length;i<n;i++)"inline"===(o=e[i].type)?s+=this.renderInline(e[i].children,t,r):void 0!==a[o]?s+=a[e[i].type](e,i,t,r,this):s+=this.renderToken(e,i,t,r);return s},e.exports=a},9580:e=>{"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))}))}))},t.prototype.at=function(e,t,r){var i=this.__find__(e),n=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=n.alt||[],this.__cache__=null},t.prototype.before=function(e,t,r,i){var n=this.__find__(e),o=i||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,r,i){var n=this.__find__(e),o=i||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,r){var i=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!0,r.push(e)}),this),this.__cache__=null,r},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!1,r.push(e)}),this),this.__cache__=null,r},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},5258:(e,t,r)=>{"use strict";var i=r(7022).isSpace;e.exports=function(e,t,r,n){var o,s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C,E=e.lineMax,_=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(_++))return!1;if(n)return!0;for(c=p=e.sCount[t]+1,32===e.src.charCodeAt(_)?(_++,c++,p++,o=!1,w=!0):9===e.src.charCodeAt(_)?(w=!0,(e.bsCount[t]+p)%4==3?(_++,c++,p++,o=!1):o=!0):w=!1,m=[e.bMarks[t]],e.bMarks[t]=_;_<T&&(s=e.src.charCodeAt(_),i(s));)9===s?p+=4-(p+e.bsCount[t]+(o?1:0))%4:p++,_++;for(f=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(w?1:0),d=_>=T,v=[e.sCount[t]],e.sCount[t]=p-c,y=[e.tShift[t]],e.tShift[t]=_-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",h=t+1;h<r&&(C=e.sCount[h]<e.blkIndent,!((_=e.bMarks[h]+e.tShift[h])>=(T=e.eMarks[h])));h++)if(62!==e.src.charCodeAt(_++)||C){if(d)break;for(S=!1,a=0,l=x.length;a<l;a++)if(x[a](e,h,r,!0)){S=!0;break}if(S){e.lineMax=h,0!==e.blkIndent&&(m.push(e.bMarks[h]),f.push(e.bsCount[h]),y.push(e.tShift[h]),v.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}m.push(e.bMarks[h]),f.push(e.bsCount[h]),y.push(e.tShift[h]),v.push(e.sCount[h]),e.sCount[h]=-1}else{for(c=p=e.sCount[h]+1,32===e.src.charCodeAt(_)?(_++,c++,p++,o=!1,w=!0):9===e.src.charCodeAt(_)?(w=!0,(e.bsCount[h]+p)%4==3?(_++,c++,p++,o=!1):o=!0):w=!1,m.push(e.bMarks[h]),e.bMarks[h]=_;_<T&&(s=e.src.charCodeAt(_),i(s));)9===s?p+=4-(p+e.bsCount[h]+(o?1:0))%4:p++,_++;d=_>=T,f.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(w?1:0),v.push(e.sCount[h]),e.sCount[h]=p-c,y.push(e.tShift[h]),e.tShift[h]=_-e.bMarks[h]}for(g=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=u=[t,0],e.md.block.tokenize(e,t,h),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=E,e.parentType=b,u[1]=e.line,a=0;a<y.length;a++)e.bMarks[a+t]=m[a],e.tShift[a+t]=y[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=f[a];return e.blkIndent=g,!0}},8768:e=>{"use strict";e.exports=function(e,t,r){var i,n,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(n=i=t+1;i<r;)if(e.isEmpty(i))i++;else{if(!(e.sCount[i]-e.blkIndent>=4))break;n=++i}return e.line=n,(o=e.push("code_block","code",0)).content=e.getLines(t,n,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}},3542:e=>{"use strict";e.exports=function(e,t,r,i){var n,o,s,a,c,l,d,u=!1,h=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(h+3>p)return!1;if(126!==(n=e.src.charCodeAt(h))&&96!==n)return!1;if(c=h,(o=(h=e.skipChars(h,n))-c)<3)return!1;if(d=e.src.slice(c,h),s=e.src.slice(h,p),96===n&&s.indexOf(String.fromCharCode(n))>=0)return!1;if(i)return!0;for(a=t;!(++a>=r||(h=c=e.bMarks[a]+e.tShift[a])<(p=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(h)===n&&!(e.sCount[a]-e.blkIndent>=4||(h=e.skipChars(h,n))-c<o||(h=e.skipSpaces(h))<p)){u=!0;break}return o=e.sCount[t],e.line=a+(u?1:0),(l=e.push("fence","code",0)).info=s,l.content=e.getLines(t+1,a,o,!0),l.markup=d,l.map=[t,e.line],!0}},1630:(e,t,r)=>{"use strict";var i=r(7022).isSpace;e.exports=function(e,t,r,n){var o,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(o=e.src.charCodeAt(l))||l>=d)return!1;for(s=1,o=e.src.charCodeAt(++l);35===o&&l<d&&s<=6;)s++,o=e.src.charCodeAt(++l);return!(s>6||l<d&&!i(o)||(n||(d=e.skipSpacesBack(d,l),(a=e.skipCharsBack(d,35,l))>l&&i(e.src.charCodeAt(a-1))&&(d=a),e.line=t+1,(c=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(l,d).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),0))}},5634:(e,t,r)=>{"use strict";var i=r(7022).isSpace;e.exports=function(e,t,r,n){var o,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(o=e.src.charCodeAt(l++))&&45!==o&&95!==o)return!1;for(s=1;l<d;){if((a=e.src.charCodeAt(l++))!==o&&!i(a))return!1;a===o&&s++}return!(s<3||(n||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(s+1).join(String.fromCharCode(o))),0))}},6329:(e,t,r)=>{"use strict";var i=r(813),n=r(1947).q,o=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+i.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(n.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,r,i){var n,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,d),n=0;n<o.length&&!o[n][0].test(c);n++);if(n===o.length)return!1;if(i)return o[n][2];if(s=t+1,!o[n][1].test(c))for(;s<r&&!(e.sCount[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],d=e.eMarks[s],c=e.src.slice(l,d),o[n][1].test(c)){0!==c.length&&s++;break}return e.line=s,(a=e.push("html_block","",0)).map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},6850:e=>{"use strict";e.exports=function(e,t,r){var i,n,o,s,a,c,l,d,u,h,p=t+1,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<r&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(c=e.bMarks[p]+e.tShift[p])<(l=e.eMarks[p])&&(45===(u=e.src.charCodeAt(c))||61===u)&&(c=e.skipChars(c,u),(c=e.skipSpaces(c))>=l)){d=61===u?1:2;break}if(!(e.sCount[p]<0)){for(n=!1,o=0,s=m.length;o<s;o++)if(m[o](e,p,r,!0)){n=!0;break}if(n)break}}return!!d&&(i=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(a=e.push("heading_open","h"+String(d),1)).markup=String.fromCharCode(u),a.map=[t,e.line],(a=e.push("inline","",0)).content=i,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(d),-1)).markup=String.fromCharCode(u),e.parentType=h,!0)}},8532:(e,t,r)=>{"use strict";var i=r(7022).isSpace;function n(e,t){var r,n,o,s;return n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(r=e.src.charCodeAt(n++))&&45!==r&&43!==r||n<o&&(s=e.src.charCodeAt(n),!i(s))?-1:n}function o(e,t){var r,n=e.bMarks[t]+e.tShift[t],o=n,s=e.eMarks[t];if(o+1>=s)return-1;if((r=e.src.charCodeAt(o++))<48||r>57)return-1;for(;;){if(o>=s)return-1;if(!((r=e.src.charCodeAt(o++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(o-n>=10)return-1}return o<s&&(r=e.src.charCodeAt(o),!i(r))?-1:o}e.exports=function(e,t,r,i){var s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C,E,_,T,I,M,A,O,P,D,R=!1,L=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(i&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(R=!0),(I=o(e,t))>=0){if(h=!0,A=e.bMarks[t]+e.tShift[t],v=Number(e.src.slice(A,I-1)),R&&1!==v)return!1}else{if(!((I=n(e,t))>=0))return!1;h=!1}if(R&&e.skipSpaces(I)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(I-1),i)return!0;for(g=e.tokens.length,h?(D=e.push("ordered_list_open","ol",1),1!==v&&(D.attrs=[["start",v]])):D=e.push("bullet_list_open","ul",1),D.map=f=[t,0],D.markup=String.fromCharCode(b),w=t,M=!1,P=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";w<r;){for(T=I,y=e.eMarks[w],u=S=e.sCount[w]+I-(e.bMarks[t]+e.tShift[t]);T<y;){if(9===(s=e.src.charCodeAt(T)))S+=4-(S+e.bsCount[w])%4;else{if(32!==s)break;S++}T++}if((d=(a=T)>=y?1:S-u)>4&&(d=1),l=u+d,(D=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),D.map=p=[t,0],h&&(D.info=e.src.slice(A,I-1)),_=e.tight,E=e.tShift[t],C=e.sCount[t],x=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=S,a>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!M||(L=!1),M=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=x,e.tShift[t]=E,e.sCount[t]=C,e.tight=_,(D=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),w=t=e.line,p[1]=w,a=e.bMarks[t],w>=r)break;if(e.sCount[w]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(O=!1,c=0,m=P.length;c<m;c++)if(P[c](e,w,r,!0)){O=!0;break}if(O)break;if(h){if((I=o(e,w))<0)break;A=e.bMarks[w]+e.tShift[w]}else if((I=n(e,w))<0)break;if(b!==e.src.charCodeAt(I-1))break}return(D=h?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),f[1]=w,e.line=w,e.parentType=k,L&&function(e,t){var r,i,n=e.level+2;for(r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,g),!0}},6864:e=>{"use strict";e.exports=function(e,t){var r,i,n,o,s,a,c=t+1,l=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<d&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(i=!1,n=0,o=l.length;n<o;n++)if(l[n](e,c,d,!0)){i=!0;break}if(i)break}return r=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},3804:(e,t,r)=>{"use strict";var i=r(7022).normalizeReference,n=r(7022).isSpace;e.exports=function(e,t,r,o){var s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x=0,k=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],E=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<C;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===C)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(l=e.lineMax,w=e.md.block.ruler.getRules("reference"),f=e.parentType,e.parentType="reference";E<l&&!e.isEmpty(E);E++)if(!(e.sCount[E]-e.blkIndent>3||e.sCount[E]<0)){for(y=!1,u=0,h=w.length;u<h;u++)if(w[u](e,E,l,!0)){y=!0;break}if(y)break}for(C=(v=e.getLines(t,E,e.blkIndent,!1).trim()).length,k=1;k<C;k++){if(91===(s=v.charCodeAt(k)))return!1;if(93===s){m=k;break}(10===s||92===s&&++k<C&&10===v.charCodeAt(k))&&x++}if(m<0||58!==v.charCodeAt(m+1))return!1;for(k=m+2;k<C;k++)if(10===(s=v.charCodeAt(k)))x++;else if(!n(s))break;if(!(g=e.md.helpers.parseLinkDestination(v,k,C)).ok)return!1;if(d=e.md.normalizeLink(g.str),!e.md.validateLink(d))return!1;for(a=k=g.pos,c=x+=g.lines,b=k;k<C;k++)if(10===(s=v.charCodeAt(k)))x++;else if(!n(s))break;for(g=e.md.helpers.parseLinkTitle(v,k,C),k<C&&b!==k&&g.ok?(S=g.str,k=g.pos,x+=g.lines):(S="",k=a,x=c);k<C&&(s=v.charCodeAt(k),n(s));)k++;if(k<C&&10!==v.charCodeAt(k)&&S)for(S="",k=a,x=c;k<C&&(s=v.charCodeAt(k),n(s));)k++;return!(k<C&&10!==v.charCodeAt(k)||!(p=i(v.slice(1,m)))||(o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:S,href:d}),e.parentType=f,e.line=t+x+1),0))}},2948:(e,t,r)=>{"use strict";var i=r(5872),n=r(7022).isSpace;function o(e,t,r,i){var o,s,a,c,l,d,u,h;for(this.src=e,this.md=t,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",h=!1,a=c=d=u=0,l=(s=this.src).length;c<l;c++){if(o=s.charCodeAt(c),!h){if(n(o)){d++,9===o?u+=4-u%4:u++;continue}h=!0}10!==o&&c!==l-1||(10!==o&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(d),this.sCount.push(u),this.bsCount.push(0),h=!1,d=0,u=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(e,t,r){var n=new i(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n},o.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},o.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},o.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),n(t));e++);return e},o.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!n(this.src.charCodeAt(--e)))return e+1;return e},o.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},o.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},o.prototype.getLines=function(e,t,r,i){var o,s,a,c,l,d,u,h=e;if(e>=t)return"";for(d=new Array(t-e),o=0;h<t;h++,o++){for(s=0,u=c=this.bMarks[h],l=h+1<t||i?this.eMarks[h]+1:this.eMarks[h];c<l&&s<r;){if(a=this.src.charCodeAt(c),n(a))9===a?s+=4-(s+this.bsCount[h])%4:s++;else{if(!(c-u<this.tShift[h]))break;s++}c++}d[o]=s>r?new Array(s-r+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return d.join("")},o.prototype.Token=i,e.exports=o},1785:(e,t,r)=>{"use strict";var i=r(7022).isSpace;function n(e,t){var r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(r,i)}function o(e){var t,r=[],i=0,n=e.length,o=!1,s=0,a="";for(t=e.charCodeAt(i);i<n;)124===t&&(o?(a+=e.substring(s,i-1),s=i):(r.push(a+e.substring(s,i)),a="",s=i+1)),o=92===t,i++,t=e.charCodeAt(i);return r.push(a+e.substring(s)),r}e.exports=function(e,t,r,s){var a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C;if(t+2>r)return!1;if(h=t+1,e.sCount[h]<e.blkIndent)return!1;if(e.sCount[h]-e.blkIndent>=4)return!1;if((l=e.bMarks[h]+e.tShift[h])>=e.eMarks[h])return!1;if(124!==(k=e.src.charCodeAt(l++))&&45!==k&&58!==k)return!1;if(l>=e.eMarks[h])return!1;if(124!==(C=e.src.charCodeAt(l++))&&45!==C&&58!==C&&!i(C))return!1;if(45===k&&i(C))return!1;for(;l<e.eMarks[h];){if(124!==(a=e.src.charCodeAt(l))&&45!==a&&58!==a&&!i(a))return!1;l++}for(p=(c=n(e,t+1)).split("|"),g=[],d=0;d<p.length;d++){if(!(b=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?g.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(c=n(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=o(c)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),0===(m=p.length)||m!==g.length)return!1;if(s)return!0;for(w=e.parentType,e.parentType="table",x=e.md.block.ruler.getRules("blockquote"),(f=e.push("table_open","table",1)).map=v=[t,0],(f=e.push("thead_open","thead",1)).map=[t,t+1],(f=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)f=e.push("th_open","th",1),g[d]&&(f.attrs=[["style","text-align:"+g[d]]]),(f=e.push("inline","",0)).content=p[d].trim(),f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),h=t+2;h<r&&!(e.sCount[h]<e.blkIndent);h++){for(S=!1,d=0,u=x.length;d<u;d++)if(x[d](e,h,r,!0)){S=!0;break}if(S)break;if(!(c=n(e,h).trim()))break;if(e.sCount[h]-e.blkIndent>=4)break;for((p=o(c)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),h===t+2&&((f=e.push("tbody_open","tbody",1)).map=y=[t+2,0]),(f=e.push("tr_open","tr",1)).map=[h,h+1],d=0;d<m;d++)f=e.push("td_open","td",1),g[d]&&(f.attrs=[["style","text-align:"+g[d]]]),(f=e.push("inline","",0)).content=p[d]?p[d].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return y&&(f=e.push("tbody_close","tbody",-1),y[1]=h),f=e.push("table_close","table",-1),v[1]=h,e.parentType=w,e.line=h,!0}},898:e=>{"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},9827:e=>{"use strict";e.exports=function(e){var t,r,i,n=e.tokens;for(r=0,i=n.length;r<i;r++)"inline"===(t=n[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},7830:(e,t,r)=>{"use strict";var i=r(7022).arrayReplaceAt;function n(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,r,o,s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S=e.tokens;if(e.md.options.linkify)for(r=0,o=S.length;r<o;r++)if("inline"===S[r].type&&e.md.linkify.pretest(S[r].content))for(f=0,t=(s=S[r].children).length-1;t>=0;t--)if("link_close"!==(c=s[t]).type){if("html_inline"===c.type&&(w=c.content,/^<a[>\s]/i.test(w)&&f>0&&f--,n(c.content)&&f++),!(f>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(u=c.content,y=e.md.linkify.match(u),l=[],m=c.level,p=0,y.length>0&&0===y[0].index&&t>0&&"text_special"===s[t-1].type&&(y=y.slice(1)),d=0;d<y.length;d++)g=y[d].url,b=e.md.normalizeLink(g),e.md.validateLink(b)&&(v=y[d].text,v=y[d].schema?"mailto:"!==y[d].schema||/^mailto:/i.test(v)?e.md.normalizeLinkText(v):e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(h=y[d].index)>p&&((a=new e.Token("text","",0)).content=u.slice(p,h),a.level=m,l.push(a)),(a=new e.Token("link_open","a",1)).attrs=[["href",b]],a.level=m++,a.markup="linkify",a.info="auto",l.push(a),(a=new e.Token("text","",0)).content=v,a.level=m,l.push(a),(a=new e.Token("link_close","a",-1)).level=--m,a.markup="linkify",a.info="auto",l.push(a),p=y[d].lastIndex);p<u.length&&((a=new e.Token("text","",0)).content=u.slice(p),a.level=m,l.push(a)),S[r].children=s=i(s,t,l)}}else for(t--;s[t].level!==c.level&&"link_open"!==s[t].type;)t--}},4129:e=>{"use strict";var t=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var i;i=(i=e.src.replace(t,"\n")).replace(r,""),e.src=i}},2834:e=>{"use strict";var t=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r)\)/i,i=/\((c|tm|r)\)/gi,n={c:"",r:"",tm:""};function o(e,t){return n[t.toLowerCase()]}function s(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||(r.content=r.content.replace(i,o)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}function a(e){var r,i,n=0;for(r=e.length-1;r>=0;r--)"text"!==(i=e[r]).type||n||t.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===i.type&&"auto"===i.info&&n--,"link_close"===i.type&&"auto"===i.info&&n++}e.exports=function(e){var i;if(e.md.options.typographer)for(i=e.tokens.length-1;i>=0;i--)"inline"===e.tokens[i].type&&(r.test(e.tokens[i].content)&&s(e.tokens[i].children),t.test(e.tokens[i].content)&&a(e.tokens[i].children))}},8450:(e,t,r)=>{"use strict";var i=r(7022).isWhiteSpace,n=r(7022).isPunctChar,o=r(7022).isMdAsciiPunct,s=/['"]/,a=/['"]/g;function c(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function l(e,t){var r,s,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C,E,_,T;for(E=[],r=0;r<e.length;r++){for(s=e[r],p=e[r].level,k=E.length-1;k>=0&&!(E[k].level<=p);k--);if(E.length=k+1,"text"===s.type){u=0,h=(l=s.content).length;e:for(;u<h&&(a.lastIndex=u,d=a.exec(l));){if(S=x=!0,u=d.index+1,C="'"===d[0],f=32,d.index-1>=0)f=l.charCodeAt(d.index-1);else for(k=r-1;k>=0&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k--)if(e[k].content){f=e[k].content.charCodeAt(e[k].content.length-1);break}if(g=32,u<h)g=l.charCodeAt(u);else for(k=r+1;k<e.length&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k++)if(e[k].content){g=e[k].content.charCodeAt(0);break}if(b=o(f)||n(String.fromCharCode(f)),v=o(g)||n(String.fromCharCode(g)),y=i(f),(w=i(g))?S=!1:v&&(y||b||(S=!1)),y?x=!1:b&&(w||v||(x=!1)),34===g&&'"'===d[0]&&f>=48&&f<=57&&(x=S=!1),S&&x&&(S=b,x=v),S||x){if(x)for(k=E.length-1;k>=0&&(m=E[k],!(E[k].level<p));k--)if(m.single===C&&E[k].level===p){m=E[k],C?(_=t.md.options.quotes[2],T=t.md.options.quotes[3]):(_=t.md.options.quotes[0],T=t.md.options.quotes[1]),s.content=c(s.content,d.index,T),e[m.token].content=c(e[m.token].content,m.pos,_),u+=T.length-1,m.token===r&&(u+=_.length-1),h=(l=s.content).length,E.length=k;continue e}S?E.push({token:r,pos:d.index,single:C,level:p}):x&&C&&(s.content=c(s.content,d.index,""))}else C&&(s.content=c(s.content,d.index,""))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},6480:(e,t,r)=>{"use strict";var i=r(5872);function n(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}n.prototype.Token=i,e.exports=n},6633:e=>{"use strict";e.exports=function(e){var t,r,i,n,o,s,a=e.tokens;for(t=0,r=a.length;t<r;t++)if("inline"===a[t].type){for(o=(i=a[t].children).length,n=0;n<o;n++)"text_special"===i[n].type&&(i[n].type="text");for(n=s=0;n<o;n++)"text"===i[n].type&&n+1<o&&"text"===i[n+1].type?i[n+1].content=i[n].content+i[n+1].content:(n!==s&&(i[s]=i[n]),s++);n!==s&&(i.length=s)}}},3420:e=>{"use strict";var t=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,r=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,i){var n,o,s,a,c,l,d=e.pos;if(60!==e.src.charCodeAt(d))return!1;for(c=e.pos,l=e.posMax;;){if(++d>=l)return!1;if(60===(a=e.src.charCodeAt(d)))return!1;if(62===a)break}return n=e.src.slice(c+1,d),r.test(n)?(o=e.md.normalizeLink(n),!!e.md.validateLink(o)&&(i||((s=e.push("link_open","a",1)).attrs=[["href",o]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(n),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=n.length+2,!0)):!!t.test(n)&&(o=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(o)&&(i||((s=e.push("link_open","a",1)).attrs=[["href",o]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(n),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=n.length+2,!0))}},9755:e=>{"use strict";e.exports=function(e,t){var r,i,n,o,s,a,c,l,d=e.pos;if(96!==e.src.charCodeAt(d))return!1;for(r=d,d++,i=e.posMax;d<i&&96===e.src.charCodeAt(d);)d++;if(c=(n=e.src.slice(r,d)).length,e.backticksScanned&&(e.backticks[c]||0)<=r)return t||(e.pending+=n),e.pos+=c,!0;for(s=a=d;-1!==(s=e.src.indexOf("`",a));){for(a=s+1;a<i&&96===e.src.charCodeAt(a);)a++;if((l=a-s)===c)return t||((o=e.push("code_inline","code",0)).markup=n,o.content=e.src.slice(d,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0;e.backticks[l]=s}return e.backticksScanned=!0,t||(e.pending+=n),e.pos+=c,!0}},9354:e=>{"use strict";function t(e,t){var r,i,n,o,s,a,c,l,d={},u=t.length;if(u){var h=0,p=-2,m=[];for(r=0;r<u;r++)if(n=t[r],m.push(0),t[h].marker===n.marker&&p===n.token-1||(h=r),p=n.token,n.length=n.length||0,n.close){for(d.hasOwnProperty(n.marker)||(d[n.marker]=[-1,-1,-1,-1,-1,-1]),s=d[n.marker][(n.open?3:0)+n.length%3],a=i=h-m[h]-1;i>s;i-=m[i]+1)if((o=t[i]).marker===n.marker&&o.open&&o.end<0&&(c=!1,(o.close||n.open)&&(o.length+n.length)%3==0&&(o.length%3==0&&n.length%3==0||(c=!0)),!c)){l=i>0&&!t[i-1].open?m[i-1]+1:0,m[r]=r-i+l,m[i]=l,n.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}-1!==a&&(d[n.marker][(n.open?3:0)+(n.length||0)%3]=a)}}}e.exports=function(e){var r,i=e.tokens_meta,n=e.tokens_meta.length;for(t(0,e.delimiters),r=0;r<n;r++)i[r]&&i[r].delimiters&&t(0,i[r].delimiters)}},7894:e=>{"use strict";function t(e,t){var r,i,n,o,s,a;for(r=t.length-1;r>=0;r--)95!==(i=t[r]).marker&&42!==i.marker||-1!==i.end&&(n=t[i.end],a=r>0&&t[r-1].end===i.end+1&&t[r-1].marker===i.marker&&t[r-1].token===i.token-1&&t[i.end+1].token===n.token+1,s=String.fromCharCode(i.marker),(o=e.tokens[i.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",(o=e.tokens[n.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[i.end+1].token].content="",r--))}e.exports.w=function(e,t){var r,i,n=e.pos,o=e.src.charCodeAt(n);if(t)return!1;if(95!==o&&42!==o)return!1;for(i=e.scanDelims(e.pos,42===o),r=0;r<i.length;r++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.g=function(e){var r,i=e.tokens_meta,n=e.tokens_meta.length;for(t(e,e.delimiters),r=0;r<n;r++)i[r]&&i[r].delimiters&&t(e,i[r].delimiters)}},9391:(e,t,r)=>{"use strict";var i=r(6233),n=r(7022).has,o=r(7022).isValidEntityCode,s=r(7022).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var r,l,d,u=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(u))return!1;if(u+1>=h)return!1;if(35===e.src.charCodeAt(u+1)){if(l=e.src.slice(u).match(a))return t||(r="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),(d=e.push("text_special","",0)).content=o(r)?s(r):s(65533),d.markup=l[0],d.info="entity"),e.pos+=l[0].length,!0}else if((l=e.src.slice(u).match(c))&&n(i,l[1]))return t||((d=e.push("text_special","",0)).content=i[l[1]],d.markup=l[0],d.info="entity"),e.pos+=l[0].length,!0;return!1}},1917:(e,t,r)=>{"use strict";for(var i=r(7022).isSpace,n=[],o=0;o<256;o++)n.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){n[e.charCodeAt(0)]=1})),e.exports=function(e,t){var r,o,s,a,c,l=e.pos,d=e.posMax;if(92!==e.src.charCodeAt(l))return!1;if(++l>=d)return!1;if(10===(r=e.src.charCodeAt(l))){for(t||e.push("hardbreak","br",0),l++;l<d&&(r=e.src.charCodeAt(l),i(r));)l++;return e.pos=l,!0}return a=e.src[l],r>=55296&&r<=56319&&l+1<d&&(o=e.src.charCodeAt(l+1))>=56320&&o<=57343&&(a+=e.src[l+1],l++),s="\\"+a,t||(c=e.push("text_special","",0),r<256&&0!==n[r]?c.content=a:c.content=s,c.markup=s,c.info="escape"),e.pos=l+1,!0}},9969:e=>{"use strict";e.exports=function(e){var t,r,i=0,n=e.tokens,o=e.tokens.length;for(t=r=0;t<o;t++)n[t].nesting<0&&i--,n[t].level=i,n[t].nesting>0&&i++,"text"===n[t].type&&t+1<o&&"text"===n[t+1].type?n[t+1].content=n[t].content+n[t+1].content:(t!==r&&(n[r]=n[t]),r++);t!==r&&(n.length=r)}},1779:(e,t,r)=>{"use strict";var i=r(1947).n;e.exports=function(e,t){var r,n,o,s,a,c=e.pos;return!(!e.md.options.html||(o=e.posMax,60!==e.src.charCodeAt(c)||c+2>=o||33!==(r=e.src.charCodeAt(c+1))&&63!==r&&47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r)||!(n=e.src.slice(c).match(i))||(t||((s=e.push("html_inline","",0)).content=e.src.slice(c,c+n[0].length),a=s.content,/^<a[>\s]/i.test(a)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(s.content)&&e.linkLevel--),e.pos+=n[0].length,0)))}},3006:(e,t,r)=>{"use strict";var i=r(7022).normalizeReference,n=r(7022).isSpace;e.exports=function(e,t){var r,o,s,a,c,l,d,u,h,p,m,f,g,b="",v=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((d=c+1)<y&&40===e.src.charCodeAt(d)){for(d++;d<y&&(o=e.src.charCodeAt(d),n(o)||10===o);d++);if(d>=y)return!1;for(g=d,(h=e.md.helpers.parseLinkDestination(e.src,d,e.posMax)).ok&&(b=e.md.normalizeLink(h.str),e.md.validateLink(b)?d=h.pos:b=""),g=d;d<y&&(o=e.src.charCodeAt(d),n(o)||10===o);d++);if(h=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<y&&g!==d&&h.ok)for(p=h.str,d=h.pos;d<y&&(o=e.src.charCodeAt(d),n(o)||10===o);d++);else p="";if(d>=y||41!==e.src.charCodeAt(d))return e.pos=v,!1;d++}else{if(void 0===e.env.references)return!1;if(d<y&&91===e.src.charCodeAt(d)?(g=d+1,(d=e.md.helpers.parseLinkLabel(e,d))>=0?a=e.src.slice(g,d++):d=c+1):d=c+1,a||(a=e.src.slice(l,c)),!(u=e.env.references[i(a)]))return e.pos=v,!1;b=u.href,p=u.title}return t||(s=e.src.slice(l,c),e.md.inline.parse(s,e.md,e.env,f=[]),(m=e.push("image","img",0)).attrs=r=[["src",b],["alt",""]],m.children=f,m.content=s,p&&r.push(["title",p])),e.pos=d,e.posMax=y,!0}},1727:(e,t,r)=>{"use strict";var i=r(7022).normalizeReference,n=r(7022).isSpace;e.exports=function(e,t){var r,o,s,a,c,l,d,u,h="",p="",m=e.pos,f=e.posMax,g=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((l=a+1)<f&&40===e.src.charCodeAt(l)){for(b=!1,l++;l<f&&(o=e.src.charCodeAt(l),n(o)||10===o);l++);if(l>=f)return!1;if(g=l,(d=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok){for(h=e.md.normalizeLink(d.str),e.md.validateLink(h)?l=d.pos:h="",g=l;l<f&&(o=e.src.charCodeAt(l),n(o)||10===o);l++);if(d=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<f&&g!==l&&d.ok)for(p=d.str,l=d.pos;l<f&&(o=e.src.charCodeAt(l),n(o)||10===o);l++);}(l>=f||41!==e.src.charCodeAt(l))&&(b=!0),l++}if(b){if(void 0===e.env.references)return!1;if(l<f&&91===e.src.charCodeAt(l)?(g=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?s=e.src.slice(g,l++):l=a+1):l=a+1,s||(s=e.src.slice(c,a)),!(u=e.env.references[i(s)]))return e.pos=m,!1;h=u.href,p=u.title}return t||(e.pos=c,e.posMax=a,e.push("link_open","a",1).attrs=r=[["href",h]],p&&r.push(["title",p]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=l,e.posMax=f,!0}},2906:e=>{"use strict";var t=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,r){var i,n,o,s,a,c,l;return!(!e.md.options.linkify||e.linkLevel>0||(i=e.pos)+3>e.posMax||58!==e.src.charCodeAt(i)||47!==e.src.charCodeAt(i+1)||47!==e.src.charCodeAt(i+2)||!(n=e.pending.match(t))||(o=n[1],!(s=e.md.linkify.matchAtStart(e.src.slice(i-o.length)))||(a=(a=s.url).replace(/\*+$/,""),c=e.md.normalizeLink(a),!e.md.validateLink(c)||(r||(e.pending=e.pending.slice(0,-o.length),(l=e.push("link_open","a",1)).attrs=[["href",c]],l.markup="linkify",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(a),(l=e.push("link_close","a",-1)).markup="linkify",l.info="auto"),e.pos+=a.length-o.length,0))))}},3905:(e,t,r)=>{"use strict";var i=r(7022).isSpace;e.exports=function(e,t){var r,n,o,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;if(r=e.pending.length-1,n=e.posMax,!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){for(o=r-1;o>=1&&32===e.pending.charCodeAt(o-1);)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(s++;s<n&&i(e.src.charCodeAt(s));)s++;return e.pos=s,!0}},670:(e,t,r)=>{"use strict";var i=r(5872),n=r(7022).isWhiteSpace,o=r(7022).isPunctChar,s=r(7022).isMdAsciiPunct;function a(e,t,r,i){this.src=e,this.env=r,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}a.prototype.pushPending=function(){var e=new i("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,r){this.pending&&this.pushPending();var n=new i(e,t,r),o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(o),n},a.prototype.scanDelims=function(e,t){var r,i,a,c,l,d,u,h,p,m=e,f=!0,g=!0,b=this.posMax,v=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;m<b&&this.src.charCodeAt(m)===v;)m++;return a=m-e,i=m<b?this.src.charCodeAt(m):32,u=s(r)||o(String.fromCharCode(r)),p=s(i)||o(String.fromCharCode(i)),d=n(r),(h=n(i))?f=!1:p&&(d||u||(f=!1)),d?g=!1:u&&(h||p||(g=!1)),t?(c=f,l=g):(c=f&&(!g||u),l=g&&(!f||p)),{can_open:c,can_close:l,length:a}},a.prototype.Token=i,e.exports=a},4814:e=>{"use strict";function t(e,t){var r,i,n,o,s,a=[],c=t.length;for(r=0;r<c;r++)126===(n=t[r]).marker&&-1!==n.end&&(o=t[n.end],(s=e.tokens[n.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=e.tokens[o.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(i=(r=a.pop())+1;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;r!==--i&&(s=e.tokens[i],e.tokens[i]=e.tokens[r],e.tokens[r]=s)}}e.exports.w=function(e,t){var r,i,n,o,s=e.pos,a=e.src.charCodeAt(s);if(t)return!1;if(126!==a)return!1;if(n=(i=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(a),n<2)return!1;for(n%2&&(e.push("text","",0).content=o,n--),r=0;r<n;r+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:a,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.g=function(e){var r,i=e.tokens_meta,n=e.tokens_meta.length;for(t(e,e.delimiters),r=0;r<n;r++)i[r]&&i[r].delimiters&&t(e,i[r].delimiters)}},9941:e=>{"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,r){for(var i=e.pos;i<e.posMax&&!t(e.src.charCodeAt(i));)i++;return i!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,i)),e.pos=i,!0)}},5872:e=>{"use strict";function t(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,r,i;if(!this.attrs)return-1;for(r=0,i=(t=this.attrs).length;r<i;r++)if(t[r][0]===e)return r;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.prototype.attrSet=function(e,t){var r=this.attrIndex(e),i=[e,t];r<0?this.attrPush(i):this.attrs[r]=i},t.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},t.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},e.exports=t},3122:e=>{"use strict";var t={};function r(e,i){var n;return"string"!=typeof i&&(i=r.defaultChars),n=function(e){var r,i,n=t[e];if(n)return n;for(n=t[e]=[],r=0;r<128;r++)i=String.fromCharCode(r),n.push(i);for(r=0;r<e.length;r++)n[i=e.charCodeAt(r)]="%"+("0"+i.toString(16).toUpperCase()).slice(-2);return n}(i),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,i,o,s,a,c,l="";for(t=0,r=e.length;t<r;t+=3)(i=parseInt(e.slice(t+1,t+3),16))<128?l+=n[i]:192==(224&i)&&t+3<r&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(l+=(c=i<<6&1984|63&o)<128?"":String.fromCharCode(c),t+=3):224==(240&i)&&t+6<r&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&s))?(l+=(c=i<<12&61440|o<<6&4032|63&s)<2048||c>=55296&&c<=57343?"":String.fromCharCode(c),t+=6):240==(248&i)&&t+9<r&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((c=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||c>1114111?l+="":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):l+="";return l}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},729:e=>{"use strict";var t={};function r(e,i,n){var o,s,a,c,l,d="";for("string"!=typeof i&&(n=i,i=r.defaultChars),void 0===n&&(n=!0),l=function(e){var r,i,n=t[e];if(n)return n;for(n=t[e]=[],r=0;r<128;r++)i=String.fromCharCode(r),/^[0-9a-z]$/i.test(i)?n.push(i):n.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)n[e.charCodeAt(r)]=e[r];return n}(i),o=0,s=e.length;o<s;o++)if(a=e.charCodeAt(o),n&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))d+=e.slice(o,o+3),o+=2;else if(a<128)d+=l[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(c=e.charCodeAt(o+1))>=56320&&c<=57343){d+=encodeURIComponent(e[o]+e[o+1]),o++;continue}d+="%EF%BF%BD"}else d+=encodeURIComponent(e[o]);return d}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},2201:e=>{"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",(t+=e.search||"")+(e.hash||"")}},8765:(e,t,r)=>{"use strict";e.exports.encode=r(729),e.exports.decode=r(3122),e.exports.format=r(2201),e.exports.parse=r(9553)},9553:e=>{"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(o),a=["%","/","?",";","#"].concat(s),c=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var i,o,s,p,m,f=e;if(f=f.trim(),!t&&1===e.split("#").length){var g=n.exec(f);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var b=r.exec(f);if(b&&(s=(b=b[0]).toLowerCase(),this.protocol=b,f=f.substr(b.length)),(t||b||f.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(m="//"===f.substr(0,2))||b&&u[b]||(f=f.substr(2),this.slashes=!0)),!u[b]&&(m||b&&!h[b])){var v,y,w=-1;for(i=0;i<c.length;i++)-1!==(p=f.indexOf(c[i]))&&(-1===w||p<w)&&(w=p);for(-1!==(y=-1===w?f.lastIndexOf("@"):f.lastIndexOf("@",w))&&(v=f.slice(0,y),f=f.slice(y+1),this.auth=v),w=-1,i=0;i<a.length;i++)-1!==(p=f.indexOf(a[i]))&&(-1===w||p<w)&&(w=p);-1===w&&(w=f.length),":"===f[w-1]&&w--;var S=f.slice(0,w);f=f.slice(w),this.parseHost(S),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var k=this.hostname.split(/\./);for(i=0,o=k.length;i<o;i++){var C=k[i];if(C&&!C.match(l)){for(var E="",_=0,T=C.length;_<T;_++)C.charCodeAt(_)>127?E+="x":E+=C[_];if(!E.match(l)){var I=k.slice(0,i),M=k.slice(i+1),A=C.match(d);A&&(I.push(A[1]),M.unshift(A[2])),M.length&&(f=M.join(".")+f),this.hostname=I.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var O=f.indexOf("#");-1!==O&&(this.hash=f.substr(O),f=f.slice(0,O));var P=f.indexOf("?");return-1!==P&&(this.search=f.substr(P),f=f.slice(0,P)),f&&(this.pathname=f),h[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,r){if(e&&e instanceof t)return e;var i=new t;return i.parse(e,r),i}},3689:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>b,default:()=>S,encode:()=>v,toASCII:()=>w,toUnicode:()=>y,ucs2decode:()=>p,ucs2encode:()=>m});const i=2147483647,n=36,o=/^xn--/,s=/[^\0-\x7E]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,d=String.fromCharCode;function u(e){throw new RangeError(c[e])}function h(e,t){const r=e.split("@");let i="";r.length>1&&(i=r[0]+"@",e=r[1]);const n=function(e,t){const r=[];let i=e.length;for(;i--;)r[i]=t(e[i]);return r}((e=e.replace(a,".")).split("."),t).join(".");return i+n}function p(e){const t=[];let r=0;const i=e.length;for(;r<i;){const n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){const i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)}else t.push(n)}return t}const m=e=>String.fromCodePoint(...e),f=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,r){let i=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;i+=n)e=l(e/35);return l(i+36*e/(e+38))},b=function(e){const t=[],r=e.length;let o=0,s=128,a=72,c=e.lastIndexOf("-");c<0&&(c=0);for(let r=0;r<c;++r)e.charCodeAt(r)>=128&&u("not-basic"),t.push(e.charCodeAt(r));for(let h=c>0?c+1:0;h<r;){let c=o;for(let t=1,s=n;;s+=n){h>=r&&u("invalid-input");const c=(d=e.charCodeAt(h++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:n;(c>=n||c>l((i-o)/t))&&u("overflow"),o+=c*t;const p=s<=a?1:s>=a+26?26:s-a;if(c<p)break;const m=n-p;t>l(i/m)&&u("overflow"),t*=m}const p=t.length+1;a=g(o-c,p,0==c),l(o/p)>i-s&&u("overflow"),s+=l(o/p),o%=p,t.splice(o++,0,s)}var d;return String.fromCodePoint(...t)},v=function(e){const t=[];let r=(e=p(e)).length,o=128,s=0,a=72;for(const r of e)r<128&&t.push(d(r));let c=t.length,h=c;for(c&&t.push("-");h<r;){let r=i;for(const t of e)t>=o&&t<r&&(r=t);const p=h+1;r-o>l((i-s)/p)&&u("overflow"),s+=(r-o)*p,o=r;for(const r of e)if(r<o&&++s>i&&u("overflow"),r==o){let e=s;for(let r=n;;r+=n){const i=r<=a?1:r>=a+26?26:r-a;if(e<i)break;const o=e-i,s=n-i;t.push(d(f(i+o%s,0))),e=l(o/s)}t.push(d(f(e,0))),a=g(s,p,h==c),s=0,++h}++s,++o}return t.join("")},y=function(e){return h(e,(function(e){return o.test(e)?b(e.slice(4).toLowerCase()):e}))},w=function(e){return h(e,(function(e){return s.test(e)?"xn--"+v(e):e}))},S={version:"2.1.0",ucs2:{decode:p,encode:m},decode:b,encode:v,toASCII:w,toUnicode:y}},8222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=r(3379),n=r.n(i),o=r(7795),s=r.n(o),a=r(569),c=r.n(a),l=r(3565),d=r.n(l),u=r(9216),h=r.n(u),p=r(4589),m=r.n(p),f=r(2411),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),n()(f.Z,g);const b=f.Z&&f.Z.locals?f.Z.locals:void 0},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],l=i.base?c[0]+i.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var h=r(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=n(p,i);i.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var o=i(e=e||[],n=n||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=r(o[s]);t[a].references--}for(var c=i(e,n),l=0;l<o.length;l++){var d=r(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var i=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i="";r.supports&&(i+="@supports (".concat(r.supports,") {")),r.media&&(i+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(i+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),i+=r.css,n&&(i+="}"),r.media&&(i+="}"),r.supports&&(i+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},7131:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2388),o=r(988);class s{constructor(e,t,r=440,i=1,n=.1,o=.1){this.logger=e,this.sinkId=t,this.frequency=r,this.durationSec=i,this.rampSec=n,this.maxGainValue=o}init(){var e,t;return i(this,void 0,void 0,(function*(){const r=new(window.AudioContext||window.webkitAudioContext),i=r.createGain();i.gain.value=0;const a=r.createOscillator();a.frequency.value=this.frequency,a.connect(i);const c=r.createMediaStreamDestination();i.connect(c);const l=r.currentTime+.1;i.gain.linearRampToValueAtTime(0,l),i.gain.linearRampToValueAtTime(this.maxGainValue,l+this.rampSec),i.gain.linearRampToValueAtTime(this.maxGainValue,l+this.rampSec+this.durationSec),i.gain.linearRampToValueAtTime(0,l+2*this.rampSec+this.durationSec),a.start();const d=new n.DefaultAudioMixController(this.logger);if((new n.DefaultBrowserBehavior).supportsSetSinkId())try{yield d.bindAudioDevice({deviceId:this.sinkId})}catch(t){o.fatal(t),null===(e=this.logger)||void 0===e||e.error(`Failed to bind audio device: ${t}`)}try{yield d.bindAudioElement(s.testAudioElement)}catch(e){o.fatal(e),null===(t=this.logger)||void 0===t||t.error(`Failed to bind audio element: ${e}`)}yield d.bindAudioStream(c.stream),new n.TimeoutScheduler(1e3*(2*this.rampSec+this.durationSec+1)).start((()=>{r.close()}))}))}}t.default=s,s.testAudioElement=new Audio},7449:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2388),o=r(661),s=r(952);class a{constructor(e,t,r){this.logger=e,this.audioVideo=t,this.usingStereoMusicAudioProfile=r,this.started=!1,this.pendingLocalFileStart=!1,this.paused=!1,this.streamProvider=void 0,this.frameRate=void 0,this.enableCirculeCut=!1,this.enableVolumeReduction=!1,this.audioVideo.addContentShareObserver(this),this.initContentShareUI()}start(){return i(this,void 0,void 0,(function*(){let e;if(document.querySelectorAll(".content-share-source-option").forEach((t=>{t.classList.contains("active")&&(e=t)})),void 0!==e){switch(this.streamProvider=void 0,e.id){case"dropdown-item-content-share-screen-capture":try{this.logger.info(`Starting screen capture with frame rate ${this.frameRate}`),this.enableCirculeCut||this.enableVolumeReduction?this.streamProvider=new o.ScreenShareMediaStreamProvider(this.frameRate||15):yield this.audioVideo.startContentShareFromScreenCapture(void 0,this.frameRate||void 0)}catch(e){return void this.logger.error(`Could not start content share: ${e}`)}break;case"dropdown-item-content-share-screen-test-video":this.streamProvider=new o.FileMediaStreamProvider(a.TestVideo);break;case"dropdown-item-content-share-test-mono-audio-speech":this.streamProvider=new o.AudioBufferMediaStreamProvider("audio_file",!0);break;case"dropdown-item-content-share-test-stereo-audio-speech":this.streamProvider=new o.AudioBufferMediaStreamProvider("stereo_audio_file",!0);break;case"dropdown-item-content-share-test-stereo-audio-tone":this.streamProvider=new o.SynthesizedStereoMediaStreamProvider(500,1e3);break;case"dropdown-item-content-share-file-item":{const e=document.getElementById("content-share-item").files[0];if(!e)return void this.logger.error("No content share file selected");const t=URL.createObjectURL(e);this.streamProvider=new o.FileMediaStreamProvider(t);break}}if(this.enableCirculeCut&&0!==(yield this.streamProvider.getMediaStream()).getVideoTracks().length){const e=[new s.default],t=new n.DefaultVideoTransformDevice(this.logger,void 0,e);this.streamProvider=new o.VideoTransformDeviceMediaStreamProvider(this.streamProvider,t)}this.enableVolumeReduction&&0!==(yield this.streamProvider.getMediaStream()).getAudioTracks().length&&(this.streamProvider=new o.AudioGainMediaStreamProvider(this.streamProvider,.1)),void 0!==this.streamProvider&&(yield this.audioVideo.startContentShare(yield this.streamProvider.getMediaStream())),this.started=!0,this.paused=!1,this.updateContentShareUX()}else this.logger.error("No content share source selected")}))}stop(){var e;return i(this,void 0,void 0,(function*(){this.audioVideo.stopContentShare(),null===(e=this.streamProvider)||void 0===e||e.pause(),this.started=!1,this.updateContentShareUX()}))}initContentShareUI(){document.getElementById("button-content-share").addEventListener("click",(e=>{this.started?this.stop():this.start()})),document.getElementById("dropdown-item-content-share-pause-resume").addEventListener("click",(e=>{this.started?n.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){var e,t;this.paused?(this.audioVideo.unpauseContentShare(),null===(e=this.streamProvider)||void 0===e||e.resume()):(this.audioVideo.pauseContentShare(),null===(t=this.streamProvider)||void 0===t||t.pause()),this.paused=!this.paused,this.updateContentShareUX()})))):this.logger.error("Content share cannot be paused if content share is not enabled")}));for(const e of a.SourceOptionElementIds)document.getElementById(e).addEventListener("click",(t=>{t.target.classList.add("active");for(const t of a.SourceOptionElementIds)e!==t&&document.getElementById(t).classList.remove("active");this.started&&(this.stop(),"dropdown-item-content-share-file-item"===e&&(this.pendingLocalFileStart=!0),this.start())}));document.getElementById("content-share-item").addEventListener("change",(e=>{this.pendingLocalFileStart&&(this.start(),this.pendingLocalFileStart=!1)})),this.usingStereoMusicAudioProfile||(document.getElementById("dropdown-item-content-share-test-stereo-audio-speech").style.display="none",document.getElementById("dropdown-item-content-share-test-stereo-audio-tone").style.display="none"),document.getElementById("button-save-content-share-configs").addEventListener("click",(()=>{this.frameRate=parseInt(document.getElementById("content-capture-frame-rate").value,10);const e=this.enableVolumeReduction,t=this.enableCirculeCut;if(this.enableVolumeReduction=document.getElementById("content-enable-volume-reduction").checked,this.enableCirculeCut=document.getElementById("content-enable-circular-cut").checked,e===this.enableVolumeReduction&&t===this.enableCirculeCut||(this.logger.info(`New values for content share media processing, restarting. enableVolumeReduction:${this.enableVolumeReduction}, enableCirculeCut:${this.enableCirculeCut}`),this.started&&(this.stop(),this.start())),document.getElementById("content-enable-simulcast").checked){const e=parseInt(document.getElementById("content-simulcast-low-max-bitratekbps").value)||void 0,t=parseInt(document.getElementById("content-simulcast-low-scale-factor").value)||void 0,r=parseInt(document.getElementById("content-simulcast-low-max-framerate").value)||void 0,i=parseInt(document.getElementById("content-simulcast-high-max-bitratekbps").value)||void 0,n=parseInt(document.getElementById("content-simulcast-high-scale-factor").value)||void 0,o=parseInt(document.getElementById("content-simulcast-high-max-framerate").value)||void 0;this.audioVideo.enableSimulcastForContentShare(!0,{low:{maxBitrateKbps:e,scaleResolutionDownBy:t,maxFramerate:r},high:{maxBitrateKbps:i,scaleResolutionDownBy:n,maxFramerate:o}})}else this.audioVideo.enableSimulcastForContentShare(!1)}))}updateContentShareUX(){this.logger.info(`Updating content share UX, started:${this.started} paused:${this.paused}`);const e=document.getElementById("dropdown-item-content-share-pause-resume");e.style.display=this.started?"block":"none",e.innerHTML=(this.paused?"Resume":"Pause")+" Content Share"}contentShareDidStart(){this.logger.info("Content share started")}contentShareDidStop(){this.logger.info("Content share stopped")}contentShareDidPause(){this.logger.info("Content share paused")}contentShareDidUnpause(){this.logger.info("Content share unpaused")}}t.default=a,a.TestVideo="https://upload.wikimedia.org/wikipedia/commons/transcoded/c/c0/Big_Buck_Bunny_4K.webm/Big_Buck_Bunny_4K.webm.360p.vp9.webm",a.SourceOptionElementIds=["dropdown-item-content-share-screen-capture","dropdown-item-content-share-screen-test-video","dropdown-item-content-share-test-mono-audio-speech","dropdown-item-content-share-test-stereo-audio-speech","dropdown-item-content-share-test-stereo-audio-tone","dropdown-item-content-share-file-item"]},3026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=e,this.id=e,this.signalStrength=1}}class i{constructor(){this.attendeeInfoMap=new Map}hasAttendee(e){return this.attendeeInfoMap.has(e)}getAllAttendeeIds(){let e=[];const t=this.attendeeInfoMap.keys();for(let r=0;r<this.attendeeInfoMap.size;r++)e.push(t.next().value);return e}addAttendee(e,t){if(this.hasAttendee(e))return;const n=new r(e,t);this.attendeeInfoMap.set(e,n);const o=document.createElement("li"),s=document.createElement("span"),a=document.createElement("span");s.className="name",s.innerText=t,a.className="status",o.className="list-group-item d-flex justify-content-between align-items-center",o.id=i.ATTENDEE_ELEMENT_PREFIX+e,o.appendChild(s),o.appendChild(a),this.getContainerElement().appendChild(o)}removeAttendee(e){if(!this.hasAttendee(e))return!1;const t=this.getContainerElement(),r=document.getElementById(i.ATTENDEE_ELEMENT_PREFIX+e);return t.removeChild(r),this.attendeeInfoMap.delete(e),!0}setMuteStatus(e,t){this.hasAttendee(e)&&(this.attendeeInfoMap.get(e).muted=t,this.handleRosterStatusUpdate(e))}setSignalStrength(e,t){this.hasAttendee(e)&&(this.attendeeInfoMap.get(e).signalStrength=t,this.handleRosterStatusUpdate(e))}setAttendeeSpeakingStatus(e,t){this.hasAttendee(e)&&(this.attendeeInfoMap.get(e).speaking=t,this.handleRosterStatusUpdate(e))}clear(){this.getContainerElement().innerHTML="",this.attendeeInfoMap.clear()}getContainerElement(){return document.getElementById(i.CONTAINER_ID)}handleRosterStatusUpdate(e){let t="",r="status badge rounded-pill ";const n=this.attendeeInfoMap.get(e);n.signalStrength<1?r+="bg-warning":0===n.signalStrength?r="bg-danger":n.muted?(t="MUTED",r+="bg-secondary"):n.speaking&&(t="SPEAKING",r+="bg-success");const o=document.getElementById(i.ATTENDEE_ELEMENT_PREFIX+e).getElementsByClassName("status")[0];o.className=r,o.innerText=t}}t.default=i,i.ATTENDEE_ELEMENT_PREFIX="roster-",i.CONTAINER_ID="roster"},988:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.DemoMeetingApp=t.fatal=void 0,r(8222);const o=r(2388),s=r(7131);r(4735).default;const a=r(1261),c=r(4986),l=r(952),d=r(9745),u=r(1193),h=r(3521),p=r(9100),m=r(63),f=r(9610),g=r(3026),b=r(7449),v=r(661);let y=document.location.search.includes("earlyConnect=1"),w=(()=>{const e="127.0.0.1:8080"===document.location.host||"localhost:8080"===document.location.host,t=document.location.search.includes("fatal=1"),r=document.location.search.includes("fatal=0");return t||e&&!r})();const S=new URLSearchParams(document.location.search),x=S.get("voiceFocusName")||void 0,k=S.get("voiceFocusCDN")||void 0,C=S.get("voiceFocusAssetGroup")||void 0,E=S.get("voiceFocusRevisionID")||void 0,_=k&&{processors:`${k}processors/`,wasm:`${k}wasm/`,workers:`${k}workers/`,models:`${k}wasm/`};function T(e=x){if(e&&["default","ns_es"].includes(e))return e}const I={name:T(),assetGroup:C,revisionID:E,paths:_};function M(e){var t,r,i;const n="AVAILABLE"===(null===(i=null===(r=null===(t=e.Meeting.Meeting)||void 0===t?void 0:t.MeetingFeatures)||void 0===r?void 0:r.Audio)||void 0===i?void 0:i.EchoReduction);let o=I;return o.name||(o.name=T(n?"ns_es":"default")),o}const A=void 0,O=S.get("blurCDN")||void 0,P=S.get("blurAssetGroup")||void 0,D=S.get("blurRevisionID")||void 0,R=O&&{worker:`${O}/bgblur/workers/worker.js`,wasm:`${O}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${O}/bgblur/wasm/_cwt-wasm-simd.wasm`},L=O&&o.ModelSpecBuilder.builder().withSelfieSegmentationDefaults().withPath(`${O}/bgblur/models/selfie_segmentation_landscape.tflite`).build(),F=(P||D)&&{assetGroup:P,revisionID:D},B=["Emojify","CircularCut","NoOp","Resize (9/16)"],N={[o.SimulcastLayers.Low]:"Low",[o.SimulcastLayers.LowAndMedium]:"Low and Medium",[o.SimulcastLayers.LowAndHigh]:"Low and High",[o.SimulcastLayers.Medium]:"Medium",[o.SimulcastLayers.MediumAndHigh]:"Medium and High",[o.SimulcastLayers.High]:"High"},V=new Set(["ja-JP","zh-CN"]);class j{constructor(){this.loadingBodyPixDependencyTimeoutMs=1e4,this.attendeeIdPresenceHandler=void 0,this.activeSpeakerHandler=void 0,this.volumeIndicatorHandler=void 0,this.canUnmuteLocalAudioHandler=void 0,this.muteAndUnmuteLocalAudioHandler=void 0,this.blurObserver=void 0,this.replacementObserver=void 0,this.showActiveSpeakerScores=!1,this.meeting=null,this.name=null,this.voiceConnectorId=null,this.sipURI=null,this.region=null,this.primaryExternalMeetingId=void 0,this.primaryMeetingSessionCredentials=void 0,this.meetingSession=null,this.priorityBasedDownlinkPolicy=null,this.audioVideo=null,this.deviceController=void 0,this.canStartLocalVideo=!0,this.defaultBrowserBehavior=new o.DefaultBrowserBehavior,this.videoTileCollection=void 0,this.videoPreferenceManager=void 0,this.roster=new g.default,this.contentShare=void 0,this.cameraDeviceIds=[],this.microphoneDeviceIds=[],this.buttonStates={"button-microphone":"on","button-camera":"off","button-speaker":"on","button-content-share":"off","button-live-transcription":"off","button-video-stats":"off","button-promote-to-primary":"off","button-video-filter":"off","button-video-recording-drop":"off","button-record-self":"off","button-record-cloud":"off","button-live-connector":"off"},this.isViewOnly=!1,this.enableWebAudio=!1,this.logLevel=o.LogLevel.INFO,this.videoCodecPreferences=void 0,this.enableSimulcast=!1,this.usePriorityBasedDownlinkPolicy=!1,this.videoPriorityBasedPolicyConfig=o.VideoPriorityBasedPolicyConfig.Default,this.enablePin=!1,this.echoReductionCapability=!1,this.usingStereoMusicAudioProfile=!1,this.supportsVoiceFocus=!1,this.enableVoiceFocus=!1,this.voiceFocusIsActive=!1,this.supportsBackgroundBlur=!1,this.supportsBackgroundReplacement=!1,this.enableLiveTranscription=!1,this.noWordSeparatorForTranscription=!1,this.markdown=r(9980)({linkify:!0}),this.lastMessageSender=null,this.lastReceivedMessageTimestamp=0,this.lastPacketsSent=0,this.hasChromiumWebRTC=this.defaultBrowserBehavior.hasChromiumWebRTC(),this.deleteOwnAttendeeToLeave=!1,this.voiceFocusDisplayables=[],this.liveTranscriptionDisplayables=[],this.chosenVideoFilter="None",this.selectedVideoFilterItem="None",this.meetingLogger=void 0,this.behaviorAfterLeave="reload",this.videoMetricReport={},this.transcriptContainerDiv=document.getElementById("transcript-container"),this.partialTranscriptResultTimeMap=new Map,this.partialTranscriptResultMap=new Map,this.transcriptEntitySet=new Set,this.eventReporter=void 0,this.enableEventReporting=!1,this.resetStats=()=>{this.videoMetricReport={}},this.transcriptEventHandler=e=>{var t;if(this.enableLiveTranscription||(this.enableLiveTranscription=!0,this.updateLiveTranscriptionDisplayState(),this.setButtonVisibility("button-live-transcription",!0,"on"),this.transcriptContainerDiv.style.display="block"),e instanceof o.TranscriptionStatus)if(this.appendStatusDiv(e),e.type===o.TranscriptionStatusType.STARTED){let t=null;const r=JSON.parse(e.transcriptionConfiguration);r&&(r.EngineTranscribeSettings?t=r.EngineTranscribeSettings.LanguageCode:r.EngineTranscribeMedicalSettings&&(t=r.EngineTranscribeMedicalSettings.languageCode)),t&&V.has(t)&&(this.noWordSeparatorForTranscription=!0)}else e.type!==o.TranscriptionStatusType.STOPPED&&e.type!==o.TranscriptionStatusType.FAILED||!this.enableLiveTranscription||(this.enableLiveTranscription=!1,this.noWordSeparatorForTranscription=!1,this.updateLiveTranscriptionDisplayState(),this.partialTranscriptResultTimeMap.clear(),this.partialTranscriptDiv=null,this.partialTranscriptResultMap.clear());else if(e instanceof o.Transcript)for(const r of e.results){const e=r.resultId,i=r.isPartial,n=r.languageCode;if(n&&V.has(n)&&(this.noWordSeparatorForTranscription=!0),!i&&(null===(t=r.alternatives[0].entities)||void 0===t?void 0:t.length)>0)for(const e of r.alternatives[0].entities){let t=e.content.split(" ");for(const e of t)this.transcriptEntitySet.add(e)}if(this.partialTranscriptResultMap.set(e,r),this.partialTranscriptResultTimeMap.set(e,r.endTimeMs),this.renderPartialTranscriptResults(),!i){for(const[t,i]of this.partialTranscriptResultTimeMap){if(t===e)break;i<r.endTimeMs-5e3&&this.partialTranscriptResultTimeMap.delete(t)}this.partialTranscriptResultTimeMap.delete(e),this.transcriptEntitySet.clear(),0===this.partialTranscriptResultTimeMap.size&&(this.partialTranscriptDiv=null,this.partialTranscriptResultMap.clear())}}this.transcriptContainerDiv.scrollTop=this.transcriptContainerDiv.scrollHeight},this.renderPartialTranscriptResults=()=>{this.partialTranscriptDiv?this.updatePartialTranscriptDiv():(this.partialTranscriptDiv=document.createElement("div"),this.updatePartialTranscriptDiv(),this.transcriptContainerDiv.appendChild(this.partialTranscriptDiv))},this.updatePartialTranscriptDiv=()=>{this.partialTranscriptDiv.innerHTML="";const e=[];for(const t of this.partialTranscriptResultMap.values())this.populatePartialTranscriptSegmentsFromResult(e,t);e.sort(((e,t)=>e.startTimeMs-t.startTimeMs));const t=new Map;for(const r of e){const e=r.attendee.attendeeId;if(t.has(e)){const i=Array.from(t.keys());if(i.indexOf(e)<i.length-1)t.delete(e),this.appendNewSpeakerTranscriptDiv(r,t);else{const i=t.get(e);i.appendChild(this.createSpaceSpan()),i.appendChild(r.contentSpan)}}else this.appendNewSpeakerTranscriptDiv(r,t)}},this.populatePartialTranscriptSegmentsFromResult=(e,t)=>{let r,i=null,n=null;for(const s of t.alternatives[0].items){const t=document.createElement("span");t.innerText=s.content,t.classList.add("transcript-content"),s.hasOwnProperty("confidence")&&!s.content.startsWith("[")&&s.confidence<.3&&t.classList.add("confidence-style"),this.transcriptEntitySet.size>0&&this.transcriptEntitySet.has(s.content)&&t.classList.add("entity-color"),i?s.type===o.TranscriptItemType.PUNCTUATION?(r.appendChild(t),e.push({contentSpan:r,attendee:n,startTimeMs:i,endTimeMs:s.endTimeMs}),i=null,n=null):(this.noWordSeparatorForTranscription||r.appendChild(this.createSpaceSpan()),r.appendChild(t)):(r=document.createElement("span"),r.appendChild(t),n=s.attendee,i=s.startTimeMs)}i&&e.push({contentSpan:r,attendee:n,startTimeMs:i,endTimeMs:t.endTimeMs})},this.appendNewSpeakerTranscriptDiv=(e,t)=>{const r=document.createElement("div");r.classList.add("transcript");const i=document.createElement("span");i.classList.add("transcript-speaker"),i.innerText=e.attendee.externalUserId.split("#").slice(-1)[0]+": ",r.appendChild(i),r.appendChild(e.contentSpan),this.partialTranscriptDiv.appendChild(r),t.set(e.attendee.attendeeId,e.contentSpan)},this.appendStatusDiv=e=>{const t=document.createElement("div");t.innerText="(Live Transcription "+e.type+" at "+new Date(e.eventTimeMs).toLocaleTimeString()+" in "+e.transcriptionRegion+" with configuration: "+e.transcriptionConfiguration+")",this.transcriptContainerDiv.appendChild(t)},this.setupLiveTranscription=()=>{var e;null===(e=this.audioVideo.transcriptionController)||void 0===e||e.subscribeToTranscriptEvent(this.transcriptEventHandler)},this.selectedVideoInput=null,r.g.app=this,this.addFatalHandlers(),document.location.search.includes("testfatal=1")?this.fatal(new Error("Testing fatal.")):(document.getElementById("sdk-version").innerText="amazon-chime-sdk-js@"+o.Versioning.sdkVersion,this.initEventListeners(),this.initParameters(),this.setMediaRegion(),this.isRecorder()||this.isBroadcaster()?o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){this.meeting=new URL(window.location.href).searchParams.get("m"),this.name=this.isRecorder()?"Meeting Recorder":"Meeting Broadcaster",yield this.authenticate(),yield this.openAudioOutputFromSelection(),yield this.join(),this.displayButtonStates(),this.switchToFlow("flow-meeting")})))):this.switchToFlow("flow-authenticate"))}addFatalHandlers(){t.fatal=this.fatal.bind(this);const e=e=>{t.fatal(e.error||e.message)};window.addEventListener("error",e),window.onunhandledrejection=e=>{t.fatal(e.reason)},this.removeFatalHandlers=()=>{window.onunhandledrejection=void 0,window.removeEventListener("error",e),t.fatal=void 0,this.removeFatalHandlers=void 0}}fatal(e){var t;w?(console.error("Fatal error: this was going to be caught, but should not have been thrown.",e),e&&e instanceof Error?document.getElementById("stack").innerText=e.message+"\n"+(null===(t=e.stack)||void 0===t?void 0:t.toString()):document.getElementById("stack").innerText=""+e,this.switchToFlow("flow-fatal")):console.info("Ignoring fatal",e)}initParameters(){const e=new URL(window.location.href).searchParams.get("m");e?(document.getElementById("inputMeeting").value=e,document.getElementById("inputName").focus()):document.getElementById("inputMeeting").focus()}initVoiceFocus(){return i(this,void 0,void 0,(function*(){const e=new o.ConsoleLogger("SDK",o.LogLevel.DEBUG);if(!this.enableWebAudio)return void e.info("[DEMO] Web Audio not enabled. Not checking for Amazon Voice Focus support.");const t=M(this.joinInfo);try{if(this.supportsVoiceFocus=yield o.VoiceFocusDeviceTransformer.isSupported(t,{logger:e}),this.supportsVoiceFocus&&(this.voiceFocusTransformer=yield this.getVoiceFocusDeviceTransformer(A),this.supportsVoiceFocus=this.voiceFocusTransformer&&this.voiceFocusTransformer.isSupported(),this.supportsVoiceFocus))return e.info("[DEMO] Amazon Voice Focus is supported."),void document.getElementById("voice-focus-setting").classList.remove("hidden")}catch(t){e.warn(`[DEMO] Does not support Amazon Voice Focus: ${t.message}`)}e.warn("[DEMO] Does not support Amazon Voice Focus."),this.supportsVoiceFocus=!1,document.getElementById("voice-focus-setting").classList.toggle("hidden",!0)}))}initBackgroundBlur(){return i(this,void 0,void 0,(function*(){try{this.supportsBackgroundBlur=yield o.BackgroundBlurVideoFrameProcessor.isSupported(this.getBackgroundBlurSpec())}catch(e){this.log(`[DEMO] Does not support background blur: ${e.message}`),this.supportsBackgroundBlur=!1}}))}createReplacementImageBlob(e,t){return i(this,void 0,void 0,(function*(){const r=document.createElement("canvas");r.width=500,r.height=500;const i=r.getContext("2d"),n=i.createLinearGradient(0,0,250,0);return n.addColorStop(0,e),n.addColorStop(1,t),i.fillStyle=n,i.fillRect(0,0,500,500),yield new Promise((e=>{r.toBlob(e)}))}))}getBackgroundReplacementOptions(){return i(this,void 0,void 0,(function*(){if(!this.replacementOptions){const e=yield this.createReplacementImageBlob("#000428","#004e92");this.replacementOptions={imageBlob:e}}return this.replacementOptions}))}initBackgroundReplacement(){return i(this,void 0,void 0,(function*(){try{this.supportsBackgroundReplacement=yield o.BackgroundReplacementVideoFrameProcessor.isSupported(this.getBackgroundBlurSpec(),yield this.getBackgroundReplacementOptions())}catch(e){this.log(`[DEMO] Does not support background replacement: ${e.message}`),this.supportsBackgroundReplacement=!1}}))}onVoiceFocusSettingChanged(){return i(this,void 0,void 0,(function*(){this.log("[DEMO] Amazon Voice Focus setting toggled to",this.enableVoiceFocus),this.openAudioInputFromSelectionAndPreview()}))}initEventListeners(){this.defaultBrowserBehavior.hasChromiumWebRTC()||(document.getElementById("simulcast").disabled=!0,document.getElementById("content-simulcast-config").style.display="none"),this.defaultBrowserBehavior.supportDownlinkBandwidthEstimation()||(document.getElementById("priority-downlink-policy").disabled=!0),document.getElementById("join-view-only").addEventListener("change",(()=>{this.isViewOnly=document.getElementById("join-view-only").checked})),document.getElementById("priority-downlink-policy").addEventListener("change",(e=>{this.usePriorityBasedDownlinkPolicy=document.getElementById("priority-downlink-policy").checked;const t=document.getElementById("priority-downlink-policy-preset"),r=document.getElementById("priority-downlink-policy-preset-title"),i=document.getElementById("enable-pagination-checkbox"),n=document.getElementById("server-side-network-adaption"),o=document.getElementById("server-side-network-adaption-title");this.usePriorityBasedDownlinkPolicy?(r.style.display="block",t.style.display="block",i.style.display="block",n.style.display="block",o.style.display="block"):(r.style.display="none",t.style.display="none",i.style.display="none",n.style.display="none",o.style.display="none")}));const e=document.getElementById("echo-reduction-checkbox");document.getElementById("webaudio").addEventListener("change",(t=>{this.enableWebAudio=document.getElementById("webaudio").checked,this.enableWebAudio?e.style.display="block":e.style.display="none"}));const r=document.getElementById("priority-downlink-policy-preset");r.addEventListener("change",(e=>i(this,void 0,void 0,(function*(){switch(r.value){case"stable":this.videoPriorityBasedPolicyConfig=o.VideoPriorityBasedPolicyConfig.StableNetworkPreset;break;case"unstable":this.videoPriorityBasedPolicyConfig=o.VideoPriorityBasedPolicyConfig.UnstableNetworkPreset;break;case"default":this.videoPriorityBasedPolicyConfig=o.VideoPriorityBasedPolicyConfig.Default}this.log("priority-downlink-policy-preset is changed: "+r.value)})))),document.getElementById("replica-meeting-input").addEventListener("change",(e=>i(this,void 0,void 0,(function*(){document.getElementById("primary-meeting-external-id").value=""})))),document.getElementById("quick-join").addEventListener("click",(e=>{e.preventDefault(),this.redirectFromAuthentication(!0)})),document.getElementById("form-authenticate").addEventListener("submit",(e=>{e.preventDefault(),this.redirectFromAuthentication()}));const n=document.getElementById("preconnect");n.checked=y,n.onchange=()=>{y=!!n.checked};const a=document.getElementById("die");a.checked=w,a.onchange=()=>{w=!!a.checked};const c=document.getElementById("fullband-speech-mono-quality"),l=document.getElementById("fullband-music-mono-quality"),d=document.getElementById("fullband-music-stereo-quality");c.addEventListener("change",(e=>{c.checked&&(l.checked=!1,d.checked=!1)})),l.addEventListener("change",(e=>{l.checked&&(c.checked=!1,d.checked=!1)})),d.addEventListener("change",(e=>{d.checked?(c.checked=!1,l.checked=!1,this.usingStereoMusicAudioProfile=!0):this.usingStereoMusicAudioProfile=!1})),document.getElementById("to-sip-flow").addEventListener("click",(e=>{e.preventDefault(),this.switchToFlow("flow-sip-authenticate")})),document.getElementById("form-sip-authenticate").addEventListener("submit",(e=>{e.preventDefault(),this.meeting=document.getElementById("sip-inputMeeting").value,this.voiceConnectorId=document.getElementById("voiceConnectorId").value,o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){this.showProgress("progress-authenticate");const e=this.region||"us-east-1";try{const t=yield fetch(`${j.BASE_URL}join?title=${encodeURIComponent(this.meeting)}&name=${encodeURIComponent(j.DID)}&region=${encodeURIComponent(e)}`,{method:"POST"}),r=(yield t.json()).JoinInfo.Attendee.Attendee.JoinToken;this.sipURI=`sip:${j.DID}@${this.voiceConnectorId};transport=tls;X-joinToken=${r}`,this.switchToFlow("flow-sip-uri")}catch(e){return document.getElementById("failed-meeting").innerText=`Meeting ID: ${this.meeting}`,document.getElementById("failed-meeting-error").innerText=e.message,void this.switchToFlow("flow-failed-meeting")}document.getElementById("sip-uri").value=this.sipURI,this.hideProgress("progress-authenticate")}))))})),this.areVideoFiltersSupported()||(document.getElementById("video-input-filter-container").style.display="none");let u=document.getElementById("video-input-filter");u.addEventListener("change",(()=>i(this,void 0,void 0,(function*(){this.selectedVideoFilterItem=u.value,this.log(`Clicking video filter: ${this.selectedVideoFilterItem}`),yield this.openVideoInputFromSelection(this.selectedVideoInput,!0)})))),document.getElementById("copy-sip-uri").addEventListener("click",(()=>{document.getElementById("sip-uri").select(),document.execCommand("copy")})),document.getElementById("audio-input").addEventListener("change",(e=>i(this,void 0,void 0,(function*(){this.log("audio input device is changed"),yield this.openAudioInputFromSelectionAndPreview()}))));const h=document.getElementById("video-input");h.addEventListener("change",(e=>i(this,void 0,void 0,(function*(){this.log("video input device is changed");try{yield this.openVideoInputFromSelection(h.value,!0)}catch(e){t.fatal(e)}}))));const p=document.getElementById("video-input-quality");p.addEventListener("change",(e=>i(this,void 0,void 0,(function*(){switch(this.log("Video input quality is changed"),p.value){case"360p":this.audioVideo.chooseVideoInputQuality(640,360,15),this.audioVideo.setVideoMaxBandwidthKbps(600);break;case"540p":this.audioVideo.chooseVideoInputQuality(960,540,15),this.audioVideo.setVideoMaxBandwidthKbps(1400);break;case"720p":this.audioVideo.chooseVideoInputQuality(1280,720,15),this.audioVideo.setVideoMaxBandwidthKbps(1400)}try{this.chosenVideoTransformDevice&&(yield this.chosenVideoTransformDevice.stop(),this.chosenVideoTransformDevice=null),yield this.openVideoInputFromSelection(h.value,!0)}catch(e){t.fatal(e)}})))),document.getElementById("audio-output").addEventListener("change",(e=>i(this,void 0,void 0,(function*(){this.log("audio output device is changed"),yield this.openAudioOutputFromSelection()})))),document.getElementById("button-test-sound").addEventListener("click",(e=>i(this,void 0,void 0,(function*(){e.preventDefault();const t=document.getElementById("audio-output"),r=new s.default(this.meetingEventPOSTLogger,t.value);yield r.init()})))),document.getElementById("form-devices").addEventListener("submit",(e=>{e.preventDefault(),o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){try{this.showProgress("progress-join"),yield this.stopAudioPreview(),yield this.openVideoInputFromSelection(null,!0),yield this.stopVideoProcessor(),yield this.join(),this.hideProgress("progress-join"),this.displayButtonStates(),this.switchToFlow("flow-meeting")}catch(e){document.getElementById("failed-join").innerText=`Meeting ID: ${this.meeting}`,document.getElementById("failed-join-error").innerText=`Error: ${e.message}`}}))))})),document.getElementById("add-voice-focus").addEventListener("change",(e=>{this.enableVoiceFocus=e.target.checked,this.onVoiceFocusSettingChanged()})),document.getElementById("button-microphone").addEventListener("click",(e=>{this.toggleButton("button-microphone"),this.isButtonOn("button-microphone")?this.audioVideo.realtimeUnmuteLocalAudio():this.audioVideo.realtimeMuteLocalAudio()}));const m=document.getElementById("button-record-cloud");m.addEventListener("click",(e=>{this.toggleButton("button-record-cloud"),this.updateButtonVideoRecordingDrop(),this.isButtonOn("button-record-cloud")?o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){m.disabled=!0,yield this.startMediaCapture(),m.disabled=!1})))):o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){m.disabled=!0,yield this.stopMediaCapture(),m.disabled=!1}))))}));const f=document.getElementById("button-live-connector");let g;f.addEventListener("click",(e=>{this.toggleButton("button-live-connector"),this.updateButtonVideoRecordingDrop(),this.isButtonOn("button-live-connector")?o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){f.disabled=!0;const e=yield this.startLiveConnector(),t=document.getElementById("toast-container"),r=document.createElement("meeting-toast");t.appendChild(r),r.message="Playback URL: "+e.playBackUrl,r.delay="50000",r.show(),f.disabled=!1})))):o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){f.disabled=!0,yield this.stopLiveConnector(),f.disabled=!1}))))})),document.getElementById("button-record-self").addEventListener("click",(e=>{const t=[];o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){if(this.toggleButton("button-record-self"),this.updateButtonVideoRecordingDrop(),!this.isButtonOn("button-record-self"))return console.info("Stopping recorder ",g),g.stop(),void(g=void 0);const e=new MediaStream,r=this.audioVideo.getLocalVideoTile();r&&e.addTrack(r.state().boundVideoStream.getVideoTracks()[0]);const i=this.audioVideo.audioVideoController,n=yield i.mediaStreamBroker.acquireAudioInputStream();e.addTrack(n.getAudioTracks()[0]),g=new MediaRecorder(e,{mimeType:"video/webm; codecs=vp9"}),console.info("Setting recorder to",g),g.ondataavailable=e=>{e.data.size&&t.push(e.data)},g.onstop=()=>{const e=new Blob(t,{type:"video/webm"});t.length=0;const r=URL.createObjectURL(e),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=r,i.download="recording.webm",i.click(),window.URL.revokeObjectURL(r)},g.start()}))))})),document.getElementById("button-camera").addEventListener("click",(e=>{o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){if("on"===this.toggleButton("button-camera")&&this.canStartLocalVideo)try{let e=this.selectedVideoInput;null!==e&&"None"!==e||(e=this.cameraDeviceIds.length?this.cameraDeviceIds[0]:"None"),yield this.openVideoInputFromSelection(e,!1),this.audioVideo.startLocalVideoTile()}catch(e){this.toggleButton("button-camera","off"),t.fatal(e)}else yield this.audioVideo.stopVideoInput(),this.toggleButton("button-camera","off")}))))})),document.getElementById("button-speaker").addEventListener("click",(e=>{o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){if(this.toggleButton("button-speaker"),this.isButtonOn("button-speaker"))try{yield this.audioVideo.bindAudioElement(document.getElementById("meeting-audio"))}catch(e){t.fatal(e),this.log("Failed to bindAudioElement",e)}else this.audioVideo.unbindAudioElement()}))))})),document.getElementById("button-live-transcription").addEventListener("click",(()=>{this.transcriptContainerDiv.style.display=this.isButtonOn("button-live-transcription")?"none":"block",this.toggleButton("button-live-transcription")})),document.getElementById("button-live-transcription-modal-close").addEventListener("click",(()=>{document.getElementById("live-transcription-modal").style.display="none"})),document.getElementsByName("transcription-engine").forEach((e=>{e.addEventListener("change",(()=>{const e=document.getElementById("engine-transcribe").checked,t=document.getElementById("content-identification-checkbox").checked,r=document.getElementById("content-redaction-checkbox").checked;document.getElementById("engine-transcribe-language").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-medical-language").classList.toggle("hidden",e),document.getElementById("engine-transcribe-region").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-medical-region").classList.toggle("hidden",e),document.getElementById("engine-transcribe-medical-content-identification").classList.toggle("hidden",e),document.getElementById("engine-transcribe-language-identification").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-content-identification").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-redaction").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-partial-stabilization").classList.toggle("hidden",!e),document.getElementById("engine-transcribe-custom-language-model").classList.toggle("hidden",!e),e?e&&(t||r)&&document.getElementById("transcribe-entity-types").classList.toggle("hidden",!1):document.getElementById("transcribe-entity-types").classList.toggle("hidden",!0)}))}));const b=document.getElementById("identify-language-checkbox");b.addEventListener("click",(()=>{document.getElementById("button-start-transcription").disabled=b.checked,document.getElementById("language-options").classList.toggle("hidden",!b.checked),document.getElementById("preferred-language").classList.toggle("hidden",!b.checked),document.getElementById("transcribe-language").disabled=b.checked,document.getElementById("content-identification-checkbox").disabled=b.checked,document.getElementById("content-redaction-checkbox").disabled=b.checked,document.getElementById("custom-language-model-checkbox").disabled=b.checked,document.getElementById("transcribe-entity").disabled=b.checked,document.getElementById("language-model-input-text").disabled=b.checked})),document.getElementById("language-options").addEventListener("change",(e=>function(e){let t=new Set;document.getElementById("language-options-error-message").innerHTML="";const r=document.querySelectorAll("#language-options option:checked");let i=document.getElementById("preferred-language-selection");if(i.hasChildNodes){let e=i.options;for(let t=e.length-1;t>=0;t--)e[t].value.length>0&&i.removeChild(e[t])}for(let e=r.length-1;e>=0;e--){let i=r.item(e);if(t.has(i.parentElement.id))return _("Please select one language per group"),!1;t.add(i.parentElement.id);let n=i.value,o=document.createElement("option");o.value=n,o.text=i.innerText,document.getElementById("preferred-language-selection").appendChild(o)}if(1==r.length)return _("Please select at least 2 language options"),!1;r.length>=2&&(document.getElementById("button-start-transcription").disabled=!1)}()));const v=document.getElementById("content-identification-checkbox");v.addEventListener("click",(()=>{document.getElementById("content-redaction-checkbox").disabled=v.checked,document.getElementById("transcribe-entity-types").classList.toggle("hidden",!v.checked)}));const S=document.getElementById("content-redaction-checkbox");S.addEventListener("click",(()=>{document.getElementById("content-identification-checkbox").disabled=S.checked,document.getElementById("transcribe-entity-types").classList.toggle("hidden",!S.checked)}));const x=document.getElementById("partial-stabilization-checkbox");x.addEventListener("click",(()=>{document.getElementById("transcribe-partial-stability").classList.toggle("hidden",!x.checked)}));const k=document.getElementById("custom-language-model-checkbox");function C(e){return document.getElementById(e).checked}function E(e){let t=e+" option:checked";const r=document.querySelectorAll(t);let i="";return r.length>0&&(i=Array.from(r).filter((e=>""!==e.value)).map((e=>e.value)).join(",")),i}function _(e){let t=document.createElement("span");t.innerText=e,t.classList.add("error-message-color"),document.getElementById("language-options-error-message").appendChild(t),document.getElementById("button-start-transcription").disabled=!0}k.addEventListener("click",(()=>{document.getElementById("language-model").classList.toggle("hidden",!k.checked)})),document.getElementById("button-start-transcription").addEventListener("click",(()=>i(this,void 0,void 0,(function*(){let e="",t="",r="";const i={};if(document.getElementById("engine-transcribe").checked){if(e="transcribe",r=document.getElementById("transcribe-region").value,!C("identify-language-checkbox")){if(t=document.getElementById("transcribe-language").value,C("content-identification-checkbox")&&(i.contentIdentificationType="PII"),C("content-redaction-checkbox")&&(i.contentRedactionType="PII"),C("content-identification-checkbox")||C("content-redaction-checkbox")){let e=E("#transcribe-entity");""!==e&&(i.piiEntityTypes=e)}if(C("custom-language-model-checkbox")){let e=document.getElementById("language-model-input-text").value;e&&(i.languageModelName=e)}}if(C("identify-language-checkbox")){i.identifyLanguage=!0;let e=E("#language-options");""!==e&&(i.languageOptions=e);let t=document.getElementById("preferred-language-selection").value;t&&(i.preferredLanguage=t)}C("partial-stabilization-checkbox")&&(i.enablePartialResultsStability=!0);let n=document.getElementById("partial-stability").value;n&&(i.partialResultsStability=n)}else{if(!document.getElementById("engine-transcribe-medical").checked)throw new Error("Unknown transcription engine");e="transcribe_medical",t=document.getElementById("transcribe-medical-language").value,r=document.getElementById("transcribe-medical-region").value,C("medical-content-identification-checkbox")&&(i.contentIdentificationType="PHI")}yield T(e,t,r,i)}))));const T=(e,t,r,n)=>i(this,void 0,void 0,(function*(){const i=JSON.stringify(n),o=yield fetch(`${j.BASE_URL}start_transcription?title=${encodeURIComponent(this.meeting)}&engine=${encodeURIComponent(e)}&language=${encodeURIComponent(t)}&region=${encodeURIComponent(r)}&transcriptionStreamParams=${encodeURIComponent(i)}`,{method:"POST"}),s=yield o.json();if(s.error)throw new Error(`Server error: ${s.error}`);document.getElementById("live-transcription-modal").style.display="none"}));document.getElementById("button-video-stats").addEventListener("click",(()=>{this.isButtonOn("button-video-stats")?document.querySelectorAll(".stats-info").forEach((e=>e.remove())):this.getRelayProtocol(),this.toggleButton("button-video-stats")})),document.getElementById("button-promote-to-primary").addEventListener("click",(()=>i(this,void 0,void 0,(function*(){var e;this.isButtonOn("button-promote-to-primary")?(this.meetingLogger.info("Demoting from primary meeting"),this.deleteOwnAttendeeToLeave?this.deleteAttendee(this.primaryExternalMeetingId,null===(e=this.primaryMeetingSessionCredentials)||void 0===e?void 0:e.attendeeId):this.audioVideo.demoteFromPrimaryMeeting()):yield this.promoteToPrimaryMeeting()}))));const I=()=>{o.AsyncScheduler.nextTick((()=>{const e=document.getElementById("send-message"),t=e.value.trim();t&&(e.value="",this.audioVideo.realtimeSendDataMessage(j.DATA_MESSAGE_TOPIC,t,j.DATA_MESSAGE_LIFETIME_MS),this.dataMessageHandler(new o.DataMessage(Date.now(),j.DATA_MESSAGE_TOPIC,(new TextEncoder).encode(t),this.meetingSession.configuration.credentials.attendeeId,this.meetingSession.configuration.credentials.externalUserId)))}))},M=document.getElementById("send-message");M.addEventListener("keydown",(e=>{13===e.keyCode&&(e.shiftKey?M.rows++:(e.preventDefault(),I(),M.rows=1))}));const A=document.getElementById("button-meeting-end");A.addEventListener("click",(e=>{"true"===new URL(window.location.href).searchParams.get("confirm-end")&&!window.confirm("Are you sure you want to end the meeting for everyone? The meeting cannot be used after ending it.")||o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){A.disabled=!0,yield this.endMeeting(),yield this.leave(),A.disabled=!1}))))}));const O=document.getElementById("button-meeting-leave");O.addEventListener("click",(e=>{e.shiftKey&&(this.behaviorAfterLeave="halt"),o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){O.disabled=!0,yield this.leave(),O.disabled=!1}))))}))}logAudioStreamPPS(e){const{currentTimestampMs:t,previousTimestampMs:r}=e,i=t-r;e.getRTCStatsReport().forEach((e=>{if("outbound-rtp"===e.type&&"audio"===e.kind){if(0===e.packetsSent&&0===r)return;const t=1e3*(e.packetsSent-this.lastPacketsSent)/i;let n=0;t>52||t<47?console.error("PPS:",t,`(${++n})`):(n=0,console.debug("PPS:",t)),this.lastPacketsSent=e.packetsSent}}))}getSupportedMediaRegions(){const e=[],t=document.getElementById("inputRegion");for(let r=0;r<t.length;r++)e.push(t.value);return e}getNearestMediaRegion(){return i(this,void 0,void 0,(function*(){const e=yield fetch("https://nearest-media-region.l.chime.aws",{method:"GET"});return(yield e.json()).region}))}setMediaRegion(){o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){try{const e=new URLSearchParams(document.location.search).get("region")||(yield this.getNearestMediaRegion());if(""===e||null===e)throw new Error("Nearest Media Region cannot be null or empty");const t=this.getSupportedMediaRegions();if(-1===t.indexOf(e)){t.push(e);const r=document.getElementById("inputRegion"),i=document.createElement("option");i.value=e,i.text=e+" ("+e+")",r.add(i,null)}document.getElementById("inputRegion").value=e}catch(e){t.fatal(e),this.log("Default media region selected: "+e.message)}}))))}promoteToPrimaryMeeting(){return i(this,void 0,void 0,(function*(){this.meetingLogger.info("Attempting to promote self to primary meeting from replica"),void 0===this.primaryMeetingSessionCredentials&&(this.primaryMeetingSessionCredentials=yield this.getPrimaryMeetingCredentials()),yield this.audioVideo.promoteToPrimaryMeeting(this.primaryMeetingSessionCredentials).then((e=>{const t=document.getElementById("toast-container"),r=document.createElement("meeting-toast");t.appendChild(r),e.isFailure()?(r.message=` Failed to promote to primary meeting due to error: ${e.toString()}`,r.addButton("Retry",(()=>{this.promoteToPrimaryMeeting()}))):(r.message="Successfully promoted to primary meeting",this.updateUXForReplicaMeetingPromotionState("promoted")),r.show()}))}))}getPrimaryMeetingCredentials(){return i(this,void 0,void 0,(function*(){const e=(yield this.sendJoinRequest(this.primaryExternalMeetingId,`promoted-${this.name}`,this.region)).JoinInfo;return new o.MeetingSessionConfiguration(e.Meeting,e.Attendee).credentials}))}updateUXForViewOnlyMode(){for(const e in this.buttonStates)"button-speaker"!==e&&"button-video-stats"!==e&&"button-live-transcription"!==e&&this.toggleButton(e,"disabled");this.audioVideo.realtimeMuteLocalAudio()}updateUXForReplicaMeetingPromotionState(e){const t="promoted"===e;for(const e in this.buttonStates)"button-speaker"!==e&&"button-video-stats"!==e&&"button-live-transcription"!==e&&("button-promote-to-primary"!==e?this.toggleButton(e,t?"off":"disabled"):(this.meetingLogger.info("promote button "+(t?"on":"off")),this.toggleButton(e,t?"on":"off")));t||this.audioVideo.realtimeMuteLocalAudio()}setButtonVisibility(e,t,r){document.getElementById(e).style.display=t?"inline-block":"none",this.toggleButton(e,r)}toggleButton(e,t){return t?this.buttonStates[e]=t:"on"===this.buttonStates[e]?this.buttonStates[e]="off":this.buttonStates[e]="on",this.displayButtonStates(),this.buttonStates[e]}isButtonOn(e){return"on"===this.buttonStates[e]}updateButtonVideoRecordingDrop(){"on"===this.buttonStates["button-record-self"]||"on"===this.buttonStates["button-record-cloud"]||"on"===this.buttonStates["button-live-connector"]?this.buttonStates["button-video-recording-drop"]="on":"off"===this.buttonStates["button-record-self"]&&"off"===this.buttonStates["button-record-cloud"]&&"off"===this.buttonStates["button-live-connector"]&&(this.buttonStates["button-video-recording-drop"]="off"),this.displayButtonStates()}displayButtonStates(){for(const e in this.buttonStates){const t=document.getElementById(e),r=document.getElementById(`${e}-drop`),i=this.isButtonOn(e);t.classList.add(i?"btn-success":"btn-outline-secondary"),t.classList.remove(i?"btn-outline-secondary":"btn-success"),t.firstElementChild.classList.add(i?"svg-active":"svg-inactive"),t.firstElementChild.classList.remove(i?"svg-inactive":"svg-active"),"disabled"===this.buttonStates[e]?t.setAttribute("disabled",""):t.removeAttribute("disabled"),r&&(r.classList.add(i?"btn-success":"btn-outline-secondary"),r.classList.remove(i?"btn-outline-secondary":"btn-success"),"disabled"===this.buttonStates[e]?r.setAttribute("disabled",""):r.removeAttribute("disabled"))}}showProgress(e){document.getElementById(e).style.visibility="visible"}hideProgress(e){document.getElementById(e).style.visibility="hidden"}switchToFlow(e){Array.from(document.getElementsByClassName("flow")).map((e=>e.style.display="none")),document.getElementById(e).style.display="block"}onAudioInputsChanged(e){return i(this,void 0,void 0,(function*(){if(yield this.populateAudioInputList(),this.currentAudioInputDevice)return"default"===this.currentAudioInputDevice?(this.log("Reselecting default device."),void(yield this.selectAudioInputDevice(this.currentAudioInputDevice))):void(void 0===e.find((e=>e.deviceId===this.currentAudioInputDevice))&&(this.log("Existing device disappeared. Selecting a new one."),yield this.openAudioInputFromSelectionAndPreview()))}))}audioInputMuteStateChanged(e,t){this.log("Mute state: device",e,t?"is muted":"is not muted")}audioInputsChanged(e){this.onAudioInputsChanged(e)}videoInputsChanged(e){this.populateVideoInputList()}audioOutputsChanged(e){this.populateAudioOutputList()}audioInputStreamEnded(e){this.log(`Current audio input stream from device id ${e} ended.`)}videoInputStreamEnded(e){this.log(`Current video input stream from device id ${e} ended.`),"on"===this.buttonStates["button-camera"]&&(this.buttonStates["button-camera"]="off",this.displayButtonStates())}metricsDidReceive(e){this.logAudioStreamPPS(e);const t=e.getObservableMetrics();this.videoMetricReport=e.getObservableVideoMetrics(),this.displayEstimatedUplinkBandwidth(t.availableOutgoingBitrate),this.displayEstimatedDownlinkBandwidth(t.availableIncomingBitrate),this.isButtonOn("button-video-stats")&&this.videoTileCollection.showVideoWebRTCStats(this.videoMetricReport)}displayEstimatedUplinkBandwidth(e){const t=`Available Uplink Bandwidth: ${e?e/1e3:"Unknown"} Kbps`;document.getElementById("video-uplink-bandwidth").innerText=t,document.getElementById("mobile-video-uplink-bandwidth").innerText=t}displayEstimatedDownlinkBandwidth(e){const t=`Available Downlink Bandwidth: ${e?e/1e3:"Unknown"} Kbps`;document.getElementById("video-downlink-bandwidth").innerText=t,document.getElementById("mobile-video-downlink-bandwidth").innerText=t}getRelayProtocol(){return i(this,void 0,void 0,(function*(){const e=yield this.audioVideo.getRTCPeerConnectionStats();e&&e.forEach((e=>{if("local-candidate"===e.type){this.log(`Local WebRTC Ice Candidate stats: ${JSON.stringify(e)}`);const t=e.relayProtocol;"string"==typeof t&&("udp"===t?this.log(`Connection using ${t.toUpperCase()} protocol`):this.log(`Connection fell back to ${t.toUpperCase()} protocol`))}}))}))}createLogStream(e,r){return i(this,void 0,void 0,(function*(){const i=JSON.stringify({meetingId:e.meetingId,attendeeId:e.credentials.attendeeId});try{200===(yield fetch(`${j.BASE_URL}${r}`,{method:"POST",body:i})).status&&console.log("[DEMO] log stream created")}catch(e){t.fatal(e),this.log(e.message)}}))}eventDidReceive(e,t){var r,i;this.log(`Received an event: ${JSON.stringify({name:e,attributes:t})}`);const{meetingHistory:o}=t,s=n(t,["meetingHistory"]);switch(e){case"meetingStartRequested":case"meetingStartSucceeded":case"meetingEnded":case"audioInputSelected":case"videoInputSelected":case"audioInputUnselected":case"videoInputUnselected":case"meetingReconnected":case"receivingAudioDropped":case"signalingDropped":case"sendingAudioFailed":case"sendingAudioRecovered":case"attendeePresenceReceived":null===(r=this.meetingEventPOSTLogger)||void 0===r||r.info(JSON.stringify({name:e,attributes:s}));break;case"audioInputFailed":case"videoInputFailed":case"meetingStartFailed":case"meetingFailed":null===(i=this.meetingEventPOSTLogger)||void 0===i||i.info(JSON.stringify({name:e,attributes:Object.assign(Object.assign({},s),{meetingHistory:o.filter((({timestampMs:e})=>Date.now()-e<j.MAX_MEETING_HISTORY_MS))})}))}}initializeMeetingSession(e){return i(this,void 0,void 0,(function*(){const t=this.meetingLogger=new o.ConsoleLogger("SDK",this.logLevel);this.isLocalHost()?this.meetingLogger=t:(yield Promise.all([this.createLogStream(e,"create_log_stream"),this.createLogStream(e,"create_browser_event_log_stream")]),this.meetingSessionPOSTLogger=f.getPOSTLogger(e,"SDK",`${j.BASE_URL}logs`,this.logLevel),this.meetingLogger=new o.MultiLogger(t,this.meetingSessionPOSTLogger),this.meetingEventPOSTLogger=f.getPOSTLogger(e,"SDKEvent",`${j.BASE_URL}log_meeting_event`,this.logLevel)),this.eventReporter=yield this.setupEventReporter(e),this.deviceController=new o.DefaultDeviceController(this.meetingLogger,{enableWebAudio:this.enableWebAudio});const r=new URL(window.location.href).searchParams,i=Number(r.get("attendee-presence-timeout-ms"));if(isNaN(i)||(e.attendeePresenceTimeoutMs=Number(i)),e.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=this.enableSimulcast,this.usePriorityBasedDownlinkPolicy){switch(document.getElementById("server-side-network-adaption").value){case"default":this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=o.ServerSideNetworkAdaption.Default;break;case"none":this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=o.ServerSideNetworkAdaption.None;break;case"enable-bandwidth-probing":this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=o.ServerSideNetworkAdaption.BandwidthProbing}this.priorityBasedDownlinkPolicy=new o.VideoPriorityBasedPolicy(this.meetingLogger,this.videoPriorityBasedPolicyConfig),e.videoDownlinkBandwidthPolicy=this.priorityBasedDownlinkPolicy,this.priorityBasedDownlinkPolicy.addObserver(this)}e.applicationMetadata=o.ApplicationMetadata.create("amazon-chime-sdk-js-demo","2.0.0"),document.getElementById("pause-last-frame").checked&&(e.keepLastFrameWhenPaused=!0),this.meetingSession=new o.DefaultMeetingSession(e,this.meetingLogger,this.deviceController,new o.DefaultEventController(e,this.meetingLogger,this.eventReporter)),document.getElementById("fullband-speech-mono-quality").checked?(this.meetingSession.audioVideo.setAudioProfile(o.AudioProfile.fullbandSpeechMono()),this.meetingSession.audioVideo.setContentAudioProfile(o.AudioProfile.fullbandSpeechMono()),this.log("Using audio profile fullband-speech-mono-quality")):document.getElementById("fullband-music-mono-quality").checked?(this.meetingSession.audioVideo.setAudioProfile(o.AudioProfile.fullbandMusicMono()),this.meetingSession.audioVideo.setContentAudioProfile(o.AudioProfile.fullbandMusicMono()),this.log("Using audio profile fullband-music-mono-quality")):document.getElementById("fullband-music-stereo-quality").checked&&(this.meetingSession.audioVideo.setAudioProfile(o.AudioProfile.fullbandMusicStereo()),this.meetingSession.audioVideo.setContentAudioProfile(o.AudioProfile.fullbandMusicStereo()),this.log("Using audio profile fullband-music-stereo-quality")),this.audioVideo=this.meetingSession.audioVideo,this.audioVideo.addDeviceChangeObserver(this),this.setupDeviceLabelTrigger(),this.setupMuteHandler(),this.setupCanUnmuteHandler(),this.setupSubscribeToAttendeeIdPresenceHandler(),this.setupDataMessage(),this.setupLiveTranscription(),this.audioVideo.addObserver(this),this.meetingSession.eventController.addObserver(this),this.audioVideo.addContentShareObserver(this),void 0!==this.videoCodecPreferences&&this.videoCodecPreferences.length>0&&(this.audioVideo.setVideoCodecSendPreferences(this.videoCodecPreferences),this.audioVideo.setContentShareVideoCodecPreferences(this.videoCodecPreferences)),this.videoTileCollection=new a.default(this.audioVideo,this.meetingLogger,this.usePriorityBasedDownlinkPolicy?new c.default(this.meetingLogger,this.priorityBasedDownlinkPolicy):void 0,document.getElementById("enable-pagination").checked?j.REDUCED_REMOTE_VIDEO_PAGE_SIZE:j.REMOTE_VIDEO_PAGE_SIZE),this.audioVideo.addObserver(this.videoTileCollection),this.contentShare=new b.default(this.meetingLogger,this.audioVideo,this.usingStereoMusicAudioProfile)}))}setupEventReporter(e){return i(this,void 0,void 0,(function*(){let t;const r=e.urls.eventIngestionURL;if(!r)return t;if(!this.enableEventReporting)return new o.NoOpEventReporter;const i=new o.ConsoleLogger("SDKEventIngestion",o.LogLevel.INFO),n=new o.MeetingEventsClientConfiguration(e.meetingId,e.credentials.attendeeId,e.credentials.joinToken),s=new o.EventIngestionConfiguration(n,r);if(this.isLocalHost())t=new o.DefaultMeetingEventReporter(s,i);else{yield this.createLogStream(e,"create_browser_event_ingestion_log_stream");const r=f.getPOSTLogger(e,"SDKEventIngestion",`${j.BASE_URL}log_event_ingestion`,o.LogLevel.DEBUG),n=new o.MultiLogger(i,r);t=new o.DefaultMeetingEventReporter(s,n)}return t}))}isLocalHost(){return"127.0.0.1:8080"===document.location.host||"localhost:8080"===document.location.host}join(){return i(this,void 0,void 0,(function*(){window.addEventListener("unhandledrejection",(e=>{this.log(e.reason)})),this.audioVideo.start()}))}leave(){var e,t;return i(this,void 0,void 0,(function*(){this.deleteOwnAttendeeToLeave?yield this.deleteAttendee(this.meeting,this.meetingSession.configuration.credentials.attendeeId):(this.resetStats(),this.audioVideo.stop(),yield null===(e=this.voiceFocusDevice)||void 0===e?void 0:e.stop(),this.voiceFocusDevice=void 0,yield null===(t=this.chosenVideoTransformDevice)||void 0===t?void 0:t.stop(),this.chosenVideoTransformDevice=void 0,this.roster.clear())}))}setupMuteHandler(){this.muteAndUnmuteLocalAudioHandler=e=>{this.log(`muted = ${e}`)},this.audioVideo.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.muteAndUnmuteLocalAudioHandler);const e=this.audioVideo.realtimeIsLocalAudioMuted();this.muteAndUnmuteLocalAudioHandler(e)}setupCanUnmuteHandler(){this.canUnmuteLocalAudioHandler=e=>{this.log(`canUnmute = ${e}`)},this.audioVideo.realtimeSubscribeToSetCanUnmuteLocalAudio(this.canUnmuteLocalAudioHandler),this.canUnmuteLocalAudioHandler(this.audioVideo.realtimeCanUnmuteLocalAudio())}updateProperty(e,t,r){void 0!==r&&e[t]!==r&&(e[t]=r)}setupSubscribeToAttendeeIdPresenceHandler(){this.attendeeIdPresenceHandler=(e,t,r,n)=>{var s;this.log(`${e} present = ${t} (${r})`);const a=new o.DefaultModality(e).hasModality(o.DefaultModality.MODALITY_CONTENT),c=new o.DefaultModality(e).base()===this.meetingSession.configuration.credentials.attendeeId||new o.DefaultModality(e).base()===(null===(s=this.primaryMeetingSessionCredentials)||void 0===s?void 0:s.attendeeId);if(!t)return this.roster.removeAttendee(e),this.audioVideo.realtimeUnsubscribeFromVolumeIndicator(e,this.volumeIndicatorHandler),void this.log(`${e} dropped = ${n} (${r})`);!this.allowMaxContentShare()&&!c&&a&&this.isButtonOn("button-content-share")&&this.contentShare.stop();const l=r.split("#").slice(-1)[0]+(a?" Content":"");this.roster.addAttendee(e,l),this.volumeIndicatorHandler=(e,t,r,n)=>i(this,void 0,void 0,(function*(){null!==r&&this.roster.setMuteStatus(e,r),null!==n&&this.roster.setSignalStrength(e,Math.round(100*n))})),this.audioVideo.realtimeSubscribeToVolumeIndicator(e,this.volumeIndicatorHandler)},this.audioVideo.realtimeSubscribeToAttendeeIdPresence(this.attendeeIdPresenceHandler),this.activeSpeakerHandler=e=>{for(const e of this.roster.getAllAttendeeIds())this.roster.setAttendeeSpeakingStatus(e,!1);for(const t of e)if(this.roster.hasAttendee(t)){this.roster.setAttendeeSpeakingStatus(t,!0),this.videoTileCollection.activeSpeakerAttendeeId=t;break}},this.audioVideo.subscribeToActiveSpeakerDetector(new o.DefaultActiveSpeakerPolicy,this.activeSpeakerHandler,(e=>{}),this.showActiveSpeakerScores?100:0)}dataMessageHandler(e){if(e.throttled)this.log("Message is throttled. Please resend");else{const t=e.senderAttendeeId===this.meetingSession.configuration.credentials.attendeeId;if(e.timestampMs<=this.lastReceivedMessageTimestamp)return;this.lastReceivedMessageTimestamp=e.timestampMs;const r=document.getElementById("receive-message"),i=document.createElement("div");i.classList.add("message-bubble-sender"),i.innerText=e.senderExternalUserId.split("#").slice(-1)[0];const n=document.createElement("div");n.classList.add(t?"message-bubble-self":"message-bubble-other"),n.innerHTML=this.markdown.render(e.text()).replace(/[<]a /g,'<a target="_blank" ');const o=(e,t)=>{for(let r=0;r<e.children.length;r++){const i=e.children[r];i.classList.add(t),o(i,t)}};o(n,"markdown"),this.lastMessageSender!==e.senderAttendeeId&&r.appendChild(i),this.lastMessageSender=e.senderAttendeeId,r.appendChild(n),r.scrollTop=r.scrollHeight}}setupDataMessage(){this.audioVideo.realtimeSubscribeToReceiveDataMessage(j.DATA_MESSAGE_TOPIC,(e=>{this.dataMessageHandler(e)}))}createSpaceSpan(){const e=document.createElement("span");return e.classList.add("transcript-content"),e.innerText="",e}sendJoinRequest(e,t,r,n){return i(this,void 0,void 0,(function*(){let i=`${j.BASE_URL}join?title=${encodeURIComponent(e)}&name=${encodeURIComponent(t)}&region=${encodeURIComponent(r)}`;n&&(i+=`&primaryExternalMeetingId=${n}`),i+=`&ns_es=${this.echoReductionCapability}`;const o=yield fetch(i,{method:"POST"}),s=yield o.json();if(s.error)throw new Error(`Server error: ${s.error}`);return s}))}deleteAttendee(e,t){return i(this,void 0,void 0,(function*(){let r=`${j.BASE_URL}deleteAttendee?title=${encodeURIComponent(e)}&attendeeId=${encodeURIComponent(t)}`;const i=yield fetch(r,{method:"POST"}),n=yield i.json();this.meetingLogger.info(`Delete attendee response: ${JSON.stringify(n)}`)}))}startMediaCapture(){return i(this,void 0,void 0,(function*(){yield fetch(`${j.BASE_URL}startCapture?title=${encodeURIComponent(this.meeting)}`,{method:"POST"})}))}stopMediaCapture(){return i(this,void 0,void 0,(function*(){yield fetch(`${j.BASE_URL}endCapture?title=${encodeURIComponent(this.meeting)}`,{method:"POST"})}))}startLiveConnector(){return i(this,void 0,void 0,(function*(){const e=yield fetch(`${j.BASE_URL}startLiveConnector?title=${encodeURIComponent(this.meeting)}`,{method:"POST"}),t=yield e.json();if(t.error)throw new Error(`Server error: ${t.error}`);return t}))}stopLiveConnector(){return i(this,void 0,void 0,(function*(){yield fetch(`${j.BASE_URL}endLiveConnector?title=${encodeURIComponent(this.meeting)}`,{method:"POST"})}))}endMeeting(){return i(this,void 0,void 0,(function*(){yield fetch(`${j.BASE_URL}end?title=${encodeURIComponent(this.meeting)}`,{method:"POST"})}))}getAttendee(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${j.BASE_URL}attendee?title=${encodeURIComponent(this.meeting)}&attendee=${encodeURIComponent(e)}`),r=yield t.json();if(r.error)throw new Error(`Server error: ${r.error}`);return r}))}setupDeviceLabelTrigger(){this.defaultBrowserBehavior.doesNotSupportMediaDeviceLabels()||this.audioVideo.setDeviceLabelTrigger((()=>i(this,void 0,void 0,(function*(){if(this.isRecorder()||this.isBroadcaster()||this.isViewOnly)throw new Error("Recorder or Broadcaster does not need device labels");this.switchToFlow("flow-need-permission");const e=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0});return this.switchToFlow("flow-devices"),e}))))}populateDeviceList(e,t,r,i){const n=document.getElementById(e);for(;n.firstElementChild;)n.removeChild(n.firstElementChild);for(let e=0;e<r.length;e++){const i=document.createElement("option");n.appendChild(i),i.text=r[e].label||`${t} ${e+1}`,i.value=r[e].label?r[e].deviceId:""}if(i.length>0){const e=document.createElement("option");e.disabled=!0,e.text="",n.appendChild(e);for(const e of i){const t=document.createElement("option");n.appendChild(t),t.text=e,t.value=e}}if(!n.firstElementChild){const e=document.createElement("option");e.text="Device selection unavailable",n.appendChild(e)}}populateVideoPreviewFilterList(e,t,r){const i=document.getElementById(e);for(;i.firstElementChild;)i.removeChild(i.firstElementChild);for(let e=0;e<r.length;e++){const n=document.createElement("option");i.appendChild(n),n.text=r[e]||`${t} ${e+1}`,n.value=r[e]}if(!i.firstElementChild){const e=document.createElement("option");e.text="Filter selection unavailable",i.appendChild(e)}}populateInMeetingDeviceList(e,t,r,i,n,o){const s=document.getElementById(e);for(;s.firstElementChild;)s.removeChild(s.firstElementChild);for(let e=0;e<r.length;e++)this.createDropdownMenuItem(s,r[e].label||`${t} ${e+1}`,(()=>{o(r[e].deviceId)}));if(i.length){this.createDropdownMenuItem(s,"",(()=>{})).classList.add("text-center");for(const t of i)this.createDropdownMenuItem(s,t,(()=>{o(t)}),`${e}-${t.replace(/\s/g,"-")}`)}if(null==n?void 0:n.length){this.createDropdownMenuItem(s,"",(()=>{})).classList.add("text-center");for(const{name:t,oncreate:r,action:i}of n){const n=`toggle-${e}-${t.replace(/\s/g,"-")}`;r(this.createDropdownMenuItem(s,t,i,n))}}s.firstElementChild||this.createDropdownMenuItem(s,"Device selection unavailable",(()=>{}))}createDropdownMenuItem(e,t,r,i){const n=document.createElement("button");return e.appendChild(n),n.innerText=t,n.classList.add("dropdown-item"),this.updateProperty(n,"id",i),n.addEventListener("click",(()=>{r()})),n}populateAllDeviceLists(){return i(this,void 0,void 0,(function*(){yield this.populateAudioInputList(),yield this.populateVideoInputList(),yield this.populateAudioOutputList()}))}selectVideoFilterByName(e){return i(this,void 0,void 0,(function*(){if(this.selectedVideoFilterItem=e,this.log(`clicking video filter ${this.selectedVideoFilterItem}`),this.toggleButton("button-video-filter","None"===this.selectedVideoFilterItem?"off":"on"),this.isButtonOn("button-camera"))try{yield this.openVideoInputFromSelection(this.selectedVideoInput,!1)}catch(e){t.fatal(e),this.log("Failed to choose VideoTransformDevice",e)}}))}stopVideoProcessor(){var e;return i(this,void 0,void 0,(function*(){this.log("Clearing filter variables and stopping the video transform device"),this.chosenVideoFilter="None",this.selectedVideoFilterItem="None",null===(e=this.chosenVideoTransformDevice)||void 0===e||e.stop()}))}getBackgroundBlurSpec(){return Object.assign({paths:R,model:L},F)}populateVideoFilterInputList(e){return i(this,void 0,void 0,(function*(){const t="Filter";let r=["None"];this.areVideoFiltersSupported()&&(r=r.concat(B),p.platformCanSupportBodyPixWithoutDegradation()&&(this.loadingBodyPixDependencyPromise||(this.loadingBodyPixDependencyPromise=p.loadBodyPixDependency(this.loadingBodyPixDependencyTimeoutMs)),this.loadingBodyPixDependencyPromise.then((()=>{r.push("Segmentation"),this.populateFilterList(e,t,r)})).catch((e=>{this.log("Could not load BodyPix dependency",e)}))),this.supportsBackgroundBlur&&(r.push("Background Blur 10% CPU"),r.push("Background Blur 20% CPU"),r.push("Background Blur 30% CPU"),r.push("Background Blur 40% CPU")),this.supportsBackgroundReplacement&&r.push("Background Replacement")),this.populateFilterList(e,t,r)}))}populateFilterList(e,t,r){return i(this,void 0,void 0,(function*(){e?this.populateVideoPreviewFilterList("video-input-filter",t,r):this.populateInMeetingDeviceList("dropdown-menu-filter",t,[],r,void 0,(e=>i(this,void 0,void 0,(function*(){yield this.selectVideoFilterByName(e)}))))}))}populateAudioInputList(){return i(this,void 0,void 0,(function*(){const e="Microphone";let t=["None","440 Hz","Prerecorded Speech","Echo"];const r=[];this.defaultBrowserBehavior.hasFirefoxWebRTC()||t.push("No Audio"),this.enableWebAudio&&this.supportsVoiceFocus&&r.push({name:"Amazon Voice Focus",oncreate:e=>{this.voiceFocusDisplayables.push(e)},action:()=>this.toggleVoiceFocusInMeeting()}),void 0!==this.primaryExternalMeetingId&&0!==this.primaryExternalMeetingId.length||r.push({name:"Live Transcription",oncreate:e=>{this.liveTranscriptionDisplayables.push(e)},action:()=>this.toggleLiveTranscription()}),this.populateDeviceList("audio-input",e,yield this.audioVideo.listAudioInputDevices(),t),this.usingStereoMusicAudioProfile&&(t=t.concat(["L-500Hz R-1000Hz","Prerecorded Speech (Stereo)"])),this.populateInMeetingDeviceList("dropdown-menu-microphone",e,yield this.audioVideo.listAudioInputDevices(),t,r,(e=>i(this,void 0,void 0,(function*(){yield this.selectAudioInputDeviceByName(e)}))))}))}areVideoFiltersSupported(){return this.defaultBrowserBehavior.supportsCanvasCapturedStreamPlayback()}isVoiceFocusActive(){return this.currentAudioInputDevice instanceof o.VoiceFocusTransformDevice}updateVoiceFocusDisplayState(){const e=this.isVoiceFocusActive();this.log("Updating Amazon Voice Focus display state:",e);for(const t of this.voiceFocusDisplayables)t.classList.toggle("vf-active",e)}isVoiceFocusEnabled(){return this.log("VF supported:",this.supportsVoiceFocus),this.log("VF enabled:",this.enableVoiceFocus),this.supportsVoiceFocus&&this.enableVoiceFocus}reselectAudioInputDevice(){return i(this,void 0,void 0,(function*(){const e=this.currentAudioInputDevice;if(e instanceof o.VoiceFocusTransformDevice){const t=e.getInnerDevice(),r=yield this.audioInputSelectionWithOptionalVoiceFocus(t);return this.selectAudioInputDevice(r)}if(o.isAudioTransformDevice(e))return this.selectAudioInputDevice(e);const t=yield this.audioInputSelectionWithOptionalVoiceFocus(e);return this.selectAudioInputDevice(t)}))}toggleVoiceFocusInMeeting(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("add-voice-focus");this.enableVoiceFocus=this.supportsVoiceFocus&&!this.enableVoiceFocus,e.checked=this.enableVoiceFocus,this.log("Amazon Voice Focus toggle is now",e.checked),yield this.reselectAudioInputDevice()}))}updateLiveTranscriptionDisplayState(){this.log("Updating live transcription display state to:",this.enableLiveTranscription);for(const e of this.liveTranscriptionDisplayables)e.classList.toggle("live-transcription-active",this.enableLiveTranscription)}toggleLiveTranscription(){return i(this,void 0,void 0,(function*(){if(this.log("live transcription were previously set to "+this.enableLiveTranscription+"; attempting to toggle"),this.enableLiveTranscription){const e=yield fetch(`${j.BASE_URL}${encodeURIComponent("stop_transcription")}?title=${encodeURIComponent(this.meeting)}`,{method:"POST"}),t=yield e.json();if(t.error)throw new Error(`Server error: ${t.error}`)}else document.getElementById("live-transcription-modal").style.display="block"}))}populateVideoInputList(){return i(this,void 0,void 0,(function*(){const e="Camera",r=["None","Blue","SMPTE Color Bars"];this.populateDeviceList("video-input",e,yield this.audioVideo.listVideoInputDevices(),r),this.populateInMeetingDeviceList("dropdown-menu-camera",e,yield this.audioVideo.listVideoInputDevices(),r,void 0,(e=>i(this,void 0,void 0,(function*(){try{this.meetingSession.audioVideo.hasStartedLocalVideoTile()?yield this.openVideoInputFromSelection(e,!1):this.selectedVideoInput=e}catch(e){t.fatal(e)}}))));const n=yield this.audioVideo.listVideoInputDevices();this.cameraDeviceIds=n.map((e=>e.deviceId))}))}populateAudioOutputList(){return i(this,void 0,void 0,(function*(){const e=this.defaultBrowserBehavior.supportsSetSinkId(),r="Speaker",n=[],o=e?yield this.audioVideo.listAudioOutputDevices():[];this.populateDeviceList("audio-output",r,o,n),this.populateInMeetingDeviceList("dropdown-menu-speaker",r,o,n,void 0,(r=>i(this,void 0,void 0,(function*(){if(e)try{yield this.chooseAudioOutput(r)}catch(e){t.fatal(e),this.log("Failed to chooseAudioOutput",e)}}))))}))}chooseAudioOutput(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById("content-share-video");this.defaultBrowserBehavior.supportsSetSinkId()&&t.setSinkId(e),yield this.audioVideo.chooseAudioOutput(e)}))}selectedAudioInput(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("audio-input");return yield this.audioInputSelectionToDevice(e.value)}))}selectAudioInputDevice(e){return i(this,void 0,void 0,(function*(){this.currentAudioInputDevice=e,this.log("Selecting audio input",e);try{yield this.audioVideo.startAudioInput(e)}catch(r){t.fatal(r),this.log(`failed to choose audio input device ${e}`,r)}this.updateVoiceFocusDisplayState()}))}selectAudioInputDeviceByName(e){return i(this,void 0,void 0,(function*(){this.log("Selecting audio input device by name:",e);const t=yield this.audioInputSelectionToDevice(e);return this.selectAudioInputDevice(t)}))}openAudioInputFromSelection(){return i(this,void 0,void 0,(function*(){const e=yield this.selectedAudioInput();yield this.selectAudioInputDevice(e)}))}openAudioInputFromSelectionAndPreview(){return i(this,void 0,void 0,(function*(){yield this.stopAudioPreview(),yield this.openAudioInputFromSelection(),this.log("Starting audio preview."),yield this.startAudioPreview()}))}setAudioPreviewPercent(e){const t=document.getElementById("audio-preview");t&&(this.updateProperty(t.style,"transitionDuration","33ms"),this.updateProperty(t.style,"width",`${e}%`),t.getAttribute("aria-valuenow")!==`${e}`&&t.setAttribute("aria-valuenow",`${e}`))}stopAudioPreview(){return i(this,void 0,void 0,(function*(){this.analyserNode&&(this.analyserNodeCallback=void 0,this.analyserNode.disconnect(),this.analyserNode.removeOriginalInputs(),this.analyserNode=void 0)}))}startAudioPreview(){this.setAudioPreviewPercent(0),this.analyserNode&&(this.analyserNode.disconnect(),this.analyserNode.removeOriginalInputs(),this.analyserNode=void 0);const e=this.audioVideo.createAnalyserNodeForAudioInput();if(!e)return;if(!e.getByteTimeDomainData)return void(document.getElementById("audio-preview").parentElement.style.visibility="hidden");this.analyserNode=e;const t=new Uint8Array(e.fftSize);let r=0;this.analyserNodeCallback=()=>{if(0===r){e.getByteTimeDomainData(t);const r=.01;let i=r;for(const e of t)i=Math.max(i,(e-128)/128);let n=(Math.log(r)-Math.log(i))/Math.log(r),o=Math.min(Math.max(100*n,0),100);this.setAudioPreviewPercent(o)}r=(r+1)%2,this.analyserNodeCallback&&requestAnimationFrame(this.analyserNodeCallback)},requestAnimationFrame(this.analyserNodeCallback)}openAudioOutputFromSelection(){return i(this,void 0,void 0,(function*(){if(this.defaultBrowserBehavior.supportsSetSinkId())try{const e=document.getElementById("audio-output");yield this.chooseAudioOutput(e.value)}catch(e){t.fatal(e),this.log("failed to chooseAudioOutput",e)}const e=document.getElementById("meeting-audio");try{yield this.audioVideo.bindAudioElement(e)}catch(e){t.fatal(e),this.log("failed to bindAudioElement",e)}}))}openVideoInputFromSelection(e,r){return i(this,void 0,void 0,(function*(){this.selectedVideoInput=e,this.log(`Switching to: ${this.selectedVideoInput}`);const i=yield this.videoInputSelectionToDevice(this.selectedVideoInput);if(null===i){try{yield this.audioVideo.stopVideoInput()}catch(e){t.fatal(e),this.log("failed to stop video input",e)}if(this.log("no video device selected"),r){const e=document.getElementById("video-preview");yield this.audioVideo.stopVideoPreviewForVideoInput(e)}}else{try{yield this.audioVideo.startVideoInput(i)}catch(e){t.fatal(e),this.log(`failed to start video input ${i}`,e)}if(r){const e=document.getElementById("video-preview");this.audioVideo.startVideoPreviewForVideoInput(e)}}}))}audioInputSelectionToIntrinsicDevice(e){return i(this,void 0,void 0,(function*(){if(this.isRecorder()||this.isBroadcaster())return null;if("440 Hz"===e)return o.DefaultDeviceController.synthesizeAudioDevice(440);if("L-500Hz R-1000Hz"===e)return new v.SynthesizedStereoMediaStreamProvider(500,1e3).getMediaStream();if("Prerecorded Speech"===e)return new v.AudioBufferMediaStreamProvider("audio_file").getMediaStream();if("Prerecorded Speech (Stereo)"===e)return new v.AudioBufferMediaStreamProvider("stereo_audio_file",!0).getMediaStream();if("Echo"===e)try{const e=yield this.audioVideo.getCurrentMeetingAudioStream(),t=o.DefaultDeviceController.getAudioContext(),r=t.createMediaStreamDestination(),i=t.createMediaStreamSource(e),n=t.createDelay(.05),s=t.createGain();return s.gain.value=.8,i.connect(n),n.connect(s),s.connect(r),r.stream}catch(e){return this.log("Error creating Echo"),null}return"No Audio"===e?o.DefaultDeviceController.getAudioContext().createMediaStreamDestination().stream:"None"===e||""===e?null:e}))}getVoiceFocusDeviceTransformer(e){return i(this,void 0,void 0,(function*(){if(this.voiceFocusTransformer)return this.voiceFocusTransformer;const t=new o.ConsoleLogger("SDK",o.LogLevel.DEBUG),r=M(this.joinInfo),i=yield o.VoiceFocusDeviceTransformer.configure(r,{logger:t});let n;return e&&i.supported&&function(t){const r=Number.parseInt(e.substring(1),10);return Number.parseInt(t.substring(1),10)>r}(i.model.variant)?(t.info(`Downgrading VF to ${e}`),r.variant=e,n=o.VoiceFocusDeviceTransformer.create(r,{logger:t},void 0,this.joinInfo)):n=o.VoiceFocusDeviceTransformer.create(r,{logger:t},i,this.joinInfo),this.voiceFocusTransformer=yield n}))}createVoiceFocusDevice(e){return i(this,void 0,void 0,(function*(){if(!this.supportsVoiceFocus)return e;if(this.voiceFocusDevice)return this.voiceFocusDevice=yield this.voiceFocusDevice.chooseNewInnerDevice(e);try{const t=yield this.getVoiceFocusDeviceTransformer(A),r=yield t.createTransformDevice(e);if(r)return yield r.observeMeetingAudio(this.audioVideo),this.voiceFocusDevice=r}catch(e){}return e}))}audioInputSelectionWithOptionalVoiceFocus(e){return i(this,void 0,void 0,(function*(){return this.isVoiceFocusEnabled()?this.voiceFocusDevice?this.voiceFocusDevice=yield this.voiceFocusDevice.chooseNewInnerDevice(e):this.createVoiceFocusDevice(e):e}))}audioInputSelectionToDevice(e){return i(this,void 0,void 0,(function*(){const t=yield this.audioInputSelectionToIntrinsicDevice(e);return this.audioInputSelectionWithOptionalVoiceFocus(t)}))}videoInputSelectionToIntrinsicDevice(e){return"Blue"===e?m.default.create("blue"):"SMPTE Color Bars"===e?m.default.create("smpte"):e}videoFilterToProcessor(e){return i(this,void 0,void 0,(function*(){if(this.log(`Choosing video filter ${e}`),"Emojify"===e)return new d.default("");if("CircularCut"===e)return new l.default;if("NoOp"===e)return new o.NoOpVideoFrameProcessor;if("Segmentation"===e)return new u.default;if("Resize (9/16)"===e)return new h.default(.5625);if(e.startsWith("Background Blur")){this.blurObserver={filterFrameDurationHigh:e=>{this.log(`background filter duration high: framed dropped - ${e.framesDropped}, avg - ${e.avgFilterDurationMillis} ms, frame rate - ${e.framerate}, period - ${e.periodMillis} ms`)},filterCPUUtilizationHigh:e=>{this.log(`background filter CPU utilization high: ${e.cpuUtilization}%`)}};const t=Number(e.match(/([0-9]{2})%/)[1]);return this.blurProcessor=yield o.BackgroundBlurVideoFrameProcessor.create(this.getBackgroundBlurSpec(),{filterCPUUtilization:t}),this.blurProcessor.addObserver(this.blurObserver),this.blurProcessor}return e.startsWith("Background Replacement")?(this.replacementObserver={filterFrameDurationHigh:e=>{this.log(`background filter duration high: framed dropped - ${e.framesDropped}, avg - ${e.avgFilterDurationMillis} ms, frame rate - ${e.framerate}, period - ${e.periodMillis} ms`)}},this.replacementProcessor=yield o.BackgroundReplacementVideoFrameProcessor.create(this.getBackgroundBlurSpec(),yield this.getBackgroundReplacementOptions()),this.replacementProcessor.addObserver(this.replacementObserver),this.replacementProcessor):null}))}videoInputSelectionWithOptionalFilter(e){return i(this,void 0,void 0,(function*(){if("None"===this.selectedVideoFilterItem)return e;if(this.chosenVideoTransformDevice&&this.selectedVideoFilterItem===this.chosenVideoFilter)return this.chosenVideoTransformDevice.getInnerDevice()!==e&&(this.chosenVideoTransformDevice=this.chosenVideoTransformDevice.chooseNewInnerDevice(e)),this.chosenVideoTransformDevice;this.chosenVideoTransformDevice&&(yield this.chosenVideoTransformDevice.stop());const t=yield this.videoFilterToProcessor(this.selectedVideoFilterItem);return this.chosenVideoFilter=this.selectedVideoFilterItem,this.chosenVideoTransformDevice=new o.DefaultVideoTransformDevice(this.meetingLogger,e,[t]),this.chosenVideoTransformDevice}))}videoInputSelectionToDevice(e){return i(this,void 0,void 0,(function*(){if(this.isRecorder()||this.isBroadcaster()||"None"===e||null===e)return null;const t=this.videoInputSelectionToIntrinsicDevice(e);return yield this.videoInputSelectionWithOptionalFilter(t)}))}isRecorder(){return"true"===new URL(window.location.href).searchParams.get("record")}isBroadcaster(){return"true"===new URL(window.location.href).searchParams.get("broadcast")}isAbortingOnReconnect(){return"true"===new URL(window.location.href).searchParams.get("abort-on-reconnect")}authenticate(){return i(this,void 0,void 0,(function*(){this.joinInfo=(yield this.sendJoinRequest(this.meeting,this.name,this.region,this.primaryExternalMeetingId)).JoinInfo,this.region=this.joinInfo.Meeting.Meeting.MediaRegion;const e=new o.MeetingSessionConfiguration(this.joinInfo.Meeting,this.joinInfo.Attendee);yield this.initializeMeetingSession(e),this.primaryExternalMeetingId=this.joinInfo.PrimaryExternalMeetingId;const t=new URL(window.location.href);return t.searchParams.set("m",this.meeting),history.replaceState({},`${this.meeting}`,t.toString()),e.meetingId}))}log(e,...t){console.log.apply(console,[`[DEMO] ${e}`,...t])}audioVideoDidStartConnecting(e){this.log(`session connecting. reconnecting: ${e}`),e&&this.isAbortingOnReconnect()&&t.fatal(Error("reconnect occured with abort-on-reconnect set to true"))}audioVideoDidStart(){this.log("session started")}audioVideoDidStop(e){if(this.log(`session stopped from ${JSON.stringify(e)}`),"nothing"===this.behaviorAfterLeave)return;this.log("resetting stats"),this.resetStats();const t=()=>{switch(this.behaviorAfterLeave){case"spa":this.switchToFlow("flow-authenticate");break;case"reload":window.location.href=window.location.pathname;break;case"halt":setTimeout((()=>{window.app=void 0,window.app_meetingV2=void 0,window.webpackHotUpdateapp_meetingV2=void 0,document.getElementsByTagName("body")[0].innerHTML="<b>Gone</b>",this.removeFatalHandlers()}),2e3)}},r=()=>i(this,void 0,void 0,(function*(){var e,t,r,n,s,a,c,l;this.audioVideo.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerHandler),this.audioVideo.realtimeUnsubscribeToAttendeeIdPresence(this.attendeeIdPresenceHandler),null===(e=this.audioVideo.transcriptionController)||void 0===e||e.unsubscribeFromTranscriptEvent(this.transcriptEventHandler),this.audioVideo.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.muteAndUnmuteLocalAudioHandler),this.audioVideo.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.canUnmuteLocalAudioHandler),this.audioVideo.realtimeUnsubscribeFromReceiveDataMessage(j.DATA_MESSAGE_TOPIC),this.audioVideo.removeDeviceChangeObserver(this),this.audioVideo.stopLocalVideoTile(),yield this.contentShare.stop(),this.audioVideo.unbindAudioElement(),yield this.deviceController.destroy(),null===(t=this.blurProcessor)||void 0===t||t.removeObserver(this.blurObserver),null===(r=this.replacementProcessor)||void 0===r||r.removeObserver(this.replacementObserver),yield null===(n=this.chosenVideoTransformDevice)||void 0===n?void 0:n.stop(),yield null===(s=this.voiceFocusDevice)||void 0===s?void 0:s.stop(),setTimeout((()=>i(this,void 0,void 0,(function*(){var e,t;yield null===(e=this.meetingEventPOSTLogger)||void 0===e?void 0:e.destroy(),yield null===(t=this.meetingSessionPOSTLogger)||void 0===t?void 0:t.destroy()}))),500),o.isDestroyable(this.eventReporter)&&(null===(a=this.eventReporter)||void 0===a||a.destroy()),yield null===(c=this.blurProcessor)||void 0===c?void 0:c.destroy(),yield null===(l=this.replacementProcessor)||void 0===l?void 0:l.destroy(),this.audioVideo=void 0,this.voiceFocusDevice=void 0,this.meetingSession=void 0,this.activeSpeakerHandler=void 0,this.currentAudioInputDevice=void 0,this.eventReporter=void 0,this.blurProcessor=void 0,this.replacementProcessor=void 0})),n=()=>i(this,void 0,void 0,(function*(){yield r(),t()}));return e.statusCode()===o.MeetingSessionStatusCode.MeetingEnded?(this.log("meeting ended"),void n()):e.statusCode()===o.MeetingSessionStatusCode.Left?(this.log("left meeting"),void n()):void 0}audioVideoWasDemotedFromPrimaryMeeting(e){const t=`Was demoted from primary meeting with status ${e.toString()}`;this.log(t),this.updateUXForReplicaMeetingPromotionState("demoted");const r=document.getElementById("toast-container"),i=document.createElement("meeting-toast");r.appendChild(i),i.message=t,i.addButton("Retry Promotion",(()=>{this.promoteToPrimaryMeeting()})),i.show()}videoAvailabilityDidChange(e){const t=this.canStartLocalVideo!==e.canStartLocalVideo;this.canStartLocalVideo=e.canStartLocalVideo,this.log(`video availability changed: canStartLocalVideo  ${e.canStartLocalVideo}`),t&&!this.meetingSession.audioVideo.hasStartedLocalVideoTile()&&(this.canStartLocalVideo?this.enableLocalVideoButton(!0,"You can now enable local video in conference."):this.enableLocalVideoButton(!1,"Can no longer enable local video in conference."))}enableLocalVideoButton(e,t=""){if(this.toggleButton("button-camera",e?"off":"disabled"),t){const e=document.getElementById("toast-container"),r=document.createElement("meeting-toast");e.appendChild(r),r.message=t,r.show()}}redirectFromAuthentication(e=!1){switch(this.meeting=document.getElementById("inputMeeting").value,this.name=document.getElementById("inputName").value,this.region=document.getElementById("inputRegion").value,this.enableSimulcast=document.getElementById("simulcast").checked,this.enableEventReporting=document.getElementById("event-reporting").checked,this.deleteOwnAttendeeToLeave=document.getElementById("delete-attendee").checked,this.enableWebAudio=document.getElementById("webaudio").checked,this.usePriorityBasedDownlinkPolicy=document.getElementById("priority-downlink-policy").checked,this.echoReductionCapability=document.getElementById("echo-reduction-capability").checked,this.primaryExternalMeetingId=document.getElementById("primary-meeting-external-id").value,document.getElementById("logLevelSelect").value){case"info":this.logLevel=o.LogLevel.INFO;break;case"debug":this.logLevel=o.LogLevel.DEBUG;break;case"warn":this.logLevel=o.LogLevel.WARN;break;case"error":this.logLevel=o.LogLevel.ERROR;break;default:this.logLevel=o.LogLevel.OFF}switch(document.getElementById("videoCodecSelect").value){case"vp8":this.videoCodecPreferences=[o.VideoCodecCapability.vp8()];break;case"h264ConstrainedBaselineProfile":this.videoCodecPreferences=[o.VideoCodecCapability.h264ConstrainedBaselineProfile(),o.VideoCodecCapability.vp8()]}o.AsyncScheduler.nextTick((()=>i(this,void 0,void 0,(function*(){let r="";this.showProgress("progress-authenticate");try{r=yield this.authenticate()}catch(e){console.error(e);const t="UserMedia is not allowed in HTTP sites. Either use HTTPS or enable media capture on insecure sites.";return document.getElementById("failed-meeting").innerText=`Meeting ID: ${this.meeting}`,document.getElementById("failed-meeting-error").innerText="http:"===window.location.protocol?t:e.message,void this.switchToFlow("flow-failed-meeting")}if(document.getElementById("meeting-id").innerText=`${this.meeting} (${this.region})`,document.getElementById("chime-meeting-id").innerText=`Meeting ID: ${r}`,document.getElementById("mobile-chime-meeting-id").innerText=`Meeting ID: ${r}`,document.getElementById("mobile-attendee-id").innerText=`Attendee ID: ${this.meetingSession.configuration.credentials.attendeeId}`,document.getElementById("desktop-attendee-id").innerText=`Attendee ID: ${this.meetingSession.configuration.credentials.attendeeId}`,document.getElementById("info-meeting").innerText=this.meeting,document.getElementById("info-name").innerText=this.name,this.isViewOnly)return this.updateUXForViewOnlyMode(),void(yield this.skipDeviceSelection(!1));if(yield this.initVoiceFocus(),yield this.initBackgroundBlur(),yield this.initBackgroundReplacement(),yield this.populateAllDeviceLists(),yield this.populateVideoFilterInputList(!1),yield this.populateVideoFilterInputList(!0),this.enableSimulcast){const e=document.getElementById("video-input-quality");e.value="720p",this.audioVideo.chooseVideoInputQuality(1280,720,15),e.disabled=!0}const i=document.getElementById("button-promote-to-primary");if(this.primaryExternalMeetingId?(this.setButtonVisibility("button-record-cloud",!1),this.updateUXForReplicaMeetingPromotionState("demoted")):i.style.display="none",e)return yield this.skipDeviceSelection(),void this.displayButtonStates();this.switchToFlow("flow-devices"),yield this.openAudioInputFromSelectionAndPreview();try{yield this.openVideoInputFromSelection(document.getElementById("video-input").value,!0)}catch(e){t.fatal(e)}yield this.openAudioOutputFromSelection(),this.hideProgress("progress-authenticate"),document.getElementById("preconnect").checked&&this.audioVideo.start({signalingOnly:!0})}))))}skipDeviceSelection(e=!0){return i(this,void 0,void 0,(function*(){e&&(yield this.openAudioInputFromSelection()),yield this.openAudioOutputFromSelection(),yield this.join(),this.switchToFlow("flow-meeting"),this.hideProgress("progress-authenticate")}))}allowMaxContentShare(){return!("true"!==new URL(window.location.href).searchParams.get("max-content-share"))}connectionDidBecomePoor(){this.log("connection is poor")}connectionDidSuggestStopVideo(){this.log("suggest turning the video off")}connectionDidBecomeGood(){this.log("connection is good now")}videoSendDidBecomeUnavailable(){this.log("sending video is not available"),this.enableLocalVideoButton(!1,"Cannot enable local video due to call being at capacity")}contentShareDidStart(){this.toggleButton("button-content-share","on")}contentShareDidStop(){this.toggleButton("button-content-share","off")}encodingSimulcastLayersDidChange(e){this.log(`current active simulcast layers changed to: ${N[e]}`)}tileWillBePausedByDownlinkPolicy(e){this.log(`Tile ${e} will be paused due to insufficient bandwidth`),this.videoTileCollection.bandwidthConstrainedTiles.add(e)}tileWillBeUnpausedByDownlinkPolicy(e){this.log(`Tile ${e} will be resumed due to sufficient bandwidth`),this.videoTileCollection.bandwidthConstrainedTiles.delete(e)}}t.DemoMeetingApp=j,j.DID="+17035550122",j.BASE_URL=[location.protocol,"//",location.host,location.pathname.replace(/\/*$/,"/").replace("/v2","")].join(""),j.testVideo="https://upload.wikimedia.org/wikipedia/commons/transcoded/c/c0/Big_Buck_Bunny_4K.webm/Big_Buck_Bunny_4K.webm.360p.vp9.webm",j.MAX_MEETING_HISTORY_MS=3e5,j.DATA_MESSAGE_TOPIC="chat",j.DATA_MESSAGE_LIFETIME_MS=3e5,j.REMOTE_VIDEO_PAGE_SIZE=25,j.REDUCED_REMOTE_VIDEO_PAGE_SIZE=2,window.addEventListener("load",(()=>{new j})),window.addEventListener("click",(e=>{const t=document.getElementById("live-transcription-modal");e.target===t&&(t.style.display="none")}))},9610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPOSTLogger=void 0;const i=r(2388);t.getPOSTLogger=function(e,t,r,n){const o={url:r,logLevel:n,metadata:{appName:t,meetingId:e.meetingId,attendeeId:e.credentials.attendeeId}};return new i.POSTLogger(o)}},4735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(5169);class n extends HTMLElement{constructor(){super(...arguments),this.innerHTMLToInject='\n    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000">\n      <div class="toast-body">\n        <p class="toast-message"></p>\n        <div class="mt-2 pt-2 border-top button-container">\n          <button type="button" class="close-button btn btn-secondary btn-sm">Close</button>\n        </div>\n      </div>\n    </div>\n  '}set message(e){this.querySelector(".toast-message").innerHTML=e}set delay(e){this.querySelector(".toast").setAttribute("data-delay",e)}addButton(e,t){let r=document.createElement("button");r.classList.add("btn"),r.classList.add("btn-primary"),r.classList.add("btn-sm"),r.innerHTML=e,r.addEventListener("click",t),this.querySelector(".button-container").appendChild(r)}show(){const e=this.querySelector(".toast");new i.Toast(e).show()}hide(){const e=this.querySelector(".toast");new i.Toast(e).hide()}connectedCallback(){this.innerHTML=this.innerHTMLToInject,this.className="meeting-toast",this.querySelector(".close-button").addEventListener("click",(()=>{this.hide()}))}}t.default=n,customElements.define("meeting-toast",n)},661:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MergedMediaStreamProvider=t.VideoTransformDeviceMediaStreamProvider=t.FileMediaStreamProvider=t.ScreenShareMediaStreamProvider=t.AudioGainMediaStreamProvider=t.SynthesizedStereoMediaStreamProvider=t.AudioBufferMediaStreamProvider=void 0;const n=r(2388);t.AudioBufferMediaStreamProvider=class{constructor(e,t=!1){this.audioPath=e,this.shouldLoop=t,this.mediaElementSource=void 0}getMediaStream(){return i(this,void 0,void 0,(function*(){try{const e=yield fetch(this.audioPath),t=yield e.arrayBuffer(),r=new TextDecoder("utf8").decode(t),i=new Audio("data:audio/mpeg;base64,"+r);i.loop=this.shouldLoop,i.crossOrigin="anonymous",i.play(),this.mediaElementSource=i;const n=new(window.AudioContext||window.webkitAudioContext),o=n.createMediaStreamDestination();return n.createMediaElementSource(i).connect(o),o.stream}catch(e){return console.log(`Error fetching audio from ${this.audioPath}: ${e}`),null}}))}pause(){this.mediaElementSource.pause()}resume(){this.mediaElementSource.play()}},t.SynthesizedStereoMediaStreamProvider=class{constructor(e,t){this.toneHzLeft=e,this.toneHzRight=t,this.mediaElementSource=void 0}getMediaStream(){return i(this,void 0,void 0,(function*(){const e=n.DefaultDeviceController.getAudioContext(),t=e.createMediaStreamDestination(),r=e.createGain();r.gain.value=.1,r.connect(t);const i=e.createOscillator();i.frequency.value=this.toneHzLeft;const o=e.createOscillator();o.frequency.value=this.toneHzRight;const s=e.createChannelMerger(2);return i.connect(s,0,0),o.connect(s,0,1),s.connect(r),i.start(),o.start(),t.stream}))}pause(){}resume(){}},t.AudioGainMediaStreamProvider=class{constructor(e,t){this.streamProvider=e,this.gain=t,this.context=new AudioContext}getMediaStream(){return i(this,void 0,void 0,(function*(){const e=yield this.streamProvider.getMediaStream();var t=this.context.createMediaStreamSource(e),r=this.context.createMediaStreamDestination(),i=this.context.createGain();i.gain.value=this.gain,t.connect(i),i.connect(r);for(const t of e.getVideoTracks())r.stream.addTrack(t);return r.stream}))}pause(){this.streamProvider.pause()}resume(){this.streamProvider.resume()}},t.ScreenShareMediaStreamProvider=class{constructor(e){this.framerate=e,this.mediaStream=void 0}getMediaStream(){return i(this,void 0,void 0,(function*(){return void 0!==this.mediaStream?Promise.resolve(this.mediaStream):(this.mediaStream=navigator.mediaDevices.getDisplayMedia({audio:!0,video:{frameRate:{max:this.framerate}}}),this.mediaStream)}))}pause(){}resume(){}},t.FileMediaStreamProvider=class{constructor(e){this.mediaElementSource=void 0,this.mediaElementSource=document.getElementById("content-share-video"),this.mediaElementSource.src=e}getMediaStream(){return i(this,void 0,void 0,(function*(){return this.playToStream(this.mediaElementSource)}))}playToStream(e){return i(this,void 0,void 0,(function*(){return yield e.play(),(new n.DefaultBrowserBehavior).hasFirefoxWebRTC()?e.mozCaptureStream():e.captureStream()}))}pause(){this.mediaElementSource.pause()}resume(){this.mediaElementSource.play()}},t.VideoTransformDeviceMediaStreamProvider=class{constructor(e,t){this.streamProvider=e,this.transformDevice=t}getMediaStream(){return i(this,void 0,void 0,(function*(){return this.transformDevice.transformStream(yield this.streamProvider.getMediaStream())}))}pause(){this.streamProvider.pause()}resume(){this.streamProvider.resume()}},t.MergedMediaStreamProvider=class{constructor(e,t){this.audioStream=e,this.videoStream=t,this.outputStream=new MediaStream}getMediaStream(){return i(this,void 0,void 0,(function*(){for(const e of(yield this.videoStream.getMediaStream()).getVideoTracks())console.log(`Adding video track ${e.id} to merged media stream`),this.outputStream.addTrack(e.clone());for(const e of(yield this.audioStream.getMediaStream()).getAudioTracks())console.log(`Adding audio track ${e.id} to merged media stream`),this.outputStream.addTrack(e.clone());return Promise.resolve(this.outputStream)}))}pause(){this.audioStream.pause(),this.videoStream.pause()}resume(){this.audioStream.resume(),this.videoStream.resume()}}},5279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.pageSize=e,this.currentPageStart=0,this.all=new Array}currentPage(){return this.all.slice(this.currentPageStart,this.currentPageStart+this.pageSize)}add(e){this.all.includes(e)||this.all.push(e)}remove(e){this.all.splice(this.all.indexOf(e))}removeIf(e){const t=this.all.findIndex(e);-1!==t&&this.all.splice(t)}hasNextPage(){return this.currentPageStart+this.pageSize<this.all.length}nextPage(){this.hasNextPage&&(this.currentPageStart+=this.pageSize)}hasPreviousPage(){return this.currentPageStart-this.pageSize>=0}previousPage(){this.currentPageStart-=this.pageSize}}},63:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2388);t.default=class{static create(e){const t=document.createElement("canvas");t.width=480,t.height=t.width/16*9;const r=function(e,t){const r=new i.IntervalScheduler(1e3),n=e.getContext("2d"),o=e.captureStream(5)||null;if(!o)return;r.start((()=>{"smpte"===t?function(e,t){const r=e.width,i=e.height,n=2*i/3,o=3*i/4,s=i,a=["#c0c0c0","#c0c000","#00c0c0","#00c000","#c000c0","#c00000","#0000c0"],c=["#0000c0","#000000","#c000c0","#000000","#00c0c0","#000000","#c0c0c0"],l=["#00214c","#ffffff","#32006a","#131313","#090909","#131313","#1d1d1d","#131313"],d=[0*r,1*r/4*(5/7),2*r/4*(5/7),3*r/4*(5/7),r*(5/7),r*(5/7+1/21),r*(5/7+2/21),r*(6/7),1*r],u=r/a.length,h=e.getContext("2d");for(let e=0;e<a.length;e++)h.fillStyle=a[e],h.fillRect(0+e*u,0,u,n),h.fillStyle=c[e],h.fillRect(0+e*u,n,u,o-n);for(let e=0;e<l.length;e++)h.fillStyle=l[e],h.fillRect(0+d[e],o,d[e+1]-d[e],s-o)}(e):(n.fillStyle=t,n.fillRect(0,0,e.width,e.height))}));const s=()=>{r.stop()};return o.getVideoTracks()[0].addEventListener("ended",s),{listener:s,scheduler:r,stream:o}}(t,e);if(!r)return null;const{stream:n}=r;return n}}},4986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2388);class n{constructor(e,t){this.logger=e,this.downlinkPolicy=t,this.attendeeIdToVideoPreference=new Map,this.priorityBasedDownlinkPolicy=null,this._visibleAttendees=new Array}set visibleAttendees(e){this._visibleAttendees=e,this.updateDownlinkPreference()}ensureDefaultPreferences(e){this.logger.info(`Available remote video sources changed: ${JSON.stringify(e)}`);for(const t of e)this.attendeeIdToVideoPreference.has(t.attendee.attendeeId)||this.attendeeIdToVideoPreference.set(t.attendee.attendeeId,new i.VideoPreference(t.attendee.attendeeId,n.DefaultVideoTilePriority,n.DefaultVideoTileTargetDisplaySize))}setAttendeeTargetDisplaySize(e,t){this.attendeeIdToVideoPreference.has(e)?this.attendeeIdToVideoPreference.get(e).targetSize=t:this.attendeeIdToVideoPreference.set(e,new i.VideoPreference(e,n.DefaultVideoTilePriority,t)),this.updateDownlinkPreference()}setAttendeePriority(e,t){this.attendeeIdToVideoPreference.has(e)?this.attendeeIdToVideoPreference.get(e).priority=t:this.attendeeIdToVideoPreference.set(e,new i.VideoPreference(e,t,n.DefaultVideoTileTargetDisplaySize)),this.updateDownlinkPreference()}updateDownlinkPreference(){if(0===this.attendeeIdToVideoPreference.size)return void this.logger.info("No video preferences set yet, not updating");const e=i.VideoPreferences.prepare();for(const[t,r]of this.attendeeIdToVideoPreference.entries())this._visibleAttendees.includes(t)&&e.add(r);this.downlinkPolicy.chooseRemoteVideoSources(e.build())}}t.default=n,n.DefaultVideoTilePriority=5,n.DefaultVideoTileTargetDisplaySize=i.TargetDisplaySize.High},1641:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DemoVideoTile=void 0;class n extends HTMLElement{constructor(){super(...arguments),this.innerHTMLToInject='\n  <video class="video-tile-video"></video>\n  <div class="video-tile-attendee-id"></div>\n  <div class="video-tile-nameplate"></div>\n  <div class="video-tile-pause-state"></div>\n  <div class="button-video-tile-config" role="group">\n    <button type="button" class="btn btn-success dropdown-toggle button-video-tile-config-drop" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Video Tile Settings"><%= require(\'../../../node_modules/open-iconic/svg/cog.svg\') %></button>\n    <div class="dropdown-menu dropdown-menu-end dropdown-video-tile-config" aria-labelledby="button-video-tile-config-drop" style="position: absolute; transform: translate3d(0px, 38px, 0px); top: 0px; left: 0px; will-change: transform;">\n      <a class="dropdown-item video-tile-pause">Pause</a>\n      <div class="dropdown-divider"></div>\n      <h6 class="dropdown-header target-resolution-header">Target Resolution</h6>\n      <form class="btn-group video-tile-config-toggle target-resolution-toggle" role="group">\n        <input type="radio" class="btn-check" name="level" value="low" id="resolution-low">\n        <label class="btn btn-secondary" id="resolution-low-label" for="low">Low</label>\n        <input type="radio" class="btn-check" name="level" value="medium" id="resolution-medium">\n        <label class="btn btn-secondary" id="resolution-medium-label" for="medium">Medium</label>\n        <input type="radio" class="btn-check" name="level" value="high" id="resolution-high" checked>\n        <label class="btn btn-secondary" id="resolution-high-label" for="high">High</label>\n      </form>\n      <h6 class="dropdown-header video-priority-header">Video Priority</h6>\n      <form class="btn-group video-tile-config-toggle video-priority-toggle">\n        <input type="radio" class="btn-check" name="level" value="low" id="priority-low">\n        <label class="btn btn-secondary" id="priority-low-label" for="low">Low</label>\n        <input type="radio" class="btn-check" name="level" value="medium" id="priority-medium" checked>\n        <label class="btn btn-secondary" id="priority-medium-label" for="medium">Medium</label>\n        <input type="radio" class="btn-check" name="level" value="high" id="priority-high">\n        <label class="btn btn-secondary" id="priority-high-label" for="high">High</label>\n      </form>\n    </div>\n  </div>\n',this._attendeeId=""}set tileIndex(e){this.querySelector(".video-tile-nameplate").id=`nameplate-${e}`,this.querySelector(".video-tile-video").id=`video-${e}`;const t=["priority-low","priority-medium","priority-high","resolution-low","resolution-medium","resolution-high"];for(const r of t)this.querySelector(`#${r}`).id=`${r}-${e}`,this.querySelector(`#${r}-label`).setAttribute("for",`${r}-${e}`),this.querySelector(`#${r}-label`).id=`${r}-label-${e}`}set showConfigDropdown(e){const t=e?"block":"none";this.querySelector(".button-video-tile-config-drop").style.display=t,this.querySelector(".video-tile-pause").style.display=t}set showRemoteVideoPreferences(e){const t=e?"block":"none";this.querySelector(".target-resolution-header").style.display=t,this.querySelector(".target-resolution-toggle").style.display=t,this.querySelector(".video-priority-header").style.display=t,this.querySelector(".video-priority-toggle").style.display=t}show(e){this.classList.add("active"),e&&this.classList.add("content")}set featured(e){e?this.classList.add("featured"):this.classList.remove("featured")}hide(){this.classList.remove("active","featured","content")}showVideoStats(e,t,r){const i=t?Object.keys(t):[];if(0===i.length)return;let n=this.querySelector("#stats-info");n||(n=document.createElement("div"),n.setAttribute("id","stats-info"),n.setAttribute("class","stats-info"));let o=this.querySelector("#stats-table");o&&n.removeChild(o),o=document.createElement("table"),o.setAttribute("id","stats-table"),o.setAttribute("class","stats-table"),n.appendChild(o),this.videoElement.insertAdjacentElement("afterend",n);const s=o.insertRow(-1);let a=s.insertCell(-1);a.innerHTML="Video statistics";for(let e=0;e<i.length;e++)a=s.insertCell(-1),a.innerHTML=`${r} ${e+1}`;for(const r of i)for(const[i,n]of Object.entries(t[r]))if(e[i]){const t=o.insertRow(-1);t.setAttribute("id",`${i}`),a=t.insertCell(-1),a.innerHTML=e[i],a=t.insertCell(-1),a.innerHTML=`${n}`}}get videoElement(){return this.querySelector(".video-tile-video")}set nameplate(e){const t=this.querySelector(".video-tile-nameplate");console.log(`setting nameplate to ${e}`),t.innerText=e}set attendeeId(e){console.log(`setting attendeeId to ${e}`),this._attendeeId=e,this.querySelector(".video-tile-attendee-id").innerText=this._attendeeId}get attendeeId(){return this._attendeeId}set pauseState(e){this.querySelector(".video-tile-pause-state").innerText=e}get pauseButtonElement(){return this.querySelector(".video-tile-pause")}get targetResolutionRadioElement(){return this.querySelector(".target-resolution-toggle")}get videoPriorityRadioElement(){return this.querySelector(".video-priority-toggle")}connectedCallback(){return i(this,void 0,void 0,(function*(){this.innerHTML=this.innerHTMLToInject,this.querySelector(".button-video-tile-config-drop").innerHTML=r(8309),this.className="video-tile"}))}}t.DemoVideoTile=n,customElements.define("video-tile",n)},1261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2388),n=r(5279);r(1641).DemoVideoTile;const o={low:10,medium:5,high:1},s={low:i.TargetDisplaySize.Low,medium:i.TargetDisplaySize.Medium,high:i.TargetDisplaySize.High},a={videoUpstreamFrameHeight:"Frame Height",videoUpstreamFrameWidth:"Frame Width",videoUpstreamBitrate:"Bitrate (bps)",videoUpstreamPacketsSent:"Packets Sent",videoUpstreamPacketLossPercent:"Packet Loss (%)",videoUpstreamFramesEncodedPerSecond:"Frame Rate"},c={videoDownstreamFrameHeight:"Frame Height",videoDownstreamFrameWidth:"Frame Width",videoDownstreamBitrate:"Bitrate (bps)",videoDownstreamPacketLossPercent:"Packet Loss (%)",videoDownstreamPacketsReceived:"Packet Received",videoDownstreamFramesDecodedPerSecond:"Frame Rate"};class l{constructor(){this.tiles={},this.tileStates={},this.remoteTileCount=0}acquireTileIndex(e){for(let t=0;t<=l.MaxTiles;t++)if(this.tiles[t]===e)return t;for(let t=0;t<=l.MaxTiles;t++)if(!(t in this.tiles))return this.tiles[t]=e,this.remoteTileCount++,t;throw new Error("no tiles are available")}releaseTileIndex(e){for(let t=0;t<=l.MaxTiles;t++)if(this.tiles[t]===e)return this.remoteTileCount--,delete this.tiles[t],t;return l.MaxTiles}}l.MaxTiles=27;class d{constructor(e,t,r,i){if(this.videoTileController=e,this.logger=t,this.videoPreferenceManager=r,this.tileOrganizer=new l,this.tileIndexToTileId={},this.tileIdToTileIndex={},this.tileIdToAttendeeId={},this.tileIndexToPauseEventListener={},this.tileIndexToTargetResolutionEventListener={},this.tileIndexToPriorityEventListener={},this.tileArea=document.getElementById("tile-area"),this.tileIndexToDemoVideoTile=new Map,this.bandwidthConstrainedTiles=new Set,this._activeSpeakerAttendeeId="",this.setupVideoTiles(),void 0===this.videoPreferenceManager)for(let e=0;e<=l.MaxTiles;e++)this.tileIndexToDemoVideoTile.get(e).showRemoteVideoPreferences=!1;else this.pagination=new n.default(i),document.getElementById("video-paginate-left").addEventListener("click",(e=>{this.paginateLeft()})),document.getElementById("video-paginate-right").addEventListener("click",(e=>{this.paginateRight()})),this.updatePaginatedVisibleTiles()}set activeSpeakerAttendeeId(e){this.logger.info(`setting act spk to ${e}`),this._activeSpeakerAttendeeId=e,this.layoutFeaturedTile()}remoteVideoSourcesDidChange(e){if(void 0!==this.videoPreferenceManager){for(const t of e)this.pagination.add(t.attendee.attendeeId);this.pagination.removeIf((t=>!e.some((e=>e.attendee.attendeeId===t)))),this.videoPreferenceManager.ensureDefaultPreferences(e),this.updatePaginatedVisibleTiles()}}videoTileDidUpdate(e){if(console.log(`video tile updated: ${JSON.stringify(e,null,"  ")}`),!e.boundAttendeeId)return;const t=e.localTile?d.LocalVideoTileIndex:this.tileOrganizer.acquireTileIndex(e.tileId),r=this.tileIndexToDemoVideoTile.get(t);e.localTile||(r.pauseButtonElement.removeEventListener("click",this.tileIndexToPauseEventListener[t]),this.tileIndexToPauseEventListener[t]=this.createPauseResumeListener(e),r.pauseButtonElement.addEventListener("click",this.tileIndexToPauseEventListener[t])),void 0===this.videoPreferenceManager||e.localTile||(this.logger.info("adding config listeners for tileIndex "+t),r.targetResolutionRadioElement.removeEventListener("click",this.tileIndexToTargetResolutionEventListener[t]),this.tileIndexToTargetResolutionEventListener[t]=this.createTargetResolutionListener(e),r.targetResolutionRadioElement.addEventListener("click",this.tileIndexToTargetResolutionEventListener[t]),r.videoPriorityRadioElement.removeEventListener("click",this.tileIndexToPriorityEventListener[t]),this.tileIndexToPriorityEventListener[t]=this.createVideoPriorityListener(e),r.videoPriorityRadioElement.addEventListener("click",this.tileIndexToPriorityEventListener[t]));const i=r.videoElement;this.logger.info(`binding video tile ${e.tileId} to ${i.id}`),this.videoTileController.bindVideoElement(e.tileId,this.tileIndexToDemoVideoTile.get(t).videoElement),this.tileIndexToTileId[t]=e.tileId,this.tileIdToTileIndex[e.tileId]=t,this.tileIdToAttendeeId[e.tileId]=e.boundAttendeeId,e.boundExternalUserId&&(r.nameplate=e.boundExternalUserId.split("#").slice(-1)[0]),e.paused&&this.bandwidthConstrainedTiles.has(e.tileId)?r.pauseState="":r.pauseState="",r.attendeeId=e.boundAttendeeId,e.boundVideoStream?r.show(e.isContent):r.hide(),this.updateLayout(),this.layoutFeaturedTile()}videoTileWasRemoved(e){const t=this.tileOrganizer.releaseTileIndex(e);this.logger.info(`video tileId removed: ${e} from tile-${t}`);const r=this.tileIndexToDemoVideoTile.get(t);r.pauseButtonElement.removeEventListener("click",this.tileIndexToPauseEventListener[t]),r.targetResolutionRadioElement.removeEventListener("click",this.tileIndexToTargetResolutionEventListener[t]),r.videoPriorityRadioElement.removeEventListener("click",this.tileIndexToPriorityEventListener[t]),r.hide(),r.attendeeId="",r.nameplate="",r.pauseState="",this.updateLayout()}showVideoWebRTCStats(e){this.logger.info(`showing stats ${JSON.stringify(e)}`);const t=this.videoTileController.getAllVideoTiles();if(0!==t.length)for(const r of t){const t=r.state();if(t.paused)continue;const i=r.id(),n=this.tileIdToTileIndex[i],o=this.tileIndexToDemoVideoTile.get(n);t.localTile?(this.logger.info(`showing stats ${JSON.stringify(e)}`),o.showVideoStats(a,e[t.boundAttendeeId],"Upstream")):o.showVideoStats(c,e[t.boundAttendeeId],"Downstream")}}setupVideoTiles(){const e=document.getElementById("tile-area");for(let t=0;t<=l.MaxTiles;t++){const r=document.createElement("video-tile");e.appendChild(r),r.tileIndex=t,t===d.LocalVideoTileIndex&&(r.showConfigDropdown=!1,r.showRemoteVideoPreferences=!1),this.tileIndexToDemoVideoTile.set(t,r);const i=r.videoElement;i.onresize=()=>{i.videoHeight>i.videoWidth?(i.style.objectFit="contain",this.logger.info(`video-${t} changed to portrait mode resolution ${i.videoWidth}x${i.videoHeight}`)):i.style.objectFit="cover"}}}tileIdForAttendeeId(e){for(const t of this.videoTileController.getAllVideoTiles()){const r=t.state();if(r.boundAttendeeId===e)return r.tileId}return null}findContentTileId(){for(const e of this.videoTileController.getAllVideoTiles()){const t=e.state();if(t.isContent)return t.tileId}return null}activeTileId(){let e=this.findContentTileId();return null!==e?e:this.tileIdForAttendeeId(this._activeSpeakerAttendeeId)}layoutFeaturedTile(){const e=this.visibleTileIndices(),t=this.localTileId(),r=this.activeTileId();for(let i=0;i<e.length;i++){const n=e[i],o=this.tileIndexToDemoVideoTile.get(n),s=this.tileIndexToTileId[n];o.featured=s===r&&s!==t}this.updateLayout()}updateLayout(){this.tileArea.className=`v-grid size-${this.videoTileCount()}`;const e=this.localTileId(),t=this.activeTileId();t&&t!==e?this.tileArea.classList.add("featured"):this.tileArea.classList.remove("featured")}videoTileCount(){return this.tileOrganizer.remoteTileCount+(this.videoTileController.hasStartedLocalVideoTile()?1:0)}localTileId(){return this.videoTileController.hasStartedLocalVideoTile()?this.videoTileController.getLocalVideoTile().state().tileId:null}visibleTileIndices(){return Object.keys(this.tileOrganizer.tiles).map((e=>parseInt(e)))}paginateLeft(){this.pagination.previousPage(),this.updatePaginatedVisibleTiles()}paginateRight(){this.pagination.nextPage(),this.updatePaginatedVisibleTiles()}updatePaginatedVisibleTiles(){let e=this.pagination.currentPage();this.logger.info(`Showing current page ${JSON.stringify(e)}`),this.videoPreferenceManager.visibleAttendees=e;for(let[t,r]of this.tileIndexToDemoVideoTile.entries())e.includes(r.attendeeId)?r.show(!1):t!==d.LocalVideoTileIndex&&this.tileIndexToTileId[t]!==this.findContentTileId()&&r.hide();const t=e=>e?"block":"none";document.getElementById("video-paginate-left").style.display=t(this.pagination.hasPreviousPage()),document.getElementById("video-paginate-right").style.display=t(this.pagination.hasNextPage())}createTargetResolutionListener(e){return t=>{if(!(t.target instanceof HTMLInputElement))return;const r=e.boundAttendeeId,i=t.target.value;this.logger.info(`target resolution changed for: ${r} to ${i}`);const n=s[i];this.videoPreferenceManager.setAttendeeTargetDisplaySize(r,n)}}createVideoPriorityListener(e){return t=>{if(!(t.target instanceof HTMLInputElement))return;const r=e.boundAttendeeId,i=t.target.value;this.logger.info(`priority changed for: ${r} to ${i}`);const n=o[i];this.videoPreferenceManager.setAttendeePriority(r,n)}}createPauseResumeListener(e){return t=>{e.paused?(this.videoTileController.unpauseVideoTile(e.tileId),t.target.innerText="Pause"):(this.videoTileController.pauseVideoTile(e.tileId),t.target.innerText="Resume")}}}t.default=d,d.LocalVideoTileIndex=l.MaxTiles},952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2388);t.default=class{constructor(e=150){this.radius=e,this.targetCanvas=document.createElement("canvas"),this.targetCanvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new i.CanvasVideoFrameBuffer(this.targetCanvas),this.sourceWidth=0,this.sourceHeight=0}destroy(){this.targetCanvasCtx=null,this.targetCanvas=null,this.canvasVideoFrameBuffer.destroy()}process(e){const t=e[0].asCanvasElement(),r=t.width,i=t.height;return 0===r||0===i||(this.sourceWidth===r&&this.sourceHeight===i||(this.sourceWidth=r,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.targetCanvasCtx.beginPath(),this.targetCanvasCtx.arc(this.sourceWidth/2,this.sourceHeight/2,this.radius,0,2*Math.PI),this.targetCanvasCtx.clip(),this.targetCanvasCtx.stroke(),this.targetCanvasCtx.closePath()),this.targetCanvasCtx.drawImage(t,0,0),e[0]=this.canvasVideoFrameBuffer),Promise.resolve(e)}}},9745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.emoji=e,this.x=Math.floor(Math.random()),this.y=0}destroy(){}process(e){for(const t of e){if(!t)continue;const e=t.asCanvasElement();if(!e)continue;const r=e.getContext("2d");this.x>e.width?this.x=Math.min(Math.floor(Math.random()*e.width),e.width):this.y>e.height&&(this.x=Math.min(Math.floor(Math.random()*e.width),e.width),this.y=0),this.y+=5,r.font="50px serif",r.fillStyle="rgba(0, 0, 255, 0.8)",r.fillText(this.emoji,this.x,this.y)}return Promise.resolve(e)}}},3521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(2388);t.default=class{constructor(e){this.displayAspectRatio=e,this.targetCanvas=document.createElement("canvas"),this.targetCanvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new i.CanvasVideoFrameBuffer(this.targetCanvas),this.renderWidth=0,this.renderHeight=0,this.sourceWidth=0,this.sourceHeight=0,this.dx=0}destroy(){this.targetCanvasCtx=null,this.targetCanvas=null,this.canvasVideoFrameBuffer.destroy()}process(e){const t=e[0].asCanvasElement(),r=t.width,i=t.height;return 0===r||0===i||(this.sourceWidth===r&&this.sourceHeight===i||(this.sourceWidth=r,this.sourceHeight=i,this.renderWidth=Math.floor(this.sourceHeight*this.displayAspectRatio),this.renderHeight=this.sourceHeight,this.dx=Math.max(0,Math.floor((r-this.renderWidth)/2)),this.targetCanvas.width=this.renderWidth,this.targetCanvas.height=this.renderHeight),this.targetCanvasCtx.drawImage(t,this.dx,0,this.renderWidth,this.renderHeight,0,0,this.renderWidth,this.renderHeight),e[0]=this.canvasVideoFrameBuffer),Promise.resolve(e)}}},1193:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2388);class o{constructor(){this.targetCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new n.CanvasVideoFrameBuffer(this.targetCanvas),this.sourceWidth=0,this.sourceHeight=0,this.mask=void 0,this.model=void 0}process(e){return i(this,void 0,void 0,(function*(){this.model||(this.model=yield bodyPix.load());const t=e[0].asCanvasElement();if(!t)throw new Error("buffer is already destroyed");const r=t.width,i=t.height;if(0===r||0===i)return e;this.sourceWidth===r&&this.sourceHeight===i||(this.sourceWidth=r,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);let n=yield this.model.segmentPerson(t);return n&&(this.mask=bodyPix.toMask(n,o.FOREGROUND_COLOR,o.BACKGROUND_COLOR,!0)),this.mask&&(bodyPix.drawMask(this.targetCanvas,t,this.mask),e[0]=this.canvasVideoFrameBuffer),e}))}destroy(){return i(this,void 0,void 0,(function*(){this.model&&this.model.dispose(),this.model=void 0}))}}t.default=o,o.FOREGROUND_COLOR={r:255,g:255,b:255,a:255},o.BACKGROUND_COLOR={r:0,g:0,b:0,a:255}},9100:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.platformCanSupportBodyPixWithoutDegradation=t.loadBodyPixDependency=void 0;const n=r(4924),o=[{src:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.7.0/dist/tf.min.js",integrity:"sha384-uI1PW0SEa/QzAUuRQ6Bz5teBONsa9D0ZbVxMcM8mu4IjJ5msHyM7RRtZtL8LnSf3",crossOrigin:"anonymous"},{src:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core@2.7.0/dist/tf-core.min.js",integrity:"sha384-DlI/SVdTGUBY5hi4h0p+nmC6V8i0FW5Nya/gYElz0L68HrSiXsBh+rqWcoZx3SXY",crossOrigin:"anonymous"},{src:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl@2.7.0/dist/tf-backend-webgl.min.js",integrity:"sha384-21TV9Kpzn8SF68G1U6nYN3qPZnb97F06JuW4v0FDDBzW+CUwv8GcKMR+BjnE7Vmm",crossOrigin:"anonymous"},{src:"https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0.5/dist/body-pix.min.js",integrity:"sha384-dPJ/sICXCqdh39bsuGLVFcOiRyeL/XcFrwiFrJq9oh7k1TCtsUKhX6UV2X4UuKU4",crossOrigin:"anonymous"}];t.loadBodyPixDependency=function(e){return i(this,void 0,void 0,(function*(){for(const{src:t,integrity:r,crossOrigin:i}of o)yield new Promise(((n,o)=>{const s=document.createElement("script"),a=setTimeout((()=>{o(new Error(`Loading script ${t} takes longer than ${e}`))}),e);s.onload=function(e){clearTimeout(a),n()},s.onerror=function(e){clearTimeout(a),o(new Error(`Failed to load ${t}`))},s.integrity=r,s.crossOrigin=i,s.src=t,document.body.appendChild(s)}))}))},t.platformCanSupportBodyPixWithoutDegradation=function(){return"chrome"===n.detect().name&&!1===/(android)/i.test(navigator.userAgent)}},9413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},2326:e=>{e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},3189:e=>{e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},5045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},4205:(e,t,r)=>{"use strict";t.Any=r(9369),t.Cc=r(9413),t.Cf=r(2326),t.P=r(3189),t.Z=r(5045)},9369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},2880:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.decideModel=t.measureAndDecideExecutionApproach=void 0;const n=r(6889),o=r(2479),s={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};class a{constructor(e,t){this.fetchConfig=e,this.logger=t;const r=`${e.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:e.headers,escapedQueryString:e.escapedQueryString},this.worker=n.loadWorker(r,"VoiceFocusEstimator",this.fetchBehavior,t)}roundtrip(e,t,r){return new Promise(((i,n)=>{this.worker.then((n=>{let o;o=e=>{const{message:s,key:a}=e.data;s===t&&a===r&&(n.removeEventListener("message",o),i(e.data))},n.addEventListener("message",o),n.postMessage(e)})).catch((e=>{var t;null===(t=this.logger)||void 0===t||t.error("Failed to load worker.",e),n(e)}))}))}supportsSIMD(e){const t="simd",r=e||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,i={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:r,key:t};return this.roundtrip(i,"simd-support",t).then((e=>e.supports))}measure(e,t){const r=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,i=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,n=e?i:r,o=`bench:${e}`,s={message:"measure",fetchBehavior:this.fetchBehavior,budget:t,path:n,key:o};return this.roundtrip(s,"measurement",o).then((e=>{if(e.measurement)return e.measurement;throw new Error("Failed to measure.")}))}stop(){this.worker.then((e=>{var t;null===(t=this.logger)||void 0===t||t.debug("Stopping estimator worker."),e.terminate()})).catch((e=>{}))}}const c=(e,t,r,n)=>i(void 0,void 0,void 0,(function*(){const i={supportsSIMD:e,supportsSAB:o.supportsSharedArrayBuffer(globalThis,window,r),duration:-1};if(e)return null==r||r.info("Supports SIMD: true (force)"),i;const s=!n,c=n||new a(t,r);try{const t=!o.isOldChrome(window,r)&&(yield c.supportsSIMD());return null==r||r.info(`Supports SIMD: ${t} (force: ${e})`),i.supportsSIMD=t,i}finally{s&&c.stop()}}));t.measureAndDecideExecutionApproach=(e,t,r,n=s)=>i(void 0,void 0,void 0,(function*(){let l=e.executionPreference;const{usagePreference:d,variantPreference:u,namePreference:h,simdPreference:p,estimatorBudget:m,executionQuantaPreference:f}=e;"interactivity"===d&&"inline"!==l&&(null==r||r.debug(`Overriding execution preference ${l} to reflect interactivity preference.`),l="inline");const g="force"===p,b="auto"!==u,v="auto"!==l;let y;try{y=b&&v?yield c(g,t,r):yield((e,t,r,n)=>i(void 0,void 0,void 0,(function*(){const i=new a(t,n);try{const o=yield c(e,t,n,i);if(o.supportsSIMD)try{return o.duration=yield i.measure(!0,r),null==n||n.info("SIMD timing:",o.duration),o}catch(e){null==n||n.warn("Failed SIMD estimation; falling back to non-SIMD."),o.supportsSIMD=!1}return o.duration=yield i.measure(!1,r),null==n||n.info("No-SIMD timing:",o.duration),o}catch(e){throw null==n||n.error("Could not feature check.",e),e}finally{i.stop()}})))(g,t,m,r)}catch(e){throw null==r||r.error("Could not load estimator.",e),new Error("Could not load Voice Focus estimator.")}return(({supportsSIMD:e,supportsSAB:t,duration:r,executionPreference:i="auto",simdPreference:n,variantPreference:a="auto",namePreference:c="default",usagePreference:l,executionQuantaPreference:d=3},u=s,h)=>{const p="force"===n||"disable"!==n&&e,m=-1!==r,f=m?(p?2.5:2.63)/r:0,g=p?u.simd:u.wasm,b=m?((e,t)=>1===e?.6:"quality"===t?.65*e:.5*e)(d,l)*f:0,v=m?.7*f:0,y=c,w=e=>({supported:!1,reason:e});if(m){if(f<g.noSupport)return w(`Performance score ${f} worse than threshold ${g.noSupport}.`)}else if("auto"===i||"auto"===a)return w(`Missing explicit execution (${i}) or variant (${a}) preference, but no scoring performed.`);null==h||h.debug(`Bench duration ${r} yields inline score ${b} and worker score ${v}.`);const S=(e,t,r)=>({supported:!0,useSIMD:p,processor:e,executionApproach:t,variant:r,executionQuanta:"inline"===t?d:void 0,name:y}),x=(e,t,r)=>"auto"!==t?!m||e>r[t]?t:"failed":e>r.c100?"c100":e>r.c50?"c50":e>r.c20?"c20":e>r.c10?"c10":"failed",k=e=>{switch(e||"auto"){case"auto":{let e=k("inline"),t=k("worker");return null==h||h.debug(`Reducing auto preference: ${JSON.stringify(e)} vs ${JSON.stringify(t)}`),!1===e.supported||!1===t.supported?t:e.variant===t.variant||"c50"===e.variant?e:t}case"worker":return o.supportsSharedArrayBuffer(globalThis,window,h)?k("worker-sab"):k("worker-postMessage");case"inline":{const e=x(b,a,g.inline);return"failed"===e?w(`Performance score ${b} not sufficient for inline use with variant preference ${a}.`):S("voicefocus-inline-processor","inline",e)}case"worker-sab":{if(!t){const e="Requested worker-sab but no SharedArrayBuffer support.";return null==h||h.warn(e),{supported:!1,reason:e}}const e=x(v,a,g.worker);return"failed"===e?w(`Performance score ${v} not sufficient for worker use with variant preference ${a}.`):S("voicefocus-worker-sab-processor","worker-sab",e)}case"worker-postMessage":{const e=x(v,a,g.worker);if("failed"===e)return w(`Performance score ${v} not sufficient for worker use.`);if("ns_es"===y){const e="Requested echo suppression but postMessage executor does not support it.";return null==h||h.warn(e),{supported:!1,reason:e}}return S("voicefocus-worker-postMessage-processor","worker-postMessage",e)}}};return k(i)})(Object.assign(Object.assign({},y),{simdPreference:p,executionPreference:l,variantPreference:u,namePreference:h,usagePreference:d,executionQuantaPreference:f}),n,r)})),t.decideModel=({category:e,name:t,variant:r,simd:i,url:n})=>`${e}-${t}-${r}-v1${i?"_simd":""}`},3772:(e,t)=>{"use strict";function r(e,t,r){if(!r)return fetch(e,t);const o=n(e,r),s=i(t,r);return fetch(o,s)}function i(e,t){return(null==t?void 0:t.headers)?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}function n(e,t){if(!(null==t?void 0:t.escapedQueryString))return e;const r=-1!==e.lastIndexOf("?");return`${e}${r?"&":"?"}${t.escapedQueryString}`}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRevisionID=t.isValidAssetGroup=t.resolveURL=t.addQueryParams=t.withQueryString=t.withRequestHeaders=t.fetchWithBehavior=void 0,t.fetchWithBehavior=r,t.withRequestHeaders=i,t.withQueryString=n,t.addQueryParams=function(e,t){const r=Object.keys(t);if(!r.length)return e;const i=new URLSearchParams(null==e?void 0:e.escapedQueryString);for(const e of r)i.append(e,t[e]);return Object.assign(Object.assign({},e),{escapedQueryString:i.toString()})};const o={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};t.resolveURL=function(e,t){return r(e,o,t).then((t=>t.redirected?t.url:e))},t.isValidAssetGroup=function(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)},t.isValidRevisionID=function(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}},6889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadWorker=void 0;const i=r(3772),n={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};t.loadWorker=(e,t,r,o)=>{null==o||o.debug(`Loading ${t} worker from ${e}.`);let s=!1;try{s=self.origin===new URL(e).origin}catch(e){null==o||o.error("Could not compare origins.",e)}if(s){const n=i.withQueryString(e,r);return Promise.resolve(new Worker(n,{name:t}))}return i.fetchWithBehavior(e,n,r).then((e=>{if(e.ok)return e.blob().then((e=>new Worker(window.URL.createObjectURL(e))));throw new Error("Fetch failed.")}))}},2479:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isOldChrome=t.supportsWASMStreaming=t.supportsSharedArrayBuffer=t.supportsWASM=t.supportsAudioWorklet=t.supportsWorker=t.supportsVoiceFocusWorker=t.supportsWASMPostMessage=t.isSafari=void 0;const n=r(6889);t.isSafari=(e=globalThis)=>{const t=e.navigator.userAgent,r=t.match(/Safari\//),i=t.match(/Chrom(?:e|ium)\//);return!(!r||i)},t.supportsWASMPostMessage=(e=globalThis)=>!t.isSafari(e)&&(!((e=globalThis)=>!!e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/))(e)||(o(e)||0)<95),t.supportsVoiceFocusWorker=(e=globalThis,r,o)=>i(void 0,void 0,void 0,(function*(){if(!t.supportsWorker(e,o))return!1;const i=`${r.paths.workers}worker-v1.js`;try{const e=yield n.loadWorker(i,"VoiceFocusTestWorker",r,o);try{e.terminate()}catch(e){null==o||o.debug("Failed to terminate worker.",e)}return!0}catch(e){return null==o||o.info("Failed to fetch and instantiate test worker",e),!1}})),t.supportsWorker=(e=globalThis,t)=>{try{return!!e.Worker}catch(e){return null==t||t.info("Does not support Worker",e),!1}},t.supportsAudioWorklet=(e=globalThis,t)=>{try{return!!e.AudioWorklet&&!!e.AudioWorkletNode}catch(e){return null==t||t.info("Does not support Audio Worklet",e),!1}},t.supportsWASM=(e=globalThis,t)=>{try{return!(!e.WebAssembly||!e.WebAssembly.compile&&!e.WebAssembly.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM",e),!1}},t.supportsSharedArrayBuffer=(e=globalThis,t=globalThis,r)=>{try{return!(!e.SharedArrayBuffer||!t.chrome&&!e.crossOriginIsolated)}catch(e){return null==r||r.info("Does not support SharedArrayBuffer."),!1}},t.supportsWASMStreaming=(e=globalThis,t)=>{var r;try{return!!(null===(r=e.WebAssembly)||void 0===r?void 0:r.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM streaming compilation",e),!1}};const o=(e=globalThis)=>{try{if(!e.chrome)return}catch(e){}const t=e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(t)return parseInt(t[1],10)};t.isOldChrome=(e=globalThis,t)=>{const r=o(e);return!!r&&r<90&&(null==t||t.debug(`Chrome ${r} has incomplete SIMD support.`),!0)}},8991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusAudioWorkletNode=void 0;class r extends("undefined"!=typeof globalThis&&globalThis.AudioWorkletNode||class{}){}t.VoiceFocusAudioWorkletNode=r},9800:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioInput=t.createAudioContext=t.VoiceFocus=void 0;const n=r(2880),o=r(3772),s=r(6889),a=r(2479),c=r(3342),l=r(27),d=r(3733),u={useVoiceFocusAGC:!1,useBuiltInAGC:!0},h="stable-v1",p="https://static.sdkassets.chime.aws",m={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},f={latencyHint:0},g={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},b=Object.assign(Object.assign({},g),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),v=Object.assign(Object.assign({},g),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),y={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:l.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:d.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:c.default}},w=(e,t)=>{if(void 0!==e&&!o.isValidAssetGroup(e))throw new Error(`Invalid asset group ${e}`);if(void 0!==t&&!o.isValidRevisionID(t))throw new Error(`Invalid revision ID ${t}`)},S=(e,t)=>`${t.models}${n.decideModel(e)}.wasm`;class x{constructor(e,t,r,i,n){this.processorURL=t,this.nodeConstructor=r,this.nodeOptions=i,this.executionQuanta=n,this.internal={worker:e,nodeOptions:i,isDestroyed:!1}}static isSupported(e,t){const{fetchBehavior:r,logger:i}=t||{};if("undefined"==typeof globalThis)return null==i||i.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,i))return null==i||i.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,i))return null==i||i.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,i)||null==i||i.debug("Browser does not support streaming WASM compilation.");const{assetGroup:n=h,revisionID:s,paths:c=m}=e||{};w(n,s);const l=s?{revisionID:s}:{assetGroup:n},d=o.addQueryParams(r,l),u=Object.assign(Object.assign({},d),{paths:c});return a.supportsVoiceFocusWorker(globalThis,u,i)}static mungeExecutionPreference(e,t){const r=void 0===e||"auto"===e;if(a.isSafari(globalThis)){if(r||"inline"===e)return"inline";if(!r)throw new Error(`Unsupported execution preference ${e}`)}if("worker-sab"===e&&!a.supportsSharedArrayBuffer(globalThis,globalThis,t))throw new Error(`Unsupported execution preference ${e}`);return e||"auto"}static configure(e,t){return i(this,void 0,void 0,(function*(){const{fetchBehavior:r,preResolve:i,logger:s}=t||{},{category:a="voicefocus",name:c="default",variant:l="auto",assetGroup:d=h,revisionID:u,simd:p="detect",executionPreference:f="auto",executionQuantaPreference:g,usagePreference:b="interactivity",estimatorBudget:v=100,paths:y=m,thresholds:x}=e||{};if(null==s||s.debug("Configuring Voice Focus with spec",e),void 0!==a&&"voicefocus"!==a)throw new Error(`Unrecognized category ${a}`);if(void 0!==c&&"default"!==c&&"ns_es"!==c)throw new Error(`Unrecognized feature name ${c}`);if(void 0!==l&&!["auto","c100","c50","c20","c10"].includes(l))throw new Error(`Unrecognized feature variant ${l}`);if(void 0!==g&&![1,2,3].includes(g))throw new Error(`Unrecognized execution quanta preference ${g}`);if(w(d,u),void 0!==p&&!["detect","force","disable"].includes(p))throw new Error(`Unrecognized SIMD option ${p}`);if(void 0!==f&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(f))throw new Error(`Unrecognized execution preference ${f}`);if(void 0!==b&&!["quality","interactivity"].includes(b))throw new Error(`Unrecognized usage preference ${b}`);const k={executionPreference:this.mungeExecutionPreference(f,s),usagePreference:b,executionQuantaPreference:g,variantPreference:l,namePreference:c,simdPreference:p,estimatorBudget:v},C=u?{revisionID:u}:{assetGroup:d},E=o.addQueryParams(r,C),_=Object.assign({paths:y},E),T=yield n.measureAndDecideExecutionApproach(k,_,s,x);if(!1===T.supported)return{supported:!1,reason:T.reason};null==s||s.info("Decided execution approach",T);const{useSIMD:I,processor:M,variant:A,executionQuanta:O}=T,P={category:a||"voicefocus",name:c||"default",variant:A,simd:I};if(i){const e=S(P,y);P.url=yield o.resolveURL(e,E)}return{fetchConfig:_,model:P,processor:M,executionQuanta:O,supported:!0}}))}static init(e,{delegate:t,preload:r=!0,logger:n}){return i(this,void 0,void 0,(function*(){if(!1===e.supported)throw new Error("Voice Focus not supported. Reason: "+e.reason);const{model:i,processor:o,fetchConfig:c,executionQuanta:l}=e,{simd:d,name:u}=i,{paths:h}=c;if("voicefocus-inline-processor"!==o&&"voicefocus-worker-postMessage-processor"!==o&&"voicefocus-worker-sab-processor"!==o)throw new Error(`Unknown processor ${o}`);const p=i.url||S(i,h);null==n||n.debug(`Using model URL ${p}.`);const m=`${h.wasm}audio_buffer-v1${d?"_simd":""}.wasm`,f=`${h.wasm}resampler-v1${d?"_simd":""}.wasm`,g=`${h.workers}worker-v1.js`,{file:b,node:v}=y[o],w=`${h.processors}${b}`,k=yield s.loadWorker(g,"VoiceFocusWorker",c,n);if(r){null==n||n.debug("Preloading",p);let e=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";k.postMessage({message:e,preload:!0,key:"model",fetchBehavior:c,path:p})}const C=new x(k,w,v,{processor:o,worker:k,audioBufferURL:m,resamplerURL:f,fetchBehavior:c,modelURL:p,delegate:t,logger:n,numberOfInputs:"ns_es"===u?2:1},l);return Promise.resolve(C)}))}createNode(e,t){var r;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:i=(16e3===e.sampleRate?16e3:48e3),enabled:n=!0,agc:s=u}=t||{},a=null==t?void 0:t.es,c={voiceFocusSampleRate:i,enabled:n,sendBufferCount:10,prefill:6,agc:s,executionQuanta:this.executionQuanta,supportFarendStream:a},l=o.withQueryString(this.processorURL,null===(r=this.nodeOptions)||void 0===r?void 0:r.fetchBehavior);return e.audioWorklet.addModule(l).then((()=>new this.nodeConstructor(e,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:c}))))}applyToStream(e,t,r){return i(this,void 0,void 0,(function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const i=t.createMediaStreamSource(e),n=yield this.applyToSourceNode(i,t,r),o=t.createMediaStreamDestination();return n.connect(o),{node:n,source:i,destination:o,stream:o.stream}}))}applyToSourceNode(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this.createNode(t,r);return e.connect(i),i}))}destroy(){this.internal.worker?.terminate(),this.internal.isDestroyed=!0}}t.VoiceFocus=x,t.createAudioContext=(e=f)=>new(window.AudioContext||window.webkitAudioContext)(e),t.getAudioInput=(e,t,r)=>i(void 0,void 0,void 0,(function*(){var i,n;const{constraints:o,spec:s,delegate:a,preload:c=!0,options:l}=t,{logger:d}=r,h=yield x.configure(s,r);if(!h.supported)return null===(i=r.logger)||void 0===i||i.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(o);const p=yield x.init(h,{delegate:a,preload:c,logger:d}),m=(null===(n=t.options)||void 0===n?void 0:n.agc)||u,f=yield window.navigator.mediaDevices.getUserMedia(((e,t)=>{let r;if(r=t.useBuiltInAGC?b:v,!e)return{audio:r};if(!e.audio)return e;if(e.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},e),{audio:!0===e.audio?r:Object.assign(Object.assign({},e.audio),r)})})(o,m));return p.applyToStream(f,e,l).then((e=>e.stream))}))},3342:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2479),o=r(8991);class s extends o.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,worker:i,fetchBehavior:o,logger:s,delegate:a}=t;this.logger=s,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=a,s&&s.debug("VoiceFocusInlineNode:",r),this.worker=i,this.worker.onmessage=this.onWorkerMessage.bind(this);const c=n.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:c,key:"model",fetchBehavior:o,path:r})}onModuleBufferLoaded(e,t){this.port.postMessage({message:"module-buffer",buffer:e,key:t})}onModuleLoaded(e,t){this.port.postMessage({message:"module",module:e,key:t})}enable(){return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"disable"})}))}stop(){var e;return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"stop"});try{null===(e=this.worker)||void 0===e||e.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()}))}onProcessorMessage(e){var t,r,i;const n=e.data;if("cpu"===n.message){this.cpuWarningCount++;const e=Date.now(),i=this.cpuWarningLastTriggered||e,o=Math.abs(e-i);(!this.cpuWarningLastTriggered||o>5e3)&&(null===(t=this.logger)||void 0===t||t.warn(`CPU warning (count: ${this.cpuWarningCount}):`,n.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=e),null===(r=this.delegate)||void 0===r||r.onCPUWarning()}else null===(i=this.logger)||void 0===i||i.debug("Ignoring processor message.")}onWorkerMessage(e){const t=e.data;switch(t.message){case"module-buffer":if(!t.buffer||!t.key)return;this.onModuleBufferLoaded(t.buffer,t.key);break;case"module":if(!t.module||!t.key)return;this.onModuleLoaded(t.module,t.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}t.default=s},3733:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2479),o=r(8991);class s extends o.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,audioBufferURL:i,worker:o,fetchBehavior:s,delegate:a}=t;this.delegate=a,this.worker=o,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:c,agc:l,supportFarendStream:d}=t.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:16e3===e.sampleRate?160:480,enabled:c,agc:l,fetchBehavior:s,model:r,supportFarendStream:d});const u=n.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:u,key:"buffer",fetchBehavior:s,path:i})}enable(){return i(this,void 0,void 0,(function*(){this.worker.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.worker.postMessage({message:"disable"})}))}stop(){return i(this,void 0,void 0,(function*(){try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()}))}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":this.port.postMessage({message:"ready",shared:r.shared},r.shared?Object.values(r.shared):[]);break;case"data":if(!r.buffer)return;this.port.postMessage({message:"data",buffer:r.buffer},[r.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(r);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"data":if(!r.buffer)return;this.worker.postMessage({message:"data",buffer:r.buffer},[r.buffer]);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r);break;default:return}}}t.default=s},27:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(2479),o=r(8991);class s extends o.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:r,resamplerURL:i,worker:o,fetchBehavior:s,delegate:a}=t;this.delegate=a,this.worker=o,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:c,supportFarendStream:l}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:16e3===e.sampleRate?160:480,enabled:c,model:r,supportFarendStream:l});const d=n.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:d,key:"resampler",fetchBehavior:s,path:i})}enable(){return i(this,void 0,void 0,(function*(){this.state?(Atomics.store(this.state,1,1),Atomics.notify(this.state,0,1)):this.worker.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.state?(Atomics.store(this.state,1,0),Atomics.notify(this.state,0,1)):this.worker.postMessage({message:"disable"})}))}stop(){return i(this,void 0,void 0,(function*(){if(this.state)Atomics.store(this.state,1,2),Atomics.notify(this.state,0,1);else try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()}))}onWorkerMessage(e){var t;const r=e.data;switch(r.message){case"ready":if(!r.shared)throw new Error("No shared state.");this.state=new Int32Array(r.shared.state),this.port.postMessage(r);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(r);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;const r=e.data;switch(r.message){case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(r)}}}t.default=s},893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,i=t.getRandomValues,n=t.subtle;return r.map((function(e){return n[e]})).concat(i).every((function(e){return"function"==typeof e}))}return!1}},2860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(5163);(0,i.__exportStar)(r(893),t),(0,i.__exportStar)(r(4532),t),(0,i.__exportStar)(r(5039),t),(0,i.__exportStar)(r(6177),t),(0,i.__exportStar)(r(9693),t)},3497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=r(8479),n=r(214),o=r(9387),s=r(2942),a=r(2860),c=r(8281),l=function(){function e(e){(0,s.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new n.Sha256(e):(0,a.isMsWindow)((0,c.locateWindow)())?this.hash=new i.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=l},8479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=r(5780),n=r(3497),o=r(6778),s=r(8281),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,r){var i=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",c(e),n.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),r(new Error("ImportKey completed without importing key."))},i.onerror=function(){r(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(n.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,i.isEmptyData)(e)||(this.operation=this.operation.then((function(r){return r.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},r.process(c(e)),r})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,r){e.onerror=function(){r(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),r(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function c(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},8322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,r(5163).__exportStar)(r(2401),t);var i=r(8479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return i.Sha256}});var n=r(214);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})},5780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=r(4959),n=r(3497),o=r(8281),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,r){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,i.convertToBuffer)(e),n.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,r)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,i.isEmptyData)(e)){var t=(0,i.convertToBuffer)(e),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(n.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,i.isEmptyData)(this.toHash)?Promise.resolve(n.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(n.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=s},4002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var i=r(149),n=function(){function e(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var n=this.bufferLength;n<i.BLOCK_SIZE;n++)t.setUint8(n,0);this.hashBuffer(),this.bufferLength=0}for(n=this.bufferLength;n<i.BLOCK_SIZE-8;n++)t.setUint8(n,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(i.DIGEST_LENGTH);for(n=0;n<8;n++)o[4*n]=this.state[n]>>>24&255,o[4*n+1]=this.state[n]>>>16&255,o[4*n+2]=this.state[n]>>>8&255,o[4*n+3]=this.state[n]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],c=t[5],l=t[6],d=t[7],u=0;u<i.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(255&e[4*u])<<24|(255&e[4*u+1])<<16|(255&e[4*u+2])<<8|255&e[4*u+3];else{var h=this.temp[u-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,m=((h=this.temp[u-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[u]=(p+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var f=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&l)|0)+(d+(i.KEY[u]+this.temp[u]|0)|0)|0,g=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&n^r&o^n&o)|0;d=l,l=c,c=a,a=s+f|0,s=o,o=n,n=r,r=f+g|0}t[0]+=r,t[1]+=n,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=l,t[7]+=d},e}();t.RawSha256=n},149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(5163).__exportStar)(r(3572),t)},3572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=r(5163),n=r(149),o=r(4002),s=r(4959),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>n.BLOCK_SIZE){var r=new o.RawSha256;r.update(t),t=r.digest()}var i=new Uint8Array(n.BLOCK_SIZE);return i.set(t),i}(e),r=new Uint8Array(n.BLOCK_SIZE);r.set(t);for(var i=0;i<n.BLOCK_SIZE;i++)t[i]^=54,r[i]^=92;for(this.hash.update(t),this.outer.update(r),i=0;i<t.byteLength;i++)t[i]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},2942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(5163).__exportStar)(r(2445),t)},2445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var i=r(5163),n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&n.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(!s(e))return[2,!1];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=r.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===r.sent().byteLength];case 4:return r.sent(),[2,!1];case 5:return[2]}}))}))}},3376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=r(6778),n="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?n(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},4959:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var i=r(3376);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return i.convertToBuffer}});var n=r(1205);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var o=r(1443);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=r(1650);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},1205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},1443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1650:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}},465:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AllowNotifications:()=>_r,AppInstanceUserMembershipSummaryFilterSensitiveLog:()=>Qr,AssociateChannelFlowCommand:()=>na,AssociateChannelFlowRequestFilterSensitiveLog:()=>Xr,BadRequestException:()=>Ur,BatchChannelMembershipsFilterSensitiveLog:()=>ei,BatchCreateChannelMembershipCommand:()=>oa,BatchCreateChannelMembershipErrorFilterSensitiveLog:()=>ri,BatchCreateChannelMembershipRequestFilterSensitiveLog:()=>ti,BatchCreateChannelMembershipResponseFilterSensitiveLog:()=>ii,ChannelAssociatedWithFlowSummaryFilterSensitiveLog:()=>si,ChannelBanFilterSensitiveLog:()=>ai,ChannelBanSummaryFilterSensitiveLog:()=>ci,ChannelFilterSensitiveLog:()=>oi,ChannelFlowCallbackCommand:()=>sa,ChannelFlowCallbackRequestFilterSensitiveLog:()=>gi,ChannelFlowCallbackResponseFilterSensitiveLog:()=>bi,ChannelFlowFilterSensitiveLog:()=>hi,ChannelFlowSummaryFilterSensitiveLog:()=>vi,ChannelMembershipFilterSensitiveLog:()=>yi,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog:()=>Si,ChannelMembershipPreferencesFilterSensitiveLog:()=>ki,ChannelMembershipSummaryFilterSensitiveLog:()=>Ci,ChannelMembershipType:()=>Tr,ChannelMessageCallbackFilterSensitiveLog:()=>fi,ChannelMessageFilterSensitiveLog:()=>_i,ChannelMessagePersistenceType:()=>Lr,ChannelMessageStatus:()=>Fr,ChannelMessageStatusStructureFilterSensitiveLog:()=>Ei,ChannelMessageSummaryFilterSensitiveLog:()=>Ti,ChannelMessageType:()=>Br,ChannelMode:()=>Ar,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog:()=>Ii,ChannelModeratorFilterSensitiveLog:()=>Mi,ChannelModeratorSummaryFilterSensitiveLog:()=>Ai,ChannelPrivacy:()=>Or,ChannelSummaryFilterSensitiveLog:()=>wi,ChimeSDKMessaging:()=>Qa,ChimeSDKMessagingClient:()=>yr,ChimeSDKMessagingServiceException:()=>Mr,ConflictException:()=>zr,CreateChannelBanCommand:()=>aa,CreateChannelBanRequestFilterSensitiveLog:()=>Ri,CreateChannelBanResponseFilterSensitiveLog:()=>Li,CreateChannelCommand:()=>ca,CreateChannelFlowCommand:()=>la,CreateChannelFlowRequestFilterSensitiveLog:()=>Fi,CreateChannelFlowResponseFilterSensitiveLog:()=>Bi,CreateChannelMembershipCommand:()=>da,CreateChannelMembershipRequestFilterSensitiveLog:()=>Ni,CreateChannelMembershipResponseFilterSensitiveLog:()=>Vi,CreateChannelModeratorCommand:()=>ua,CreateChannelModeratorRequestFilterSensitiveLog:()=>ji,CreateChannelModeratorResponseFilterSensitiveLog:()=>Ui,CreateChannelRequestFilterSensitiveLog:()=>Pi,CreateChannelResponseFilterSensitiveLog:()=>Di,DeleteChannelBanCommand:()=>ha,DeleteChannelBanRequestFilterSensitiveLog:()=>$i,DeleteChannelCommand:()=>pa,DeleteChannelFlowCommand:()=>ma,DeleteChannelFlowRequestFilterSensitiveLog:()=>qi,DeleteChannelMembershipCommand:()=>fa,DeleteChannelMembershipRequestFilterSensitiveLog:()=>Hi,DeleteChannelMessageCommand:()=>ga,DeleteChannelMessageRequestFilterSensitiveLog:()=>Wi,DeleteChannelModeratorCommand:()=>ba,DeleteChannelModeratorRequestFilterSensitiveLog:()=>Ki,DeleteChannelRequestFilterSensitiveLog:()=>zi,DescribeChannelBanCommand:()=>va,DescribeChannelBanRequestFilterSensitiveLog:()=>Zi,DescribeChannelBanResponseFilterSensitiveLog:()=>Qi,DescribeChannelCommand:()=>ya,DescribeChannelFlowCommand:()=>wa,DescribeChannelFlowRequestFilterSensitiveLog:()=>Xi,DescribeChannelFlowResponseFilterSensitiveLog:()=>Yi,DescribeChannelMembershipCommand:()=>Sa,DescribeChannelMembershipForAppInstanceUserCommand:()=>xa,DescribeChannelMembershipForAppInstanceUserRequestFilterSensitiveLog:()=>rn,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog:()=>nn,DescribeChannelMembershipRequestFilterSensitiveLog:()=>en,DescribeChannelMembershipResponseFilterSensitiveLog:()=>tn,DescribeChannelModeratedByAppInstanceUserCommand:()=>ka,DescribeChannelModeratedByAppInstanceUserRequestFilterSensitiveLog:()=>on,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>sn,DescribeChannelModeratorCommand:()=>Ca,DescribeChannelModeratorRequestFilterSensitiveLog:()=>an,DescribeChannelModeratorResponseFilterSensitiveLog:()=>cn,DescribeChannelRequestFilterSensitiveLog:()=>Gi,DescribeChannelResponseFilterSensitiveLog:()=>Ji,DisassociateChannelFlowCommand:()=>Ea,DisassociateChannelFlowRequestFilterSensitiveLog:()=>ln,ElasticChannelConfigurationFilterSensitiveLog:()=>ni,ErrorCode:()=>Ir,FallbackAction:()=>Dr,ForbiddenException:()=>$r,GetChannelMembershipPreferencesCommand:()=>_a,GetChannelMembershipPreferencesRequestFilterSensitiveLog:()=>dn,GetChannelMembershipPreferencesResponseFilterSensitiveLog:()=>un,GetChannelMessageCommand:()=>Ta,GetChannelMessageRequestFilterSensitiveLog:()=>hn,GetChannelMessageResponseFilterSensitiveLog:()=>pn,GetChannelMessageStatusCommand:()=>Ia,GetChannelMessageStatusRequestFilterSensitiveLog:()=>mn,GetChannelMessageStatusResponseFilterSensitiveLog:()=>fn,GetMessagingSessionEndpointCommand:()=>Ma,GetMessagingSessionEndpointRequestFilterSensitiveLog:()=>gn,GetMessagingSessionEndpointResponseFilterSensitiveLog:()=>vn,IdentityFilterSensitiveLog:()=>Yr,InvocationType:()=>Pr,LambdaConfigurationFilterSensitiveLog:()=>li,ListChannelBansCommand:()=>Aa,ListChannelBansRequestFilterSensitiveLog:()=>yn,ListChannelBansResponseFilterSensitiveLog:()=>wn,ListChannelFlowsCommand:()=>Oa,ListChannelFlowsRequestFilterSensitiveLog:()=>Sn,ListChannelFlowsResponseFilterSensitiveLog:()=>xn,ListChannelMembershipsCommand:()=>Pa,ListChannelMembershipsForAppInstanceUserCommand:()=>Da,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog:()=>En,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog:()=>_n,ListChannelMembershipsRequestFilterSensitiveLog:()=>kn,ListChannelMembershipsResponseFilterSensitiveLog:()=>Cn,ListChannelMessagesCommand:()=>Ra,ListChannelMessagesRequestFilterSensitiveLog:()=>Tn,ListChannelMessagesResponseFilterSensitiveLog:()=>In,ListChannelModeratorsCommand:()=>La,ListChannelModeratorsRequestFilterSensitiveLog:()=>Mn,ListChannelModeratorsResponseFilterSensitiveLog:()=>An,ListChannelsAssociatedWithChannelFlowCommand:()=>Fa,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog:()=>Dn,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog:()=>Rn,ListChannelsCommand:()=>Ba,ListChannelsModeratedByAppInstanceUserCommand:()=>Na,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog:()=>Ln,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>Fn,ListChannelsRequestFilterSensitiveLog:()=>On,ListChannelsResponseFilterSensitiveLog:()=>Pn,ListSubChannelsCommand:()=>Va,ListSubChannelsRequestFilterSensitiveLog:()=>Bn,ListSubChannelsResponseFilterSensitiveLog:()=>Vn,ListTagsForResourceCommand:()=>ja,ListTagsForResourceRequestFilterSensitiveLog:()=>jn,ListTagsForResourceResponseFilterSensitiveLog:()=>Un,MessageAttributeValueFilterSensitiveLog:()=>pi,MessagingSessionEndpointFilterSensitiveLog:()=>bn,NotFoundException:()=>qr,ProcessorConfigurationFilterSensitiveLog:()=>di,ProcessorFilterSensitiveLog:()=>ui,PushNotificationConfigurationFilterSensitiveLog:()=>mi,PushNotificationPreferencesFilterSensitiveLog:()=>xi,PushNotificationType:()=>Rr,PutChannelMembershipPreferencesCommand:()=>Ua,PutChannelMembershipPreferencesRequestFilterSensitiveLog:()=>zn,PutChannelMembershipPreferencesResponseFilterSensitiveLog:()=>$n,RedactChannelMessageCommand:()=>za,RedactChannelMessageRequestFilterSensitiveLog:()=>qn,RedactChannelMessageResponseFilterSensitiveLog:()=>Hn,ResourceLimitExceededException:()=>Jr,SearchChannelsCommand:()=>$a,SearchChannelsRequestFilterSensitiveLog:()=>Kn,SearchChannelsResponseFilterSensitiveLog:()=>Gn,SearchFieldFilterSensitiveLog:()=>Wn,SearchFieldKey:()=>Vr,SearchFieldOperator:()=>jr,SendChannelMessageCommand:()=>qa,SendChannelMessageRequestFilterSensitiveLog:()=>Jn,SendChannelMessageResponseFilterSensitiveLog:()=>Zn,ServiceFailureException:()=>Hr,ServiceUnavailableException:()=>Wr,SortOrder:()=>Nr,SubChannelSummaryFilterSensitiveLog:()=>Nn,TagFilterSensitiveLog:()=>Oi,TagResourceCommand:()=>Ha,TagResourceRequestFilterSensitiveLog:()=>Qn,ThrottledClientException:()=>Kr,UnauthorizedClientException:()=>Gr,UntagResourceCommand:()=>Wa,UntagResourceRequestFilterSensitiveLog:()=>Xn,UpdateChannelCommand:()=>Ka,UpdateChannelFlowCommand:()=>Ga,UpdateChannelFlowRequestFilterSensitiveLog:()=>to,UpdateChannelFlowResponseFilterSensitiveLog:()=>ro,UpdateChannelMessageCommand:()=>Ja,UpdateChannelMessageRequestFilterSensitiveLog:()=>io,UpdateChannelMessageResponseFilterSensitiveLog:()=>no,UpdateChannelReadMarkerCommand:()=>Za,UpdateChannelReadMarkerRequestFilterSensitiveLog:()=>oo,UpdateChannelReadMarkerResponseFilterSensitiveLog:()=>so,UpdateChannelRequestFilterSensitiveLog:()=>Yn,UpdateChannelResponseFilterSensitiveLog:()=>eo,paginateListChannelBans:()=>ec,paginateListChannelFlows:()=>ic,paginateListChannelMemberships:()=>lc,paginateListChannelMembershipsForAppInstanceUser:()=>sc,paginateListChannelMessages:()=>hc,paginateListChannelModerators:()=>fc,paginateListChannels:()=>Cc,paginateListChannelsAssociatedWithChannelFlow:()=>vc,paginateListChannelsModeratedByAppInstanceUser:()=>Sc,paginateListSubChannels:()=>Tc,paginateSearchChannels:()=>Ac});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o,s=function(){return s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};function a(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function d(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function h(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){o.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof u?Promise.resolve(r.value.v).then(c,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}Object.create,Object.create,function(e){e.ENV="env",e.CONFIG="shared config entry"}(o||(o={}));var p=function(){return p=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},p.apply(this,arguments)};function m(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function f(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create,Object.create;var g=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}},b=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},v=function(e){return b(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},y=function(e,t){var r;void 0===e&&(e=[]);var i=t.useFipsEndpoint,n=t.useDualstackEndpoint;return null===(r=e.find((function(e){var t=e.tags;return i===t.includes("fips")&&n===t.includes("dualstack")})))||void 0===r?void 0:r.hostname},w=function(e,t){var r,i,n,o,s,a,c=t.useFipsEndpoint,l=void 0!==c&&c,d=t.useDualstackEndpoint,u=void 0!==d&&d,h=t.signingService,m=t.regionHash,f=t.partitionHash,g=function(e,t){var r,i=t.partitionHash;return null!==(r=Object.keys(i||{}).find((function(t){return i[t].regions.includes(e)})))&&void 0!==r?r:"aws"}(e,{partitionHash:f}),b=e in m?e:null!==(i=null===(r=f[g])||void 0===r?void 0:r.endpoint)&&void 0!==i?i:e,v={useFipsEndpoint:l,useDualstackEndpoint:u},w=function(e,t){var r=t.partitionHostname;return t.regionHostname||(r?r.replace("{region}",e):void 0)}(b,{regionHostname:y(null===(n=m[b])||void 0===n?void 0:n.variants,v),partitionHostname:y(null===(o=f[g])||void 0===o?void 0:o.variants,v)});if(void 0===w)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:b,useFipsEndpoint:l,useDualstackEndpoint:u}));var S=function(e,t){var r=t.signingRegion;if(r)return r;if(t.useFipsEndpoint){var i=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),n=e.match(i);if(n)return n[0].slice(1,-1)}}(w,{signingRegion:null===(s=m[b])||void 0===s?void 0:s.signingRegion,regionRegex:f[g].regionRegex,useFipsEndpoint:l});return p(p({partition:g,signingService:h,hostname:w},S&&{signingRegion:S}),(null===(a=m[b])||void 0===a?void 0:a.signingService)&&{signingService:m[b].signingService})},S=function(){return S=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},S.apply(this,arguments)};Object.create,Object.create;var x=function(){return x=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},x.apply(this,arguments)};Object.create,Object.create;var k=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,r=new e(x(x({},this),{headers:x({},this.headers)}));return r.query&&(r.query=(t=r.query,Object.keys(t).reduce((function(e,r){var i,n=t[r];return x(x({},e),((i={})[r]=Array.isArray(n)?function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}(n),!1):n,i))}),{}))),r},e}(),C=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),E={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(r){return function(i){return n=t,o=void 0,a=function(){var t,n,o,s,a;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(c){if(t=i.request,k.isInstance(t)&&(n=t.body,o=t.headers,n&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf("content-length")))try{s=e(n),t.headers=S(S({},t.headers),((a={})["content-length"]=String(s),a))}catch(e){}return[2,r(S(S({},i),{request:t}))]}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function i(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(r,i)}c((a=a.apply(n,o||[])).next())}));var n,o,s,a}}}(e.bodyLengthChecker),E)}}};Object.create,Object.create;var T={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},I=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(r){return i=void 0,n=void 0,s=function(){var i,n;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){return k.isInstance(r.request)?(i=r.request,(void 0===(n=(e.requestHandler.metadata||{}).handlerProtocol)?"":n).indexOf("h2")>=0&&!i.headers[":authority"]?(delete i.headers.host,i.headers[":authority"]=""):i.headers.host||(i.headers.host=i.hostname),[2,t(r)]):[2,t(r)]}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}c((s=s.apply(i,n||[])).next())}));var i,n,o,s}}}(e),T)}}};Object.create,Object.create;var M=function(){return function(e,t){return function(r){return i=void 0,n=void 0,s=function(){var i,n,o,s,a,c,l,d,u;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(h){switch(h.label){case 0:return i=t.clientName,n=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(r)];case 1:return c=h.sent(),s?("function"==typeof s.info&&(l=c.output,d=l.$metadata,u=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(l,["$metadata"]),s.info({clientName:i,commandName:n,input:o(r.input),output:a(u),metadata:d})),[2,c]):[2,c]}}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}c((s=s.apply(i,n||[])).next())}));var i,n,o,s}}},A={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},O=function(){return O=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},O.apply(this,arguments)};Object.create,Object.create;var P,D={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},R=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(r){return i=void 0,n=void 0,s=function(){var i,n,o,s;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(a){return i=r.request,!k.isInstance(i)||"node"!==e.runtime||i.headers.hasOwnProperty("X-Amzn-Trace-Id")?[2,t(r)]:(n=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,(s=function(e){return"string"==typeof e&&e.length>0})(n)&&s(o)&&(i.headers["X-Amzn-Trace-Id"]=o),[2,t(O(O({},r),{request:i}))])}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}c((s=s.apply(i,n||[])).next())}));var i,n,o,s}}}(e),D)}}},L=function(e,t){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},L(e,t)},F=function(){return F=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},F.apply(this,arguments)};function B(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function N(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function V(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create,function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(P||(P={}));var j,U=P.STANDARD,z=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],$=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],q=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],H=[500,502,503,504],W=function(e){var t,r;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||$.includes(e.name)||1==(null===(r=e.$retryable)||void 0===r?void 0:r.throttling)},K=function(){function e(e){var t,r,i,n,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(r=null==e?void 0:e.minCapacity)&&void 0!==r?r:1,this.minFillRate=null!==(i=null==e?void 0:e.minFillRate)&&void 0!==i?i:.5,this.scaleConstant=null!==(n=null==e?void 0:e.scaleConstant)&&void 0!==n?n:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return B(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return B(this,void 0,void 0,(function(){var t;return N(this,(function(r){switch(r.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),W(e)){var r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var i=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(i)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var r=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),G=new Uint8Array(16);function J(){if(!j&&!(j="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(G)}const Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q=function(e){return"string"==typeof e&&Z.test(e)};for(var X=[],Y=0;Y<256;++Y)X.push((Y+256).toString(16).substr(1));const ee=function(e,t,r){var i=(e=e||{}).random||(e.rng||J)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=i[n];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(X[e[t+0]]+X[e[t+1]]+X[e[t+2]]+X[e[t+3]]+"-"+X[e[t+4]]+X[e[t+5]]+"-"+X[e[t+6]]+X[e[t+7]]+"-"+X[e[t+8]]+X[e[t+9]]+"-"+X[e[t+10]]+X[e[t+11]]+X[e[t+12]]+X[e[t+13]]+X[e[t+14]]+X[e[t+15]]).toLowerCase();if(!Q(r))throw TypeError("Stringified UUID is invalid");return r}(i)};var te=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},re=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return z.includes(e.name)}(e)||W(e)||function(e){var t;return q.includes(e.name)||H.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},ie=function(){function e(e,t){var r,i,n,o,s,a,c,l,d;this.maxAttemptsProvider=e,this.mode=P.STANDARD,this.retryDecider=null!==(r=null==t?void 0:t.retryDecider)&&void 0!==r?r:re,this.delayDecider=null!==(i=null==t?void 0:t.delayDecider)&&void 0!==i?i:te,this.retryQuota=null!==(n=null==t?void 0:t.retryQuota)&&void 0!==n?n:(o=1,s=5,a=10,c=500,l=function(e){return"TimeoutError"===e.name?a:s},d=function(e){return l(e)<=c},Object.freeze({hasRetryTokens:d,retrieveRetryTokens:function(e){if(!d(e))throw new Error("No retry token available");var t=l(e);return c-=t,t},releaseRetryTokens:function(e){c+=null!=e?e:o,c=Math.min(c,500)}}))}return e.prototype.shouldRetry=function(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return B(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,r){return B(this,void 0,void 0,(function(){var i,n,o,s,a,c,l,d;return N(this,(function(u){switch(u.label){case 0:return n=0,o=0,[4,this.getMaxAttempts()];case 1:s=u.sent(),a=t.request,k.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=ee()),c=function(){var c,d,u,h,p,m;return N(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,7]),k.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt=".concat(n+1,"; max=").concat(s)),(null==r?void 0:r.beforeRequest)?[4,r.beforeRequest()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[4,e(t)];case 3:return c=f.sent(),d=c.response,u=c.output,(null==r?void 0:r.afterRequest)&&r.afterRequest(d),l.retryQuota.releaseRetryTokens(i),u.$metadata.attempts=n+1,u.$metadata.totalRetryDelay=o,[2,{value:{response:d,output:u}}];case 4:return h=f.sent(),p=ne(h),n++,l.shouldRetry(p,n,s)?(i=l.retryQuota.retrieveRetryTokens(p),m=l.delayDecider(W(p)?500:100,n),o+=m,[4,new Promise((function(e){return setTimeout(e,m)}))]):[3,6];case 5:return f.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=n,p.$metadata.totalRetryDelay=o,p;case 7:return[2]}}))},l=this,u.label=2;case 2:return[5,c()];case 3:return"object"==typeof(d=u.sent())?[2,d.value]:[3,2];case 4:return[2]}}))}))},e}(),ne=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},oe=function(e){function t(t,r){var i=this,n=null!=r?r:{},o=n.rateLimiter,s=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(n,["rateLimiter"]);return(i=e.call(this,t,s)||this).rateLimiter=null!=o?o:new K,i.mode=P.ADAPTIVE,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.retry=function(t,r){return B(this,void 0,void 0,(function(){var i=this;return N(this,(function(n){return[2,e.prototype.retry.call(this,t,r,{beforeRequest:function(){return B(i,void 0,void 0,(function(){return N(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){i.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(ie),se={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ae=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,r){return function(i){return B(void 0,void 0,void 0,(function(){var n;return N(this,(function(o){switch(o.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(n=o.sent())?void 0:n.mode)&&(r.userAgent=V(V([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}(r.userAgent||[]),!1),[["cfg/retry-mode",n.mode]],!1)),[2,n.retry(t,i)]}}))}))}}}(e),se)}}},ce=function(){return ce=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ce.apply(this,arguments)};function le(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function de(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create,Object.create;var ue,he=function(e,t){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},he(e,t)};function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function me(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function fe(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create,Object.create,ue=function(e){function t(r,i){void 0===i&&(i=!0);var n=e.call(this,r)||this;return n.tryNextLink=i,n.name="ProviderError",Object.setPrototypeOf(n,t.prototype),n}return pe(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error),pe((function e(t,r){void 0===r&&(r=!0);var i=ue.call(this,t,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,e.prototype),i}),ue);var ge=function(e,t,r){var i,n,o,s=!1,a=function(){return me(void 0,void 0,void 0,(function(){return fe(this,(function(t){switch(t.label){case 0:n||(n=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,n];case 2:return i=t.sent(),o=!0,s=!1,[3,4];case 3:return n=void 0,[7];case 4:return[2,i]}}))}))};return void 0===t?function(e){return me(void 0,void 0,void 0,(function(){return fe(this,(function(t){switch(t.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,a()];case 1:i=t.sent(),t.label=2;case 2:return[2,i]}}))}))}:function(e){return me(void 0,void 0,void 0,(function(){return fe(this,(function(n){switch(n.label){case 0:return o&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,a()];case 1:i=n.sent(),n.label=2;case 2:return s?[2,i]:r&&!r(i)?(s=!0,[2,i]):t(i)?[4,a()]:[3,4];case 3:return n.sent(),[2,i];case 4:return[2,i]}}))}))}},be=function(){return be=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},be.apply(this,arguments)};function ve(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function ye(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function we(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create,Object.create;var Se=r(6145),xe="X-Amz-Signature",ke="X-Amz-Security-Token",Ce="authorization",Ee="X-Amz-Date".toLowerCase(),_e=[Ce,Ee,"date"],Te=xe.toLowerCase(),Ie="x-amz-content-sha256",Me=ke.toLowerCase(),Ae={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Oe=/^proxy-/,Pe=/^sec-/,De="AWS4-HMAC-SHA256",Re="AWS4-HMAC-SHA256-PAYLOAD",Le="aws4_request",Fe={},Be=[],Ne=function(e,t,r){return"".concat(e,"/").concat(t,"/").concat(r,"/").concat(Le)},Ve=function(e,t,r){var i=new e(t);return i.update(r),i.digest()},je=function(e,t,r){var i,n,o=e.headers,s={};try{for(var a=we(Object.keys(o).sort()),c=a.next();!c.done;c=a.next()){var l=c.value;if(null!=o[l]){var d=l.toLowerCase();(d in Ae||(null==t?void 0:t.has(d))||Oe.test(d)||Pe.test(d))&&(!r||r&&!r.has(d))||(s[d]=o[l].trim().replace(/\s+/g," "))}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},Ue=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,ze)},ze=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},$e=function(e,t){var r=e.headers,i=e.body;return ve(void 0,void 0,void 0,(function(){var e,n,o,s,a,c,l;return ye(this,(function(d){switch(d.label){case 0:try{for(e=we(Object.keys(r)),n=e.next();!n.done;n=e.next())if((o=n.value).toLowerCase()===Ie)return[2,r[o]]}catch(e){c={error:e}}finally{try{n&&!n.done&&(l=e.return)&&l.call(e)}finally{if(c)throw c.error}}return null!=i?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof i||ArrayBuffer.isView(i)||(u=i,"function"==typeof ArrayBuffer&&u instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(u))?((s=new t).update(i),a=Se.toHex,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[d.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var u}))}))},qe=function(e){var t=e.headers,r=e.query,i=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,["headers","query"]);return be(be({},i),{headers:be({},t),query:r?He(r):void 0})},He=function(e){return Object.keys(e).reduce((function(t,r){var i,n=e[r];return be(be({},t),((i={})[r]=Array.isArray(n)?function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}(n),!1):n,i))}),{})},We=function(e){var t,r;e="function"==typeof e.clone?e.clone():qe(e);try{for(var i=we(Object.keys(e.headers)),n=i.next();!n.done;n=i.next()){var o=n.value;_e.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return e},Ke=function(){function e(e){var t=e.applyChecksum,r=e.credentials,i=e.region,n=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=n,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=g(i),this.credentialProvider=g(r)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),ve(this,void 0,void 0,(function(){var r,i,n,o,s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C,E;return ye(this,(function(_){switch(_.label){case 0:return r=t.signingDate,i=void 0===r?new Date:r,n=t.expiresIn,o=void 0===n?3600:n,s=t.unsignableHeaders,a=t.unhoistableHeaders,c=t.signableHeaders,l=t.signingRegion,d=t.signingService,[4,this.credentialProvider()];case 1:return u=_.sent(),null==l?[3,2]:(p=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=_.sent(),_.label=4;case 4:return h=p,m=Ge(i),f=m.longDate,g=m.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(b=Ne(g,h,null!=d?d:this.service),v=function(e,t){var r,i,n;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():qe(e),s=o.headers,a=o.query,c=void 0===a?{}:a;try{for(var l=we(Object.keys(s)),d=l.next();!d.done;d=l.next()){var u=d.value,h=u.toLowerCase();"x-amz-"!==h.slice(0,6)||(null===(n=t.unhoistableHeaders)||void 0===n?void 0:n.has(h))||(c[u]=s[u],delete s[u])}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return be(be({},e),{headers:s,query:c})}(We(e),{unhoistableHeaders:a}),u.sessionToken&&(v.query[ke]=u.sessionToken),v.query["X-Amz-Algorithm"]=De,v.query["X-Amz-Credential"]="".concat(u.accessKeyId,"/").concat(b),v.query["X-Amz-Date"]=f,v.query["X-Amz-Expires"]=o.toString(10),y=je(v,s,c),v.query["X-Amz-SignedHeaders"]=Je(y),w=v.query,S=xe,x=this.getSignature,k=[f,b,this.getSigningKey(u,h,g,d)],C=this.createCanonicalRequest,E=[v,y],[4,$e(e,this.sha256)]);case 5:return[4,x.apply(this,k.concat([C.apply(this,E.concat([_.sent()]))]))];case 6:return w[S]=_.sent(),[2,v]}}))}))},e.prototype.sign=function(e,t){return ve(this,void 0,void 0,(function(){return ye(this,(function(r){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var r=e.headers,i=e.payload,n=t.signingDate,o=void 0===n?new Date:n,s=t.priorSignature,a=t.signingRegion,c=t.signingService;return ve(this,void 0,void 0,(function(){var e,t,n,l,d,u,h,p,m,f,g;return ye(this,(function(b){switch(b.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=b.sent(),b.label=3;case 3:return e=t,n=Ge(o),l=n.shortDate,d=n.longDate,u=Ne(l,e,null!=c?c:this.service),[4,$e({headers:{},body:i},this.sha256)];case 4:return h=b.sent(),(p=new this.sha256).update(r),f=Se.toHex,[4,p.digest()];case 5:return m=f.apply(void 0,[b.sent()]),g=[Re,d,u,s,m,h].join("\n"),[2,this.signString(g,{signingDate:o,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var r=void 0===t?{}:t,i=r.signingDate,n=void 0===i?new Date:i,o=r.signingRegion,s=r.signingService;return ve(this,void 0,void 0,(function(){var t,r,i,a,c,l,d,u;return ye(this,(function(h){switch(h.label){case 0:return[4,this.credentialProvider()];case 1:return t=h.sent(),null==o?[3,2]:(i=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=h.sent(),h.label=4;case 4:return r=i,a=Ge(n).shortDate,d=(l=this.sha256).bind,[4,this.getSigningKey(t,r,a,s)];case 5:return(c=new(d.apply(l,[void 0,h.sent()]))).update(e),u=Se.toHex,[4,c.digest()];case 6:return[2,u.apply(void 0,[h.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var r=void 0===t?{}:t,i=r.signingDate,n=void 0===i?new Date:i,o=r.signableHeaders,s=r.unsignableHeaders,a=r.signingRegion,c=r.signingService;return ve(this,void 0,void 0,(function(){var t,r,i,l,d,u,h,p,m,f,g;return ye(this,(function(b){switch(b.label){case 0:return[4,this.credentialProvider()];case 1:return t=b.sent(),null==a?[3,2]:(i=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=b.sent(),b.label=4;case 4:return r=i,l=We(e),d=Ge(n),u=d.longDate,h=d.shortDate,p=Ne(h,r,null!=c?c:this.service),l.headers[Ee]=u,t.sessionToken&&(l.headers[Me]=t.sessionToken),[4,$e(l,this.sha256)];case 5:return m=b.sent(),!function(e,t){var r,i;e=e.toLowerCase();try{for(var n=we(Object.keys(t)),o=n.next();!o.done;o=n.next())if(e===o.value.toLowerCase())return!0}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return!1}(Ie,l.headers)&&this.applyChecksum&&(l.headers[Ie]=m),f=je(l,s,o),[4,this.getSignature(u,p,this.getSigningKey(t,r,h,c),this.createCanonicalRequest(l,f,m))];case 6:return g=b.sent(),l.headers[Ce]="".concat(De," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(Je(f),", ")+"Signature=".concat(g),[2,l]}}))}))},e.prototype.createCanonicalRequest=function(e,t,r){var i=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,r,i=e.query,n=void 0===i?{}:i,o=[],s={},a=function(e){if(e.toLowerCase()===Te)return"continue";o.push(e);var t=n[e];"string"==typeof t?s[e]="".concat(Ue(e),"=").concat(Ue(t)):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,r){return t.concat(["".concat(Ue(e),"=").concat(Ue(r))])}),[]).join("&"))};try{for(var c=we(Object.keys(n).sort()),l=c.next();!l.done;l=c.next())a(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(i.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(i.join(";"),"\n").concat(r)},e.prototype.createStringToSign=function(e,t,r){return ve(this,void 0,void 0,(function(){var i,n;return ye(this,(function(o){switch(o.label){case 0:return(i=new this.sha256).update(r),[4,i.digest()];case 1:return n=o.sent(),[2,"".concat(De,"\n").concat(e,"\n").concat(t,"\n").concat((0,Se.toHex)(n))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,r,i=e.path;if(this.uriEscapePath){var n=[];try{for(var o=we(i.split("/")),s=o.next();!s.done;s=o.next()){var a=s.value;0!==(null==a?void 0:a.length)&&"."!==a&&(".."===a?n.pop():n.push(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}var c="".concat((null==i?void 0:i.startsWith("/"))?"/":"").concat(n.join("/")).concat(n.length>0&&(null==i?void 0:i.endsWith("/"))?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return i},e.prototype.getSignature=function(e,t,r,i){return ve(this,void 0,void 0,(function(){var n,o,s,a,c;return ye(this,(function(l){switch(l.label){case 0:return[4,this.createStringToSign(e,t,i)];case 1:return n=l.sent(),a=(s=this.sha256).bind,[4,r];case 2:return(o=new(a.apply(s,[void 0,l.sent()]))).update(n),c=Se.toHex,[4,o.digest()];case 3:return[2,c.apply(void 0,[l.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,r,i){return function(e,t,r,i,n){return ve(void 0,void 0,void 0,(function(){var o,s,a,c,l,d,u,h,p;return ye(this,(function(m){switch(m.label){case 0:return[4,Ve(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=m.sent(),(s="".concat(r,":").concat(i,":").concat(n,":").concat((0,Se.toHex)(o),":").concat(t.sessionToken))in Fe)return[2,Fe[s]];for(Be.push(s);Be.length>50;)delete Fe[Be.shift()];a="AWS4".concat(t.secretAccessKey),m.label=2;case 2:m.trys.push([2,7,8,9]),c=we([r,i,n,Le]),l=c.next(),m.label=3;case 3:return l.done?[3,6]:(d=l.value,[4,Ve(e,a,d)]);case 4:a=m.sent(),m.label=5;case 5:return l=c.next(),[3,3];case 6:return[3,9];case 7:return u=m.sent(),h={error:u},[3,9];case 8:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(h)throw h.error}return[7];case 9:return[2,Fe[s]=a]}}))}))}(this.sha256,e,r,t,i||this.service)},e}(),Ge=function(e){var t,r=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}},Je=function(e){return Object.keys(e).sort().join(";")},Ze=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Qe=function(e){return new Date(Date.now()+e)},Xe=function(e,t){var r=Date.parse(e);return function(e,t){return Math.abs(Qe(t).getTime()-e)>=3e5}(r,t)?r-Date.now():t},Ye=function(e){var t,r,i;return C.isInstance(e)?null!==(r=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==r?r:null===(i=e.headers)||void 0===i?void 0:i.Date:void 0},et={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},tt=function(){return tt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},tt.apply(this,arguments)};function rt(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function it(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create;var nt="user-agent",ot="x-amz-user-agent",st=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,at=function(e){var t=rt(e,2),r=t[0],i=t[1],n=r.indexOf("/"),o=r.substring(0,n),s=r.substring(n+1);return"api"===o&&(s=s.toLowerCase()),[o,s,i].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(st,"_")})).join("/")},ct={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},lt=function(e){return{applyToStack:function(t){var r;t.add((r=e,function(e,t){return function(i){return n=void 0,o=void 0,a=function(){var n,o,s,a,c,l,d,u,h;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(p){switch(p.label){case 0:return n=i.request,k.isInstance(n)?(o=n.headers,s=(null===(u=null==t?void 0:t.userAgent)||void 0===u?void 0:u.map(at))||[],[4,r.defaultUserAgentProvider()]):[2,e(i)];case 1:return a=p.sent().map(at),c=(null===(h=null==r?void 0:r.customUserAgent)||void 0===h?void 0:h.map(at))||[],l=it(it(it([],rt(a),!1),rt(s),!1),rt(c),!1).join(" "),d=it(it([],rt(a.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),rt(c),!1).join(" "),"browser"!==r.runtime?(d&&(o[ot]=o[ot]?"".concat(o[nt]," ").concat(d):d),o[nt]=l):o[ot]=l,[2,e(tt(tt({},i),{request:n}))]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function i(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(r,i)}c((a=a.apply(n,o||[])).next())}));var n,o,s,a}}),ct)}}},dt=function(){return dt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},dt.apply(this,arguments)};function ut(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function ht(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create;var pt=function(){var e=[],t=[],r=new Set,i=function(r){return e.forEach((function(e){r.add(e.middleware,dt({},e))})),t.forEach((function(e){r.addRelativeTo(e.middleware,dt({},e))})),r},n=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ht([],ut(n(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,ht([],ut(n(e)),!1))})),t},o={add:function(t,i){void 0===i&&(i={});var n=i.name,o=i.override,s=dt({step:"initialize",priority:"normal",middleware:t},i);if(n){if(r.has(n)){if(!o)throw new Error("Duplicate middleware name '".concat(n,"'"));var a=e.findIndex((function(e){return e.name===n})),c=e[a];if(c.step!==s.step||c.priority!==s.priority)throw new Error('"'.concat(n,'" middleware with ').concat(c.priority," priority in ").concat(c.step," step cannot be ")+"overridden by same-name middleware with ".concat(s.priority," priority in ").concat(s.step," step."));e.splice(a,1)}r.add(n)}e.push(s)},addRelativeTo:function(e,i){var n=i.name,o=i.override,s=dt({middleware:e},i);if(n){if(r.has(n)){if(!o)throw new Error("Duplicate middleware name '".concat(n,"'"));var a=t.findIndex((function(e){return e.name===n})),c=t[a];if(c.toMiddleware!==s.toMiddleware||c.relation!==s.relation)throw new Error('"'.concat(n,'" middleware ').concat(c.relation,' "').concat(c.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(s.relation,' "').concat(s.toMiddleware,'" middleware.'));t.splice(a,1)}r.add(n)}t.push(s)},clone:function(){return i(pt())},use:function(e){e.applyToStack(o)},remove:function(i){return"string"==typeof i?function(i){var n=!1,o=function(e){return!e.name||e.name!==i||(n=!0,r.delete(i),!1)};return e=e.filter(o),t=t.filter(o),n}(i):function(i){var n=!1,o=function(e){return e.middleware!==i||(n=!0,e.name&&r.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),n}(i)},removeByTag:function(i){var n=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(i)||(o&&r.delete(o),n=!0,!1)};return e=e.filter(o),t=t.filter(o),n},concat:function(e){var t=i(pt());return t.use(e),t},applyToStack:i,resolve:function(r,i){var o,s;try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var r,i=[],o=[],s={};return e.forEach((function(e){var t=dt(dt({},e),{before:[],after:[]});t.name&&(s[t.name]=t),i.push(t)})),t.forEach((function(e){var t=dt(dt({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware));"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(r=i,r.sort((function(e,t){return mt[t.step]-mt[e.step]||ft[t.priority||"normal"]-ft[e.priority||"normal"]}))).map(n).reduce((function(e,t){return e.push.apply(e,ht([],ut(t),!1)),e}),[]).map((function(e){return e.middleware}))}().reverse()),c=a.next();!c.done;c=a.next())r=(0,c.value)(r,i)}catch(e){o={error:e}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return r}};return o},mt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ft={high:3,normal:2,low:1},gt=function(){function e(e){this.middlewareStack=pt(),this.config=e}return e.prototype.send=function(e,t,r){var i="function"!=typeof t?t:void 0,n="function"==typeof t?t:r,o=e.resolveMiddleware(this.middlewareStack,this.config,i);if(!n)return o(e).then((function(e){return e.output}));o(e).then((function(e){return n(null,e.output)}),(function(e){return n(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),bt=function(){this.middlewareStack=pt()},vt="***SensitiveInformation***",yt=function(e){if(null!=e){if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e))}},wt=function(e){if(null!=e){if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e))}},St=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e))}}),xt=function(e){return kt(e,32)},kt=function(e,t){var r=St(e);if(void 0!==r&&Ct(r,t)!==r)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return r},Ct=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Et=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},_t=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;throw new TypeError("Expected object, got ".concat(typeof e))}},Tt=function(e){if(null!=e){if("string"==typeof e)return e;throw new TypeError("Expected string, got ".concat(typeof e))}},It=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Mt=function(e){var t=e.match(It);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},At=function(e){if(null!=e){var t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=function(e){return wt("string"==typeof e?Mt(e):e)}(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}},Ot=function(e,t){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Ot(e,t)};function Pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Dt(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function Rt(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create;var Lt=function(e){function t(r){var i=e.call(this,r.message)||this;return Object.setPrototypeOf(i,t.prototype),i.name=r.name,i.$fault=r.$fault,i.$metadata=r.$metadata,i}return Pt(t,e),t}(Error),Ft=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Dt(e,2)[1]})).forEach((function(t){var r=Dt(t,2),i=r[0],n=r[1];null!=e[i]&&""!==e[i]||(e[i]=n)}));var r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Bt=function(e){var t=e.output,r=e.parsedBody,i=e.exceptionCtor,n=e.errorCode,o=Nt(t),s=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new i({name:r.code||r.Code||n||s||"UnknowError",$fault:"client",$metadata:o});throw Ft(a,r)},Nt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Vt=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},jt=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Rt([null],Dt(arguments),!1)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};function Ut(e,t,r){var i,n,o,s;if(void 0===t&&void 0===r)o={},s=e;else{if(o=e,"function"==typeof t)return zt(o,t,s=r);s=t}try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(s)),c=a.next();!c.done;c=a.next()){var l=c.value;if(Array.isArray(s[l])){var d=Dt(s[l],2),u=d[0],h=d[1];if("function"==typeof h){var p=void 0,m=void 0===u&&null!=(p=h()),f="function"==typeof u&&!!u(void 0)||"function"!=typeof u&&!!u;m?o[l]=p:f&&(o[l]=h())}else m=void 0===u&&null!=h,f="function"==typeof u&&!!u(h)||"function"!=typeof u&&!!u,(m||f)&&(o[l]=h)}else o[l]=s[l]}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}jt.prototype=Object.create(String.prototype,{constructor:{value:jt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(jt,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Pt(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(jt);var zt=function(e,t,r){return Ut(e,Object.entries(r).reduce((function(e,r){var i=Dt(r,2),n=i[0],o=i[1];return Array.isArray(o)?e[n]=o:e[n]="function"==typeof o?[t,o()]:[t,o],e}),{}))};function $t(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var qt=function(e,t,r,i,n,o){if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");var s=i();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");return e.replace(n,o?s.split("/").map((function(e){return $t(e)})).join("/"):$t(s))};var Ht=r(8322);function Wt(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function Kt(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create,Object.create,Object.create,Object.create;for(var Gt=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var r=(void 0===t?{}:t).abortSignal;return Wt(this,void 0,void 0,(function(){var t,i,n,o,s,a,c,l,d,u,h,p;return Kt(this,(function(m){switch(m.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=m.sent(),m.label=2;case 2:return i=this.config.requestTimeout,(null==r?void 0:r.aborted)?((n=new Error("Request aborted")).name="AbortError",[2,Promise.reject(n)]):(o=e.path,e.query&&(s=function(e){var t,r,i=[];try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=n.next();!o.done;o=n.next()){var s=o.value,a=e[s];if(s=Ue(s),Array.isArray(a))for(var c=0,l=a.length;c<l;c++)i.push("".concat(s,"=").concat(Ue(a[c])));else{var d=s;(a||"string"==typeof a)&&(d+="=".concat(Ue(a))),i.push(d)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return i.join("&")}(e.query),s&&(o+="?".concat(s))),a=e.port,c=e.method,l="".concat(e.protocol,"//").concat(e.hostname).concat(a?":".concat(a):"").concat(o),d="GET"===c||"HEAD"===c?void 0:e.body,u={body:d,headers:new Headers(e.headers),method:c},"undefined"!=typeof AbortController&&(u.signal=r),h=new Request(l,u),p=[fetch(h).then((function(e){var t,r,i=e.headers,n={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;n[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new C({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new C({headers:n,statusCode:e.status,body:t})}}))})),(f=i,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(f," ms"));e.name="TimeoutError",t(e)}),f)})))],r&&p.push(new Promise((function(e,t){r.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var f}))}))},e}(),Jt={},Zt=new Array(64),Qt=0,Xt="A".charCodeAt(0),Yt="Z".charCodeAt(0);Qt+Xt<=Yt;Qt++){var er=String.fromCharCode(Qt+Xt);Jt[er]=Qt,Zt[Qt]=er}for(Qt=0,Xt="a".charCodeAt(0),Yt="z".charCodeAt(0);Qt+Xt<=Yt;Qt++){er=String.fromCharCode(Qt+Xt);var tr=Qt+26;Jt[er]=tr,Zt[tr]=er}for(Qt=0;Qt<10;Qt++)Jt[Qt.toString(10)]=Qt+52,er=Qt.toString(10),tr=Qt+52,Jt[er]=tr,Zt[tr]=er;function rr(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var r=new ArrayBuffer(t),i=new DataView(r),n=0;n<e.length;n+=4){for(var o=0,s=0,a=n,c=n+3;a<=c;a++)if("="!==e[a]){if(!(e[a]in Jt))throw new TypeError("Invalid character ".concat(e[a]," in base64 string."));o|=Jt[e[a]]<<6*(c-a),s+=6}else o>>=6;var l=n/4*3;o>>=s%8;for(var d=Math.floor(s/8),u=0;u<d;u++){var h=8*(d-u-1);i.setUint8(l+u,(o&255<<h)>>h)}}return new Uint8Array(r)}function ir(e){for(var t="",r=0;r<e.length;r+=3){for(var i=0,n=0,o=r,s=Math.min(r+3,e.length);o<s;o++)i|=e[o]<<8*(s-o-1),n+=8;var a=Math.ceil(n/6);i<<=6*a-n;for(var c=1;c<=a;c++){var l=6*(a-c);t+=Zt[(i&63<<l)>>l]}t+="==".slice(0,4-a)}return t}Jt["+"]=62,Zt[62]="+",Jt["/"]=63,Zt[63]="/";var nr=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Wt(this,void 0,void 0,(function(){var t,r;return Kt(this,(function(i){switch(i.label){case 0:return[4,or(e)];case 1:return t=i.sent(),r=rr(t),[2,new Uint8Array(r)]}}))}))}(e):function(e){return Wt(this,void 0,void 0,(function(){var t,r,i,n,o,s,a;return Kt(this,(function(c){switch(c.label){case 0:t=new Uint8Array(0),r=e.getReader(),i=!1,c.label=1;case 1:return i?[3,3]:[4,r.read()];case 2:return n=c.sent(),o=n.done,(s=n.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),i=o,[3,1];case 3:return[2,t]}}))}))}(e)};function or(e){return new Promise((function(t,r){var i=new FileReader;i.onloadend=function(){var e;if(2!==i.readyState)return r(new Error("Reader aborted too early"));var n=null!==(e=i.result)&&void 0!==e?e:"",o=n.indexOf(","),s=o>-1?o+1:n.length;t(n.substring(s))},i.onabort=function(){return r(new Error("Read aborted"))},i.onerror=function(){return r(i.error)},i.readAsDataURL(e)}))}var sr=function(e){if("string"==typeof e){for(var t=e.length,r=t-1;r>=0;r--){var i=e.charCodeAt(r);i>127&&i<=2047?t++:i>2047&&i<=65535&&(t+=2)}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))};Object.create,Object.create;var ar=r(7160),cr=r.n(ar),lr=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return e=void 0,i=void 0,o=function(){var e,i,n,o,s,a,c,l,d;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(u){return e="undefined"!=typeof window&&(null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.userAgent)?cr().parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/".concat((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser","".concat(null!==(c=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==c?c:"unknown","_").concat(null!==(d=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==d?d:"unknown")]],t&&i.push(["api/".concat(t),r]),[2,i]}))},new((n=void 0)||(n=Promise))((function(t,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}c((o=o.apply(e,i||[])).next())}));var e,i,n,o}},dr=r(6778);function ur(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}Object.create,Object.create;var hr=function(e){var t,r=new URL(e),i=r.hostname,n=r.pathname,o=r.port,s=r.protocol,a=r.search;return a&&(t=function(e){var t,r,i={};if(e=e.replace(/^\?/,""))try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=n.next();!o.done;o=n.next()){var s=ur(o.value.split("="),2),a=s[0],c=s[1],l=void 0===c?null:c;a=decodeURIComponent(a),l&&(l=decodeURIComponent(l)),a in i?Array.isArray(i[a])?i[a].push(l):i[a]=[i[a],l]:i[a]=l}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return i}(a)),{hostname:i,port:o?parseInt(o):void 0,protocol:s,path:n,query:t}},pr={"us-east-1":{variants:[{hostname:"messaging-chime-fips.us-east-1.amazonaws.com",tags:["fips"]}]}},mr={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-1-fips","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com.cn",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.c2s.ic.gov",tags:[]},{hostname:"messaging-chime-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.sc2s.sgov.gov",tags:[]},{hostname:"messaging-chime-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.aws",tags:["dualstack"]}]}},fr=function(e,t){return a(void 0,void 0,void 0,(function(){return c(this,(function(r){return[2,w(e,s(s({},t),{signingService:"chime",regionHash:pr,partitionHash:mr}))]}))}))};Object.create,Object.create;var gr=["in-region","cross-region","mobile","standard","legacy"],br=function(){var e,t,r="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?cr().parse(window.navigator.userAgent):void 0,i=null===(t=null==r?void 0:r.platform)||void 0===t?void 0:t.type;return"tablet"===i||"mobile"===i},vr=function(e){var t,r,i,n,o,l,d,u,h,p,m,f,g,b,v,y=function(e){var t=(void 0===e?{}:e).defaultsMode;return ge((function(){return e=void 0,r=void 0,n=function(){var e,r;return function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return r=i.sent(),[3,3];case 2:r=t,i.label=3;case 3:switch(null==(e=r)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(br()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(gr.join(", "),", got ").concat(e))}return[2]}}))},new((i=void 0)||(i=Promise))((function(t,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(e){e(r)}))).then(s,a)}c((n=n.apply(e,r||[])).next())}));var e,r,i,n}))}(e),w=function(){return y().then(Vt)},S=function(e){var t,r,i,n,o;return{apiVersion:"2021-05-15",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(r=null==e?void 0:e.logger)&&void 0!==r?r:{},regionInfoProvider:null!==(i=null==e?void 0:e.regionInfoProvider)&&void 0!==i?i:fr,serviceId:null!==(n=null==e?void 0:e.serviceId)&&void 0!==n?n:"Chime SDK Messaging",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:hr}}(e);return s(s(s({},S),e),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:rr,base64Encoder:null!==(r=null==e?void 0:e.base64Encoder)&&void 0!==r?r:ir,bodyLengthChecker:null!==(i=null==e?void 0:e.bodyLengthChecker)&&void 0!==i?i:sr,credentialDefaultProvider:null!==(n=null==e?void 0:e.credentialDefaultProvider)&&void 0!==n?n:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(o=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==o?o:lr({serviceId:S.serviceId,clientVersion:"3.150.0"}),maxAttempts:null!==(l=null==e?void 0:e.maxAttempts)&&void 0!==l?l:3,region:null!==(d=null==e?void 0:e.region)&&void 0!==d?d:("Region is missing",function(){return Promise.reject("Region is missing")}),requestHandler:null!==(u=null==e?void 0:e.requestHandler)&&void 0!==u?u:new Gt(w),retryMode:null!==(h=null==e?void 0:e.retryMode)&&void 0!==h?h:function(){return a(void 0,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,w()];case 1:return[2,e.sent().retryMode||U]}}))}))},sha256:null!==(p=null==e?void 0:e.sha256)&&void 0!==p?p:Ht.Sha256,streamCollector:null!==(m=null==e?void 0:e.streamCollector)&&void 0!==m?m:nr,useDualstackEndpoint:null!==(f=null==e?void 0:e.useDualstackEndpoint)&&void 0!==f?f:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(g=null==e?void 0:e.useFipsEndpoint)&&void 0!==g?g:function(){return Promise.resolve(!1)},utf8Decoder:null!==(b=null==e?void 0:e.utf8Decoder)&&void 0!==b?b:dr.fromUtf8,utf8Encoder:null!==(v=null==e?void 0:e.utf8Encoder)&&void 0!==v?v:dr.toUtf8})},yr=function(e){function t(t){var r,i,n,o,s=this,a=function(e){var t=e.region,r=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return p(p({},e),{region:function(){return m(void 0,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:return"string"==typeof t?[2,v(t)]:[4,t()];case 1:return e=r.sent(),[2,v(e)]}}))}))},useFipsEndpoint:function(){return m(void 0,void 0,void 0,(function(){var e;return f(this,(function(i){switch(i.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=i.sent(),i.label=3;case 3:return b(e)?[2,!0]:[2,"boolean"==typeof r?Promise.resolve(r):r()]}}))}))}})}(vr(t)),c=function(e){var t,r=g(e.useDualstackEndpoint),i=e.endpoint,n=e.useFipsEndpoint,o=e.urlParser;return p(p({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:i?g("string"==typeof i?o(i):i):function(){return function(e){return m(void 0,void 0,void 0,(function(){var t,r,i,n,o,s,a;return f(this,(function(c){switch(c.label){case 0:return t=e.tls,r=void 0===t||t,[4,e.region()];case 1:if(i=c.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(i))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return n=c.sent(),[4,e.useFipsEndpoint()];case 3:return o=c.sent(),[4,e.regionInfoProvider(i,{useDualstackEndpoint:n,useFipsEndpoint:o})];case 4:if(!(s=(null!==(a=c.sent())&&void 0!==a?a:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(r?"https:":"http:","//").concat(s))]}}))}))}(p(p({},e),{useDualstackEndpoint:r,useFipsEndpoint:n}))},isCustomEndpoint:!!i,useDualstackEndpoint:r})}(a),l=function(e){return tt(tt({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(function(e){var t,r,i=e.credentials?"function"==typeof(r=e.credentials)?ge(r,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):Ze(r):e.credentialDefaultProvider(e),n=e.signingEscapePath,o=void 0===n||n,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,c=e.sha256;return t=e.signer?Ze(e.signer):function(){return Ze(e.region)().then((function(t){return le(void 0,void 0,void 0,(function(){var r,i,n,o;return de(this,(function(s){switch(s.label){case 0:return i=(r=e).regionInfoProvider,n=[t],o={},[4,e.useFipsEndpoint()];case 1:return o.useFipsEndpoint=s.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,i.apply(r,n.concat([(o.useDualstackEndpoint=s.sent(),o)]))];case 3:return[2,[s.sent()||{},t]]}}))}))})).then((function(t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}(t,2),n=r[0],s=r[1],a=n.signingRegion,l=n.signingService;e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||l||e.serviceId;var d=ce(ce({},e),{credentials:i,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o});return new(e.signerConstructor||Ke)(d)}))},ce(ce({},e),{systemClockOffset:a,signingEscapePath:o,credentials:i,signer:t})}((n=g(null!==(i=(r=c).maxAttempts)&&void 0!==i?i:3),F(F({},r),{maxAttempts:n,retryStrategy:function(){return B(void 0,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return r.retryStrategy?[2,r.retryStrategy]:[4,g(r.retryMode)()];case 1:return e.sent()===P.ADAPTIVE?[2,new oe(n)]:[2,new ie(n)]}}))}))}}))));return(s=e.call(this,l)||this).config=l,s.middlewareStack.use(ae(s.config)),s.middlewareStack.use(_(s.config)),s.middlewareStack.use(I(s.config)),s.middlewareStack.use((s.config,{applyToStack:function(e){e.add(M(),A)}})),s.middlewareStack.use(R(s.config)),s.middlewareStack.use((o=s.config,{applyToStack:function(e){e.addRelativeTo(function(e){return function(t,r){return function(i){return le(this,void 0,void 0,(function(){var n,o,s,a,c,l;return de(this,(function(d){switch(d.label){case 0:return k.isInstance(i.request)?[4,e.signer()]:[2,t(i)];case 1:return n=d.sent(),s=t,a=[ce({},i)],l={},[4,n.sign(i.request,{signingDate:Qe(e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 2:return[4,s.apply(void 0,[ce.apply(void 0,a.concat([(l.request=d.sent(),l)]))]).catch((function(t){var r,i=null!==(r=t.ServerTime)&&void 0!==r?r:Ye(t.$response);throw i&&(e.systemClockOffset=Xe(i,e.systemClockOffset)),t}))];case 3:return o=d.sent(),(c=Ye(o.response))&&(e.systemClockOffset=Xe(c,e.systemClockOffset)),[2,o]}}))}))}}}(o),et)}})),s.middlewareStack.use(lt(s.config)),s}return n(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(gt),wr=function(){return wr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},wr.apply(this,arguments)};function Sr(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function xr(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create,Object.create;var kr={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cr={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Er(e,t,r){return{applyToStack:function(i){i.add(function(e,t){return function(r,i){return function(i){return Sr(void 0,void 0,void 0,(function(){var n,o,s;return xr(this,(function(a){switch(a.label){case 0:return[4,r(i)];case 1:n=a.sent().response,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,t(n,e)];case 3:return o=a.sent(),[2,{response:n,output:o}];case 4:throw s=a.sent(),Object.defineProperty(s,"$response",{value:n}),s;case 5:return[2]}}))}))}}}(e,r),kr),i.add(function(e,t){return function(r,i){return function(i){return Sr(void 0,void 0,void 0,(function(){var n;return xr(this,(function(o){switch(o.label){case 0:return[4,t(i.input,e)];case 1:return n=o.sent(),[2,r(wr(wr({},i),{request:n}))]}}))}))}}}(e,t),Cr)}}}var _r,Tr,Ir,Mr=function(e){function t(r){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),t}(Lt);!function(e){e.ALL="ALL",e.FILTERED="FILTERED",e.NONE="NONE"}(_r||(_r={})),function(e){e.DEFAULT="DEFAULT",e.HIDDEN="HIDDEN"}(Tr||(Tr={})),function(e){e.AccessDenied="AccessDenied",e.BadRequest="BadRequest",e.Conflict="Conflict",e.Forbidden="Forbidden",e.NotFound="NotFound",e.PhoneNumberAssociationsExist="PhoneNumberAssociationsExist",e.PreconditionFailed="PreconditionFailed",e.ResourceLimitExceeded="ResourceLimitExceeded",e.ServiceFailure="ServiceFailure",e.ServiceUnavailable="ServiceUnavailable",e.Throttled="Throttled",e.Throttling="Throttling",e.Unauthorized="Unauthorized",e.Unprocessable="Unprocessable",e.VoiceConnectorGroupAssociationsExist="VoiceConnectorGroupAssociationsExist"}(Ir||(Ir={}));var Ar,Or,Pr,Dr,Rr,Lr,Fr,Br,Nr,Vr,jr,Ur=function(e){function t(r){var i=e.call(this,s({name:"BadRequestException",$fault:"client"},r))||this;return i.name="BadRequestException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),zr=function(e){function t(r){var i=e.call(this,s({name:"ConflictException",$fault:"client"},r))||this;return i.name="ConflictException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),$r=function(e){function t(r){var i=e.call(this,s({name:"ForbiddenException",$fault:"client"},r))||this;return i.name="ForbiddenException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),qr=function(e){function t(r){var i=e.call(this,s({name:"NotFoundException",$fault:"client"},r))||this;return i.name="NotFoundException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),Hr=function(e){function t(r){var i=e.call(this,s({name:"ServiceFailureException",$fault:"server"},r))||this;return i.name="ServiceFailureException",i.$fault="server",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),Wr=function(e){function t(r){var i=e.call(this,s({name:"ServiceUnavailableException",$fault:"server"},r))||this;return i.name="ServiceUnavailableException",i.$fault="server",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),Kr=function(e){function t(r){var i=e.call(this,s({name:"ThrottledClientException",$fault:"client"},r))||this;return i.name="ThrottledClientException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),Gr=function(e){function t(r){var i=e.call(this,s({name:"UnauthorizedClientException",$fault:"client"},r))||this;return i.name="UnauthorizedClientException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr),Jr=function(e){function t(r){var i=e.call(this,s({name:"ResourceLimitExceededException",$fault:"client"},r))||this;return i.name="ResourceLimitExceededException",i.$fault="client",Object.setPrototypeOf(i,t.prototype),i.Code=r.Code,i.Message=r.Message,i}return n(t,e),t}(Mr);!function(e){e.RESTRICTED="RESTRICTED",e.UNRESTRICTED="UNRESTRICTED"}(Ar||(Ar={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(Or||(Or={})),function(e){e.ASYNC="ASYNC"}(Pr||(Pr={})),function(e){e.ABORT="ABORT",e.CONTINUE="CONTINUE"}(Dr||(Dr={})),function(e){e.DEFAULT="DEFAULT",e.VOIP="VOIP"}(Rr||(Rr={})),function(e){e.NON_PERSISTENT="NON_PERSISTENT",e.PERSISTENT="PERSISTENT"}(Lr||(Lr={})),function(e){e.DENIED="DENIED",e.FAILED="FAILED",e.PENDING="PENDING",e.SENT="SENT"}(Fr||(Fr={})),function(e){e.CONTROL="CONTROL",e.STANDARD="STANDARD"}(Br||(Br={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(Nr||(Nr={})),function(e){e.MEMBERS="MEMBERS"}(Vr||(Vr={})),function(e){e.EQUALS="EQUALS",e.INCLUDES="INCLUDES"}(jr||(jr={}));var Zr,Qr=function(e){return s({},e)},Xr=function(e){return s({},e)},Yr=function(e){return s(s({},e),e.Name&&{Name:vt})},ei=function(e){return s(s(s({},e),e.InvitedBy&&{InvitedBy:Yr(e.InvitedBy)}),e.Members&&{Members:e.Members.map((function(e){return Yr(e)}))})},ti=function(e){return s({},e)},ri=function(e){return s({},e)},ii=function(e){return s(s({},e),e.BatchChannelMemberships&&{BatchChannelMemberships:ei(e.BatchChannelMemberships)})},ni=function(e){return s({},e)},oi=function(e){return s(s(s(s({},e),e.Name&&{Name:vt}),e.Metadata&&{Metadata:vt}),e.CreatedBy&&{CreatedBy:Yr(e.CreatedBy)})},si=function(e){return s(s(s({},e),e.Name&&{Name:vt}),e.Metadata&&{Metadata:vt})},ai=function(e){return s(s(s({},e),e.Member&&{Member:Yr(e.Member)}),e.CreatedBy&&{CreatedBy:Yr(e.CreatedBy)})},ci=function(e){return s(s({},e),e.Member&&{Member:Yr(e.Member)})},li=function(e){return s({},e)},di=function(e){return s({},e)},ui=function(e){return s(s({},e),e.Name&&{Name:vt})},hi=function(e){return s(s(s({},e),e.Processors&&{Processors:e.Processors.map((function(e){return ui(e)}))}),e.Name&&{Name:vt})},pi=function(e){return s(s({},e),e.StringValues&&{StringValues:vt})},mi=function(e){return s(s(s({},e),e.Title&&{Title:vt}),e.Body&&{Body:vt})},fi=function(e){return s(s(s(s(s({},e),e.Content&&{Content:vt}),e.Metadata&&{Metadata:vt}),e.PushNotification&&{PushNotification:mi(e.PushNotification)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var r,i=l(t,2),n=i[0],o=i[1];return s(s({},e),((r={})[n]=pi(o),r))}),{})})},gi=function(e){return s(s({},e),e.ChannelMessage&&{ChannelMessage:fi(e.ChannelMessage)})},bi=function(e){return s({},e)},vi=function(e){return s(s(s({},e),e.Name&&{Name:vt}),e.Processors&&{Processors:e.Processors.map((function(e){return ui(e)}))})},yi=function(e){return s(s(s({},e),e.InvitedBy&&{InvitedBy:Yr(e.InvitedBy)}),e.Member&&{Member:Yr(e.Member)})},wi=function(e){return s(s(s({},e),e.Name&&{Name:vt}),e.Metadata&&{Metadata:vt})},Si=function(e){return s(s({},e),e.ChannelSummary&&{ChannelSummary:wi(e.ChannelSummary)})},xi=function(e){return s(s({},e),e.FilterRule&&{FilterRule:vt})},ki=function(e){return s(s({},e),e.PushNotifications&&{PushNotifications:xi(e.PushNotifications)})},Ci=function(e){return s(s({},e),e.Member&&{Member:Yr(e.Member)})},Ei=function(e){return s({},e)},_i=function(e){return s(s(s(s(s({},e),e.Content&&{Content:vt}),e.Metadata&&{Metadata:vt}),e.Sender&&{Sender:Yr(e.Sender)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var r,i=l(t,2),n=i[0],o=i[1];return s(s({},e),((r={})[n]=pi(o),r))}),{})})},Ti=function(e){return s(s(s(s(s({},e),e.Content&&{Content:vt}),e.Metadata&&{Metadata:vt}),e.Sender&&{Sender:Yr(e.Sender)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var r,i=l(t,2),n=i[0],o=i[1];return s(s({},e),((r={})[n]=pi(o),r))}),{})})},Ii=function(e){return s(s({},e),e.ChannelSummary&&{ChannelSummary:wi(e.ChannelSummary)})},Mi=function(e){return s(s(s({},e),e.Moderator&&{Moderator:Yr(e.Moderator)}),e.CreatedBy&&{CreatedBy:Yr(e.CreatedBy)})},Ai=function(e){return s(s({},e),e.Moderator&&{Moderator:Yr(e.Moderator)})},Oi=function(e){return s(s(s({},e),e.Key&&{Key:vt}),e.Value&&{Value:vt})},Pi=function(e){return s(s(s(s(s(s({},e),e.Name&&{Name:vt}),e.Metadata&&{Metadata:vt}),e.ClientRequestToken&&{ClientRequestToken:vt}),e.Tags&&{Tags:e.Tags.map((function(e){return Oi(e)}))}),e.ChannelId&&{ChannelId:vt})},Di=function(e){return s({},e)},Ri=function(e){return s({},e)},Li=function(e){return s(s({},e),e.Member&&{Member:Yr(e.Member)})},Fi=function(e){return s(s(s(s(s({},e),e.Processors&&{Processors:e.Processors.map((function(e){return ui(e)}))}),e.Name&&{Name:vt}),e.Tags&&{Tags:e.Tags.map((function(e){return Oi(e)}))}),e.ClientRequestToken&&{ClientRequestToken:vt})},Bi=function(e){return s({},e)},Ni=function(e){return s({},e)},Vi=function(e){return s(s({},e),e.Member&&{Member:Yr(e.Member)})},ji=function(e){return s({},e)},Ui=function(e){return s(s({},e),e.ChannelModerator&&{ChannelModerator:Yr(e.ChannelModerator)})},zi=function(e){return s({},e)},$i=function(e){return s({},e)},qi=function(e){return s({},e)},Hi=function(e){return s({},e)},Wi=function(e){return s({},e)},Ki=function(e){return s({},e)},Gi=function(e){return s({},e)},Ji=function(e){return s(s({},e),e.Channel&&{Channel:oi(e.Channel)})},Zi=function(e){return s({},e)},Qi=function(e){return s(s({},e),e.ChannelBan&&{ChannelBan:ai(e.ChannelBan)})},Xi=function(e){return s({},e)},Yi=function(e){return s(s({},e),e.ChannelFlow&&{ChannelFlow:hi(e.ChannelFlow)})},en=function(e){return s({},e)},tn=function(e){return s(s({},e),e.ChannelMembership&&{ChannelMembership:yi(e.ChannelMembership)})},rn=function(e){return s({},e)},nn=function(e){return s(s({},e),e.ChannelMembership&&{ChannelMembership:Si(e.ChannelMembership)})},on=function(e){return s({},e)},sn=function(e){return s(s({},e),e.Channel&&{Channel:Ii(e.Channel)})},an=function(e){return s({},e)},cn=function(e){return s(s({},e),e.ChannelModerator&&{ChannelModerator:Mi(e.ChannelModerator)})},ln=function(e){return s({},e)},dn=function(e){return s({},e)},un=function(e){return s(s(s({},e),e.Member&&{Member:Yr(e.Member)}),e.Preferences&&{Preferences:ki(e.Preferences)})},hn=function(e){return s({},e)},pn=function(e){return s(s({},e),e.ChannelMessage&&{ChannelMessage:_i(e.ChannelMessage)})},mn=function(e){return s({},e)},fn=function(e){return s({},e)},gn=function(e){return s({},e)},bn=function(e){return s({},e)},vn=function(e){return s({},e)},yn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},wn=function(e){return s(s(s({},e),e.NextToken&&{NextToken:vt}),e.ChannelBans&&{ChannelBans:e.ChannelBans.map((function(e){return ci(e)}))})},Sn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},xn=function(e){return s(s(s({},e),e.ChannelFlows&&{ChannelFlows:e.ChannelFlows.map((function(e){return vi(e)}))}),e.NextToken&&{NextToken:vt})},kn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Cn=function(e){return s(s(s({},e),e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((function(e){return Ci(e)}))}),e.NextToken&&{NextToken:vt})},En=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},_n=function(e){return s(s(s({},e),e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((function(e){return Si(e)}))}),e.NextToken&&{NextToken:vt})},Tn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},In=function(e){return s(s(s({},e),e.NextToken&&{NextToken:vt}),e.ChannelMessages&&{ChannelMessages:e.ChannelMessages.map((function(e){return Ti(e)}))})},Mn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},An=function(e){return s(s(s({},e),e.NextToken&&{NextToken:vt}),e.ChannelModerators&&{ChannelModerators:e.ChannelModerators.map((function(e){return Ai(e)}))})},On=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Pn=function(e){return s(s(s({},e),e.Channels&&{Channels:e.Channels.map((function(e){return wi(e)}))}),e.NextToken&&{NextToken:vt})},Dn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Rn=function(e){return s(s(s({},e),e.Channels&&{Channels:e.Channels.map((function(e){return si(e)}))}),e.NextToken&&{NextToken:vt})},Ln=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Fn=function(e){return s(s(s({},e),e.Channels&&{Channels:e.Channels.map((function(e){return Ii(e)}))}),e.NextToken&&{NextToken:vt})},Bn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Nn=function(e){return s({},e)},Vn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},jn=function(e){return s({},e)},Un=function(e){return s(s({},e),e.Tags&&{Tags:e.Tags.map((function(e){return Oi(e)}))})},zn=function(e){return s(s({},e),e.Preferences&&{Preferences:ki(e.Preferences)})},$n=function(e){return s(s(s({},e),e.Member&&{Member:Yr(e.Member)}),e.Preferences&&{Preferences:ki(e.Preferences)})},qn=function(e){return s({},e)},Hn=function(e){return s({},e)},Wn=function(e){return s({},e)},Kn=function(e){return s(s({},e),e.NextToken&&{NextToken:vt})},Gn=function(e){return s(s(s({},e),e.Channels&&{Channels:e.Channels.map((function(e){return wi(e)}))}),e.NextToken&&{NextToken:vt})},Jn=function(e){return s(s(s(s(s(s({},e),e.Content&&{Content:vt}),e.Metadata&&{Metadata:vt}),e.ClientRequestToken&&{ClientRequestToken:vt}),e.PushNotification&&{PushNotification:mi(e.PushNotification)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var r,i=l(t,2),n=i[0],o=i[1];return s(s({},e),((r={})[n]=pi(o),r))}),{})})},Zn=function(e){return s({},e)},Qn=function(e){return s(s({},e),e.Tags&&{Tags:e.Tags.map((function(e){return Oi(e)}))})},Xn=function(e){return s(s({},e),e.TagKeys&&{TagKeys:vt})},Yn=function(e){return s(s(s({},e),e.Name&&{Name:vt}),e.Metadata&&{Metadata:vt})},eo=function(e){return s({},e)},to=function(e){return s(s(s({},e),e.Processors&&{Processors:e.Processors.map((function(e){return ui(e)}))}),e.Name&&{Name:vt})},ro=function(e){return s({},e)},io=function(e){return s(s(s({},e),e.Content&&{Content:vt}),e.Metadata&&{Metadata:vt})},no=function(e){return s({},e)},oo=function(e){return s({},e)},so=function(e){return s({},e)},ao=new Uint8Array(16);function co(){if(!Zr&&!(Zr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zr(ao)}const lo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,uo=function(e){return"string"==typeof e&&lo.test(e)};for(var ho=[],po=0;po<256;++po)ho.push((po+256).toString(16).substr(1));const mo=function(e,t,r){var i=(e=e||{}).random||(e.rng||co)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=i[n];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(ho[e[t+0]]+ho[e[t+1]]+ho[e[t+2]]+ho[e[t+3]]+"-"+ho[e[t+4]]+ho[e[t+5]]+"-"+ho[e[t+6]]+ho[e[t+7]]+"-"+ho[e[t+8]]+ho[e[t+9]]+"-"+ho[e[t+10]]+ho[e[t+11]]+ho[e[t+12]]+ho[e[t+13]]+ho[e[t+14]]+ho[e[t+15]]).toLowerCase();if(!uo(r))throw TypeError("Stringified UUID is invalid");return r}(i)};var fo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,hs(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},go=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,hs(r,t)];case 7:throw c.sent();case 8:return[4,ps(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},bo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},vo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ps(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},yo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ps(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},wo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ps(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},So=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,10];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,12];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,14];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,16];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,18]}return[3,20];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,hs(r,t)];case 9:throw c.sent();case 10:return[4,ps(r,t)];case 11:throw c.sent();case 12:return[4,ms(r,t)];case 13:throw c.sent();case 14:return[4,fs(r,t)];case 15:throw c.sent();case 16:return[4,gs(r,t)];case 17:throw c.sent();case 18:return[4,bs(r,t)];case 19:throw c.sent();case 20:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=21;case 21:return[2]}}))}))},xo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ps(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},ko=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Co=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Eo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},_o=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},To=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Io=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Mo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Ao=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,hs(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},Oo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Po=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,hs(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},Do=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Ro=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Lo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,hs(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},Fo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,hs(r,t)];case 9:throw c.sent();case 10:return[4,ms(r,t)];case 11:throw c.sent();case 12:return[4,fs(r,t)];case 13:throw c.sent();case 14:return[4,gs(r,t)];case 15:throw c.sent();case 16:return[4,bs(r,t)];case 17:throw c.sent();case 18:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=19;case 19:return[2]}}))}))},Bo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},No=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,hs(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},Vo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},jo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,2];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,6];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,8];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,10]}return[3,12];case 2:return[4,us(r,t)];case 3:throw c.sent();case 4:return[4,ms(r,t)];case 5:throw c.sent();case 6:return[4,fs(r,t)];case 7:throw c.sent();case 8:return[4,gs(r,t)];case 9:throw c.sent();case 10:return[4,bs(r,t)];case 11:throw c.sent();case 12:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=13;case 13:return[2]}}))}))},Uo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},zo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},$o=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},qo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Ho=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Wo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Ko=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Go=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Jo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Zo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Qo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},Xo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},Yo=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},es=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},ts=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},rs=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ps(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},is=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,us(r,t)];case 5:throw c.sent();case 6:return[4,ms(r,t)];case 7:throw c.sent();case 8:return[4,fs(r,t)];case 9:throw c.sent();case 10:return[4,gs(r,t)];case 11:throw c.sent();case 12:return[4,bs(r,t)];case 13:throw c.sent();case 14:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=15;case 15:return[2]}}))}))},ns=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},os=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},ss=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},as=function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a;return c(this,(function(c){switch(c.label){case 0:return i=[s({},e)],a={},[4,ra(e.body,t)];case 1:switch(r=s.apply(void 0,i.concat([(a.body=c.sent(),a)])),n=ia(e,r.body)){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,ls(r,t)];case 3:throw c.sent();case 4:return[4,ds(r,t)];case 5:throw c.sent();case 6:return[4,us(r,t)];case 7:throw c.sent();case 8:return[4,ms(r,t)];case 9:throw c.sent();case 10:return[4,fs(r,t)];case 11:throw c.sent();case 12:return[4,gs(r,t)];case 13:throw c.sent();case 14:return[4,bs(r,t)];case 15:throw c.sent();case 16:o=r.body,Bt({output:e,parsedBody:o,exceptionCtor:Mr,errorCode:n}),c.label=17;case 17:return[2]}}))}))},cs=Ut,ls=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Ur(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},ds=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new zr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},us=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new $r(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},hs=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new qr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},ps=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Jr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},ms=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Hr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},fs=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Wr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},gs=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Kr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},bs=function(e,t){return a(void 0,void 0,void 0,(function(){var t,r,i;return c(this,(function(n){return t=cs({}),null!=(r=e.body).Code&&(t.Code=Tt(r.Code)),null!=r.Message&&(t.Message=Tt(r.Message)),i=new Gr(s({$metadata:Ys(e)},t)),[2,Ft(i,e.body)]}))}))},vs=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},ys=function(e,t){return s({},null!=e.PushNotifications&&{PushNotifications:Os(e.PushNotifications,t)})},ws=function(e,t){return s(s(s(s(s(s({},null!=e.Content&&{Content:e.Content}),null!=e.MessageAttributes&&{MessageAttributes:Es(e.MessageAttributes,t)}),null!=e.MessageId&&{MessageId:e.MessageId}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.PushNotification&&{PushNotification:As(e.PushNotification,t)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})},Ss=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},xs=function(e,t){return s(s(s({},null!=e.MaximumSubChannels&&{MaximumSubChannels:e.MaximumSubChannels}),null!=e.MinimumMembershipPercentage&&{MinimumMembershipPercentage:e.MinimumMembershipPercentage}),null!=e.TargetMembershipsPerSubChannel&&{TargetMembershipsPerSubChannel:e.TargetMembershipsPerSubChannel})},ks=function(e,t){return s(s({},null!=e.InvocationType&&{InvocationType:e.InvocationType}),null!=e.ResourceArn&&{ResourceArn:e.ResourceArn})},Cs=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Es=function(e,t){return Object.entries(e).reduce((function(e,r){var i,n=l(r,2),o=n[0],a=n[1];return null===a?e:s(s({},e),((i={})[o]=Ts(a,t),i))}),{})},_s=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Ts=function(e,t){return s({},null!=e.StringValues&&{StringValues:_s(e.StringValues)})},Is=function(e,t){return s({},null!=e.Lambda&&{Lambda:ks(e.Lambda)})},Ms=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return s(s(s(s({},null!=e.Configuration&&{Configuration:Is(e.Configuration)}),null!=e.ExecutionOrder&&{ExecutionOrder:e.ExecutionOrder}),null!=e.FallbackAction&&{FallbackAction:e.FallbackAction}),null!=e.Name&&{Name:e.Name})}(e)}))},As=function(e,t){return s(s(s({},null!=e.Body&&{Body:e.Body}),null!=e.Title&&{Title:e.Title}),null!=e.Type&&{Type:e.Type})},Os=function(e,t){return s(s({},null!=e.AllowNotifications&&{AllowNotifications:e.AllowNotifications}),null!=e.FilterRule&&{FilterRule:e.FilterRule})},Ps=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return s(s(s({},null!=e.Key&&{Key:e.Key}),null!=e.Operator&&{Operator:e.Operator}),null!=e.Values&&{Values:Ds(e.Values,t)})}(e,t)}))},Ds=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Rs=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Ls=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return s(s({},null!=e.Key&&{Key:e.Key}),null!=e.Value&&{Value:e.Value})}(e)}))},Fs=function(e,t){return{ReadMarkerTimestamp:null!=e.ReadMarkerTimestamp?Et(At(wt(e.ReadMarkerTimestamp))):void 0,SubChannelId:Tt(e.SubChannelId),Type:Tt(e.Type)}},Bs=function(e,t){return{AppInstanceUserMembershipSummary:null!=e.AppInstanceUserMembershipSummary?Fs(e.AppInstanceUserMembershipSummary):void 0,ChannelSummary:null!=e.ChannelSummary?Us(e.ChannelSummary,t):void 0}},Ns=function(e,t){return{PushNotifications:null!=e.PushNotifications?Xs(e.PushNotifications,t):void 0}},Vs=function(e,t){return{Detail:Tt(e.Detail),Value:Tt(e.Value)}},js=function(e,t){return{ChannelSummary:null!=e.ChannelSummary?Us(e.ChannelSummary,t):void 0}},Us=function(e,t){return{ChannelArn:Tt(e.ChannelArn),LastMessageTimestamp:null!=e.LastMessageTimestamp?Et(At(wt(e.LastMessageTimestamp))):void 0,Metadata:Tt(e.Metadata),Mode:Tt(e.Mode),Name:Tt(e.Name),Privacy:Tt(e.Privacy)}},zs=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Us(e,t)}))},$s=function(e,t){return{MaximumSubChannels:xt(e.MaximumSubChannels),MinimumMembershipPercentage:xt(e.MinimumMembershipPercentage),TargetMembershipsPerSubChannel:xt(e.TargetMembershipsPerSubChannel)}},qs=function(e,t){return{Arn:Tt(e.Arn),Name:Tt(e.Name)}},Hs=function(e,t){return{InvocationType:Tt(e.InvocationType),ResourceArn:Tt(e.ResourceArn)}},Ws=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:qs(e,t)}))},Ks=function(e,t){return Object.entries(e).reduce((function(e,r){var i,n=l(r,2),o=n[0],a=n[1];return null===a?e:s(s({},e),((i={})[o]=Js(a,t),i))}),{})},Gs=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Tt(e)}))},Js=function(e,t){return{StringValues:null!=e.StringValues?Gs(e.StringValues):void 0}},Zs=function(e,t){return{Lambda:null!=e.Lambda?Hs(e.Lambda):void 0}},Qs=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Configuration:null!=e.Configuration?Zs(e.Configuration):void 0,ExecutionOrder:xt(e.ExecutionOrder),FallbackAction:Tt(e.FallbackAction),Name:Tt(e.Name)}}(e)}))},Xs=function(e,t){return{AllowNotifications:Tt(e.AllowNotifications),FilterRule:Tt(e.FilterRule)}},Ys=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ea=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ta=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},ra=function(e,t){return function(e,t){return ea(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},ia=function(e,t){var r,i=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},n=(r=e.headers,"x-amzn-errortype",Object.keys(r).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==n?i(e.headers[n]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):void 0},na=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:Xr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/channel-flow",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s({},null!=e.ChannelFlowArn&&{ChannelFlowArn:e.ChannelFlowArn})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,fo(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),oa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:ti,outputFilterSensitiveLog:ii},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/memberships",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=cs({operation:[,"batch-create"]}),p=JSON.stringify(s(s(s({},null!=e.MemberArns&&{MemberArns:Cs(e.MemberArns)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,go(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).BatchChannelMemberships&&(r.BatchChannelMemberships=function(e,t){return{ChannelArn:Tt(e.ChannelArn),InvitedBy:null!=e.InvitedBy?qs(e.InvitedBy,t):void 0,Members:null!=e.Members?Ws(e.Members,t):void 0,SubChannelId:Tt(e.SubChannelId),Type:Tt(e.Type)}}(i.BatchChannelMemberships,t)),null!=i.Errors&&(r.Errors=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:Tt(e.ErrorCode),ErrorMessage:Tt(e.ErrorMessage),MemberArn:Tt(e.MemberArn)}}(e)}))}(i.Errors)),[2,r]}}))}))}(e,t)},t}(bt),sa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:gi,outputFilterSensitiveLog:bi},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p,m;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=cs({operation:[,"channel-flow-callback"]}),p=JSON.stringify(s(s({CallbackId:null!==(m=e.CallbackId)&&void 0!==m?m:mo()},null!=e.ChannelMessage&&{ChannelMessage:ws(e.ChannelMessage,t)}),null!=e.DeleteResource&&{DeleteResource:e.DeleteResource})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,bo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).CallbackId&&(r.CallbackId=Tt(i.CallbackId)),null!=i.ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),[2,r]}}))}))}(e,t)},t}(bt),aa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:Ri,outputFilterSensitiveLog:Li},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/bans",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s({},null!=e.MemberArn&&{MemberArn:e.MemberArn})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,yo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.Member&&(r.Member=qs(i.Member,t)),[2,r]}}))}))}(e,t)},t}(bt),ca=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:Pi,outputFilterSensitiveLog:Di},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels",h=JSON.stringify(s(s(s(s(s(s(s(s(s(s(s({},null!=e.AppInstanceArn&&{AppInstanceArn:e.AppInstanceArn}),null!=e.ChannelId&&{ChannelId:e.ChannelId}),{ClientRequestToken:null!==(p=e.ClientRequestToken)&&void 0!==p?p:mo()}),null!=e.ElasticChannelConfiguration&&{ElasticChannelConfiguration:xs(e.ElasticChannelConfiguration)}),null!=e.MemberArns&&{MemberArns:vs(e.MemberArns)}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Mode&&{Mode:e.Mode}),null!=e.ModeratorArns&&{ModeratorArns:Ss(e.ModeratorArns)}),null!=e.Name&&{Name:e.Name}),null!=e.Privacy&&{Privacy:e.Privacy}),null!=e.Tags&&{Tags:Ls(e.Tags)})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,vo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),[2,r]}}))}))}(e,t)},t}(bt),la=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:Fi,outputFilterSensitiveLog:Bi},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channel-flows",h=JSON.stringify(s(s(s(s(s({},null!=e.AppInstanceArn&&{AppInstanceArn:e.AppInstanceArn}),null!=e.ClientRequestToken&&{ClientRequestToken:e.ClientRequestToken}),null!=e.Name&&{Name:e.Name}),null!=e.Processors&&{Processors:Ms(e.Processors)}),null!=e.Tags&&{Tags:Ls(e.Tags)})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,wo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelFlowArn&&(r.ChannelFlowArn=Tt(i.ChannelFlowArn)),[2,r]}}))}))}(e,t)},t}(bt),da=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:Ni,outputFilterSensitiveLog:Vi},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/memberships",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s(s(s({},null!=e.MemberArn&&{MemberArn:e.MemberArn}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,So(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.Member&&(r.Member=qs(i.Member,t)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),ua=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:ji,outputFilterSensitiveLog:Ui},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/moderators",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s({},null!=e.ChannelModeratorArn&&{ChannelModeratorArn:e.ChannelModeratorArn})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,xo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.ChannelModerator&&(r.ChannelModerator=qs(i.ChannelModerator,t)),[2,r]}}))}))}(e,t)},t}(bt),ha=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:$i,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/bans/{MemberArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Co(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),pa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:zi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,ko(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),ma=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:qi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l={},d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channel-flows/{ChannelFlowArn}",d=qt(d,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Eo(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),fa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:Hi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/memberships/{MemberArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),u=cs({"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,_o(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),ga=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:Wi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/messages/{MessageId}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),u=cs({"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,To(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),ba=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:Ki,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/moderators/{ChannelModeratorArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"ChannelModeratorArn",(function(){return e.ChannelModeratorArn}),"{ChannelModeratorArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Io(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),va=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:Zi,outputFilterSensitiveLog:Qi},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/bans/{MemberArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ao(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelBan&&(r.ChannelBan=function(e,t){return{ChannelArn:Tt(e.ChannelArn),CreatedBy:null!=e.CreatedBy?qs(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,Member:null!=e.Member?qs(e.Member,t):void 0}}(i.ChannelBan,t)),[2,r]}}))}))}(e,t)},t}(bt),ya=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:Gi,outputFilterSensitiveLog:Ji},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Mo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channel&&(r.Channel=function(e,t){return{ChannelArn:Tt(e.ChannelArn),ChannelFlowArn:Tt(e.ChannelFlowArn),CreatedBy:null!=e.CreatedBy?qs(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,ElasticChannelConfiguration:null!=e.ElasticChannelConfiguration?$s(e.ElasticChannelConfiguration,t):void 0,LastMessageTimestamp:null!=e.LastMessageTimestamp?Et(At(wt(e.LastMessageTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?Et(At(wt(e.LastUpdatedTimestamp))):void 0,Metadata:Tt(e.Metadata),Mode:Tt(e.Mode),Name:Tt(e.Name),Privacy:Tt(e.Privacy)}}(i.Channel,t)),[2,r]}}))}))}(e,t)},t}(bt),wa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:Xi,outputFilterSensitiveLog:Yi},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l={},d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channel-flows/{ChannelFlowArn}",d=qt(d,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Oo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelFlow&&(r.ChannelFlow=function(e,t){return{ChannelFlowArn:Tt(e.ChannelFlowArn),CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?Et(At(wt(e.LastUpdatedTimestamp))):void 0,Name:Tt(e.Name),Processors:null!=e.Processors?Qs(e.Processors,t):void 0}}(i.ChannelFlow,t)),[2,r]}}))}))}(e,t)},t}(bt),Sa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:en,outputFilterSensitiveLog:tn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/memberships/{MemberArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),u=cs({"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Po(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelMembership&&(r.ChannelMembership=function(e,t){return{ChannelArn:Tt(e.ChannelArn),CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,InvitedBy:null!=e.InvitedBy?qs(e.InvitedBy,t):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?Et(At(wt(e.LastUpdatedTimestamp))):void 0,Member:null!=e.Member?qs(e.Member,t):void 0,SubChannelId:Tt(e.SubChannelId),Type:Tt(e.Type)}}(i.ChannelMembership,t)),[2,r]}}))}))}(e,t)},t}(bt),xa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:rn,outputFilterSensitiveLog:nn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,e.AppInstanceUserArn]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Do(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelMembership&&(r.ChannelMembership=Bs(i.ChannelMembership,t)),[2,r]}}))}))}(e,t)},t}(bt),ka=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:on,outputFilterSensitiveLog:sn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,e.AppInstanceUserArn]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ro(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channel&&(r.Channel=js(i.Channel,t)),[2,r]}}))}))}(e,t)},t}(bt),Ca=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:an,outputFilterSensitiveLog:cn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/moderators/{ChannelModeratorArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"ChannelModeratorArn",(function(){return e.ChannelModeratorArn}),"{ChannelModeratorArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Lo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelModerator&&(r.ChannelModerator=function(e,t){return{ChannelArn:Tt(e.ChannelArn),CreatedBy:null!=e.CreatedBy?qs(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,Moderator:null!=e.Moderator?qs(e.Moderator,t):void 0}}(i.ChannelModerator,t)),[2,r]}}))}))}(e,t)},t}(bt),Ea=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:ln,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"DELETE",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Fo(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),_a=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:dn,outputFilterSensitiveLog:un},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/memberships/{MemberArn}/preferences",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Bo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.Member&&(r.Member=qs(i.Member,t)),null!=i.Preferences&&(r.Preferences=Ns(i.Preferences,t)),[2,r]}}))}))}(e,t)},t}(bt),Ta=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:hn,outputFilterSensitiveLog:pn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/messages/{MessageId}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),u=cs({"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,No(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelMessage&&(r.ChannelMessage=function(e,t){return{ChannelArn:Tt(e.ChannelArn),Content:Tt(e.Content),CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,LastEditedTimestamp:null!=e.LastEditedTimestamp?Et(At(wt(e.LastEditedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?Et(At(wt(e.LastUpdatedTimestamp))):void 0,MessageAttributes:null!=e.MessageAttributes?Ks(e.MessageAttributes,t):void 0,MessageId:Tt(e.MessageId),Metadata:Tt(e.Metadata),Persistence:Tt(e.Persistence),Redacted:yt(e.Redacted),Sender:null!=e.Sender?qs(e.Sender,t):void 0,Status:null!=e.Status?Vs(e.Status,t):void 0,SubChannelId:Tt(e.SubChannelId),Type:Tt(e.Type)}}(i.ChannelMessage,t)),[2,r]}}))}))}(e,t)},t}(bt),Ia=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:mn,outputFilterSensitiveLog:fn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/messages/{MessageId}",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),d=qt(d,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),u=cs({scope:[,"message-status"],"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Vo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Status&&(r.Status=Vs(i.Status,t)),[2,r]}}))}))}(e,t)},t}(bt),Ma=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:gn,outputFilterSensitiveLog:vn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var e,r,i,n,o,s,a,l;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return e=c.sent(),r=e.hostname,i=e.protocol,n=void 0===i?"https":i,o=e.port,s=e.path,a={"content-type":"application/json"},l="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/endpoints/messaging-session",[2,new k({protocol:n,hostname:r,port:o,method:"GET",headers:a,path:l,body:""})]}}))}))}(0,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,jo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Endpoint&&(r.Endpoint=function(e,t){return{Url:Tt(e.Url)}}(i.Endpoint)),[2,r]}}))}))}(e,t)},t}(bt),Aa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:yn,outputFilterSensitiveLog:wn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/bans",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Uo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.ChannelBans&&(r.ChannelBans=function(e,t){var r=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Member:null!=e.Member?qs(e.Member,t):void 0}}(e,t)}));return r}(i.ChannelBans,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Oa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:Sn,outputFilterSensitiveLog:xn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l={},d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channel-flows",u=cs({"app-instance-arn":[,e.AppInstanceArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,zo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelFlows&&(r.ChannelFlows=function(e,t){var r=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ChannelFlowArn:Tt(e.ChannelFlowArn),Name:Tt(e.Name),Processors:null!=e.Processors?Qs(e.Processors,t):void 0}}(e,t)}));return r}(i.ChannelFlows,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Pa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:kn,outputFilterSensitiveLog:Cn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/memberships",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({type:[,e.Type],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,$o(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.ChannelMemberships&&(r.ChannelMemberships=function(e,t){var r=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Member:null!=e.Member?qs(e.Member,t):void 0}}(e,t)}));return r}(i.ChannelMemberships,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Da=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:En,outputFilterSensitiveLog:_n},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels",u=cs({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,qo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelMemberships&&(r.ChannelMemberships=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Bs(e,t)}))}(i.ChannelMemberships,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Ra=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:Tn,outputFilterSensitiveLog:In},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/messages",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({"sort-order":[,e.SortOrder],"not-before":[function(){return void 0!==e.NotBefore},function(){return(e.NotBefore.toISOString().split(".")[0]+"Z").toString()}],"not-after":[function(){return void 0!==e.NotAfter},function(){return(e.NotAfter.toISOString().split(".")[0]+"Z").toString()}],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ho(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.ChannelMessages&&(r.ChannelMessages=function(e,t){var r=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Content:Tt(e.Content),CreatedTimestamp:null!=e.CreatedTimestamp?Et(At(wt(e.CreatedTimestamp))):void 0,LastEditedTimestamp:null!=e.LastEditedTimestamp?Et(At(wt(e.LastEditedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?Et(At(wt(e.LastUpdatedTimestamp))):void 0,MessageAttributes:null!=e.MessageAttributes?Ks(e.MessageAttributes,t):void 0,MessageId:Tt(e.MessageId),Metadata:Tt(e.Metadata),Redacted:yt(e.Redacted),Sender:null!=e.Sender?qs(e.Sender,t):void 0,Status:null!=e.Status?Vs(e.Status,t):void 0,Type:Tt(e.Type)}}(e,t)}));return r}(i.ChannelMessages,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),La=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:Mn,outputFilterSensitiveLog:An},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/moderators",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Wo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.ChannelModerators&&(r.ChannelModerators=function(e,t){var r=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Moderator:null!=e.Moderator?qs(e.Moderator,t):void 0}}(e,t)}));return r}(i.ChannelModerators,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Fa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:Dn,outputFilterSensitiveLog:Rn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l={},d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels",u=cs({scope:[,"channel-flow-associations"],"channel-flow-arn":[,e.ChannelFlowArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Go(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channels&&(r.Channels=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ChannelArn:Tt(e.ChannelArn),Metadata:Tt(e.Metadata),Mode:Tt(e.Mode),Name:Tt(e.Name),Privacy:Tt(e.Privacy)}}(e)}))}(i.Channels)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Ba=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:On,outputFilterSensitiveLog:Pn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels",u=cs({"app-instance-arn":[,e.AppInstanceArn],privacy:[,e.Privacy],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ko(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channels&&(r.Channels=zs(i.Channels,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Na=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:Ln,outputFilterSensitiveLog:Fn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels",u=cs({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Jo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channels&&(r.Channels=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:js(e,t)}))}(i.Channels,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),Va=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:Bn,outputFilterSensitiveLog:Vn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l=cs({},ta,{"x-amz-chime-bearer":e.ChimeBearer}),d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/channels/{ChannelArn}/subchannels",d=qt(d,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=cs({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Zo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),null!=i.SubChannels&&(r.SubChannels=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{MembershipCount:xt(e.MembershipCount),SubChannelId:Tt(e.SubChannelId)}}(e)}))}(i.SubChannels)),[2,r]}}))}))}(e,t)},t}(bt),ja=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:jn,outputFilterSensitiveLog:Un},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,s,a,l,d,u;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,s=r.port,a=r.path,l={},d="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/tags",u=cs({arn:[,e.ResourceARN]}),[2,new k({protocol:o,hostname:i,port:s,method:"GET",headers:l,path:d,query:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Qo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Tags&&(r.Tags=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Key:Tt(e.Key),Value:Tt(e.Value)}}(e)}))}(i.Tags)),[2,r]}}))}))}(e,t)},t}(bt),Ua=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:zn,outputFilterSensitiveLog:$n},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/memberships/{MemberArn}/preferences",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=qt(u,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),h=JSON.stringify(s({},null!=e.Preferences&&{Preferences:ys(e.Preferences,t)})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Xo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.Member&&(r.Member=qs(i.Member,t)),null!=i.Preferences&&(r.Preferences=Ns(i.Preferences,t)),[2,r]}}))}))}(e,t)},t}(bt),za=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:qn,outputFilterSensitiveLog:Hn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/messages/{MessageId}",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=qt(u,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),h=cs({operation:[,"redact"]}),p=JSON.stringify(s({},null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Yo(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.MessageId&&(r.MessageId=Tt(i.MessageId)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),$a=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:Kn,outputFilterSensitiveLog:Gn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels",h=cs({operation:[,"search"],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),p=JSON.stringify(s({},null!=e.Fields&&{Fields:Ps(e.Fields,t)})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,es(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).Channels&&(r.Channels=zs(i.Channels,t)),null!=i.NextToken&&(r.NextToken=Tt(i.NextToken)),[2,r]}}))}))}(e,t)},t}(bt),qa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:Jn,outputFilterSensitiveLog:Zn},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/messages",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s(s(s(s(s(s(s({ClientRequestToken:null!==(p=e.ClientRequestToken)&&void 0!==p?p:mo()},null!=e.Content&&{Content:e.Content}),null!=e.MessageAttributes&&{MessageAttributes:Es(e.MessageAttributes,t)}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Persistence&&{Persistence:e.Persistence}),null!=e.PushNotification&&{PushNotification:As(e.PushNotification,t)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,ts(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.MessageId&&(r.MessageId=Tt(i.MessageId)),null!=i.Status&&(r.Status=Vs(i.Status,t)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),Ha=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Qn,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/tags",h=cs({operation:[,"tag-resource"]}),p=JSON.stringify(s(s({},null!=e.ResourceARN&&{ResourceARN:e.ResourceARN}),null!=e.Tags&&{Tags:Ls(e.Tags)})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,rs(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),Wa=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:Xn,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/tags",h=cs({operation:[,"untag-resource"]}),p=JSON.stringify(s(s({},null!=e.ResourceARN&&{ResourceARN:e.ResourceARN}),null!=e.TagKeys&&{TagKeys:Rs(e.TagKeys)})),[2,new k({protocol:o,hostname:i,port:a,method:"POST",headers:d,path:u,query:h,body:p})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,is(e,t)]:(r=cs({$metadata:Ys(e)}),[4,ea(e.body,t)]);case 1:return i.sent(),[2,r]}}))}))}(e,t)},t}(bt),Ka=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:Yn,outputFilterSensitiveLog:eo},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s(s(s({},null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Mode&&{Mode:e.Mode}),null!=e.Name&&{Name:e.Name})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ns(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),[2,r]}}))}))}(e,t)},t}(bt),Ga=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:to,outputFilterSensitiveLog:ro},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channel-flows/{ChannelFlowArn}",u=qt(u,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),h=JSON.stringify(s(s({},null!=e.Name&&{Name:e.Name}),null!=e.Processors&&{Processors:Ms(e.Processors)})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,os(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelFlowArn&&(r.ChannelFlowArn=Tt(i.ChannelFlowArn)),[2,r]}}))}))}(e,t)},t}(bt),Ja=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:io,outputFilterSensitiveLog:no},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/messages/{MessageId}",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),u=qt(u,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),h=JSON.stringify(s(s(s({},null!=e.Content&&{Content:e.Content}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ss(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.MessageId&&(r.MessageId=Tt(i.MessageId)),null!=i.Status&&(r.Status=Vs(i.Status,t)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),Za=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return n(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(Er(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),n={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:oo,outputFilterSensitiveLog:so},o=t.requestHandler;return i.resolve((function(e){return o.handle(e.request,r||{})}),n)},t.prototype.serialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o,a,l,d,u,h;return c(this,(function(c){switch(c.label){case 0:return[4,t.endpoint()];case 1:return r=c.sent(),i=r.hostname,n=r.protocol,o=void 0===n?"https":n,a=r.port,l=r.path,d=cs({},ta,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/channels/{ChannelArn}/readMarker",u=qt(u,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),h=JSON.stringify(s({},null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new k({protocol:o,hostname:i,port:a,method:"PUT",headers:d,path:u,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return a(void 0,void 0,void 0,(function(){var r,i,n,o;return c(this,(function(s){switch(s.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,as(e,t)]:(r=cs({$metadata:Ys(e)}),n=Et,o=_t,[4,ra(e.body,t)]);case 1:return null!=(i=n.apply(void 0,[o.apply(void 0,[s.sent()]),"body"])).ChannelArn&&(r.ChannelArn=Tt(i.ChannelArn)),null!=i.SubChannelId&&(r.SubChannelId=Tt(i.SubChannelId)),[2,r]}}))}))}(e,t)},t}(bt),Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.associateChannelFlow=function(e,t,r){var i=new na(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.batchCreateChannelMembership=function(e,t,r){var i=new oa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.channelFlowCallback=function(e,t,r){var i=new sa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.createChannel=function(e,t,r){var i=new ca(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.createChannelBan=function(e,t,r){var i=new aa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.createChannelFlow=function(e,t,r){var i=new la(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.createChannelMembership=function(e,t,r){var i=new da(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.createChannelModerator=function(e,t,r){var i=new ua(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannel=function(e,t,r){var i=new pa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannelBan=function(e,t,r){var i=new ha(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannelFlow=function(e,t,r){var i=new ma(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannelMembership=function(e,t,r){var i=new fa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannelMessage=function(e,t,r){var i=new ga(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.deleteChannelModerator=function(e,t,r){var i=new ba(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannel=function(e,t,r){var i=new ya(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelBan=function(e,t,r){var i=new va(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelFlow=function(e,t,r){var i=new wa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelMembership=function(e,t,r){var i=new Sa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelMembershipForAppInstanceUser=function(e,t,r){var i=new xa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelModeratedByAppInstanceUser=function(e,t,r){var i=new ka(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.describeChannelModerator=function(e,t,r){var i=new Ca(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.disassociateChannelFlow=function(e,t,r){var i=new Ea(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.getChannelMembershipPreferences=function(e,t,r){var i=new _a(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.getChannelMessage=function(e,t,r){var i=new Ta(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.getChannelMessageStatus=function(e,t,r){var i=new Ia(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.getMessagingSessionEndpoint=function(e,t,r){var i=new Ma(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelBans=function(e,t,r){var i=new Aa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelFlows=function(e,t,r){var i=new Oa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelMemberships=function(e,t,r){var i=new Pa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelMembershipsForAppInstanceUser=function(e,t,r){var i=new Da(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelMessages=function(e,t,r){var i=new Ra(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelModerators=function(e,t,r){var i=new La(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannels=function(e,t,r){var i=new Ba(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelsAssociatedWithChannelFlow=function(e,t,r){var i=new Fa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listChannelsModeratedByAppInstanceUser=function(e,t,r){var i=new Na(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listSubChannels=function(e,t,r){var i=new Va(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.listTagsForResource=function(e,t,r){var i=new ja(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.putChannelMembershipPreferences=function(e,t,r){var i=new Ua(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.redactChannelMessage=function(e,t,r){var i=new za(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.searchChannels=function(e,t,r){var i=new $a(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.sendChannelMessage=function(e,t,r){var i=new qa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.tagResource=function(e,t,r){var i=new Ha(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.untagResource=function(e,t,r){var i=new Wa(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.updateChannel=function(e,t,r){var i=new Ka(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.updateChannelFlow=function(e,t,r){var i=new Ga(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.updateChannelMessage=function(e,t,r){var i=new Ja(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t.prototype.updateChannelReadMarker=function(e,t,r){var i=new Za(e);if("function"==typeof t)this.send(i,t);else{if("function"!=typeof r)return this.send(i,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(i,t||{},r)}},t}(yr),Xa=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Aa(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},Ya=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelBans.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function ec(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(Ya.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(Xa.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var tc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Oa(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},rc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelFlows.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function ic(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(rc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(tc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var nc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Da(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},oc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelMembershipsForAppInstanceUser.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function sc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(oc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(nc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var ac=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Pa(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},cc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelMemberships.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function lc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(cc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(ac.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var dc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Ra(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},uc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelMessages.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function hc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(uc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(dc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var pc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new La(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},mc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelModerators.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function fc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(mc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(pc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var gc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Fa(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},bc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelsAssociatedWithChannelFlow.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function vc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(bc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(gc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var yc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Na(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},wc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannelsModeratedByAppInstanceUser.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function Sc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(wc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(yc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var xc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Ba(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},kc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listChannels.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function Cc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(kc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(xc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var Ec=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new Va(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},_c=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.listSubChannels.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function Tc(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(_c.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(Ec.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}var Ic=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.send.apply(e,d([new $a(t)],l(r),!1))];case 1:return[2,i.sent()]}}))}))},Mc=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a(void 0,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.searchChannels.apply(e,d([t],l(r),!1))];case 1:return[2,i.sent()]}}))}))};function Ac(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return h(this,arguments,(function(){var i,n,o,s;return c(this,(function(a){switch(a.label){case 0:i=e.startingToken||void 0,n=!0,a.label=1;case 1:return n?(t.NextToken=i,t.MaxResults=e.pageSize,e.client instanceof Qa?[4,u(Mc.apply(void 0,d([e.client,t],l(r),!1)))]:[3,3]):[3,9];case 2:return o=a.sent(),[3,6];case 3:return e.client instanceof yr?[4,u(Ic.apply(void 0,d([e.client,t],l(r),!1)))]:[3,5];case 4:return o=a.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,u(o)];case 7:return[4,a.sent()];case 8:return a.sent(),s=i,i=o.NextToken,n=!(!i||e.stopOnSameToken&&i===s),[3,1];case 9:return[4,u(void 0)];case 10:return[2,a.sent()]}}))}))}},6145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromHex:()=>a,toHex:()=>c});for(var i={},n={},o=0;o<256;o++){var s=o.toString(16).toLowerCase();1===s.length&&(s="0".concat(s)),i[o]=s,n[s]=o}function a(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var i=e.slice(r,r+2).toLowerCase();if(!(i in n))throw new Error("Cannot decode unrecognized sequence ".concat(i," as hexadecimal"));t[r/2]=n[i]}return t}function c(e){for(var t="",r=0;r<e.byteLength;r++)t+=i[e[r]];return t}},8281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{locateWindow:()=>n});var i={};function n(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}},6778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromUtf8:()=>i,toUtf8:()=>n});var i=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192,63&n|128);else if(r+1<e.length&&55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))){var o=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(n>>12|224,n>>6&63|128,63&n|128)}return Uint8Array.from(t)}(e)},n=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",r=0,i=e.length;r<i;r++){var n=e[r];if(n<128)t+=String.fromCharCode(n);else if(192<=n&&n<224){var o=e[++r];t+=String.fromCharCode((31&n)<<6|63&o)}else if(240<=n&&n<365){var s="%"+[n,e[++r],e[++r],e[++r]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&n)<<12|(63&e[++r])<<6|63&e[++r])}return t}(e)}},6781:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),i=0,n=2,o=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise((function(n,s){r[i]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];n.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}}))}},7026:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),n=new Array(123),o=0;o<64;)n[i[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var n,o=null,s=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:s[a++]=i[l>>2],n=(3&l)<<4,c=1;break;case 1:s[a++]=i[n|l>>4],n=(15&l)<<2,c=2;break;case 2:s[a++]=i[n|l>>6],s[a++]=i[63&l],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[n],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var i,o=r,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=n[l]))throw Error(s);switch(a){case 0:i=l,a=1;break;case 1:t[r++]=i<<2|(48&l)>>4,i=l,a=2;break;case 2:t[r++]=(15&i)<<4|(60&l)>>2,i=l,a=3;break;case 3:t[r++]=(3&i)<<6|l,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5570:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},5298:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3]}function o(e,i,n){t[0]=e,i[n]=r[3],i[n+1]=r[2],i[n+2]=r[1],i[n+3]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function a(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?n:o,e.writeFloatBE=i?o:n,e.readFloatLE=i?s:a,e.readFloatBE=i?a:s}():function(){function t(e,t,r,i){var n=t<0?1:0;if(n&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((n<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((n<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var o=Math.floor(Math.log(t)/Math.LN2);e((n<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,i)}}function s(e,t,r){var i=e(t,r),n=2*(i>>31)+1,o=i>>>23&255,s=8388607&i;return 255===o?s?NaN:n*(1/0):0===o?1401298464324817e-60*n*s:n*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=s.bind(null,n),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3],i[n+4]=r[4],i[n+5]=r[5],i[n+6]=r[6],i[n+7]=r[7]}function o(e,i,n){t[0]=e,i[n]=r[7],i[n+1]=r[6],i[n+2]=r[5],i[n+3]=r[4],i[n+4]=r[3],i[n+5]=r[2],i[n+6]=r[1],i[n+7]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function a(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?n:o,e.writeDoubleBE=i?o:n,e.readDoubleLE=i?s:a,e.readDoubleBE=i?a:s}():function(){function t(e,t,r,i,n,o){var s=i<0?1:0;if(s&&(i=-i),0===i)e(0,n,o+t),e(1/i>0?0:2147483648,n,o+r);else if(isNaN(i))e(0,n,o+t),e(2146959360,n,o+r);else if(i>17976931348623157e292)e(0,n,o+t),e((s<<31|2146435072)>>>0,n,o+r);else{var a;if(i<22250738585072014e-324)e((a=i/5e-324)>>>0,n,o+t),e((s<<31|a/4294967296)>>>0,n,o+r);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=i*Math.pow(2,-c))>>>0,n,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,n,o+r)}}}function s(e,t,r,i,n){var o=e(i,n+t),s=e(i,n+r),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+o;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=s.bind(null,n,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function n(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},6116:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},804:e=>{"use strict";e.exports=function(e,t,r){var i=r||8192,n=i>>>1,o=null,s=i;return function(r){if(r<1||r>n)return e(r);s+r>i&&(o=e(i),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},7958:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var i,n=null,o=[],s=0;t<r;)(i=e[t++])<128?o[s++]=i:i>191&&i<224?o[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0);return n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var i,n,o=r,s=0;s<e.length;++s)(i=e.charCodeAt(s))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(n=e.charCodeAt(s+1)))?(i=65536+((1023&i)<<10)+(1023&n),++s,t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-o}},7160:function(e){e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=r(18),n=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,i){void 0===i&&(i=!1);var n=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(n,o),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),i=t+new Array(r+1).join(".0");return e.map(i.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(i&&(a=s-Math.min(n,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)i.push(t(e[r]));return i},e.find=function(e,t){var r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){var n=e[r];if(t(n,r))return n}},e.assign=function(e){for(var t,r,i=e,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=n,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},o=r(18);function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new n.default(e,t)},e.parse=function(e){return new n.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&s(t.prototype,null),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=c(r(92)),n=c(r(93)),o=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},i=0,n={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(n[t]=s,o+=1):"object"==typeof s&&(r[t]=s,i+=1)})),i>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}var d=a.default.find(s,(function(e){return t.isPlatform(e)}));if(d){var u=this.satisfies(r[d]);if(void 0!==u)return u}}if(o>0){var h=Object.keys(n),p=a.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(n[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),n=a.default.getBrowserTypeByAlias(i);return t&&n&&(i=n.toLowerCase()),i===r},t.compareVersion=function(e){var t=[0],r=e,i=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(i=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(i=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(n,r,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=n.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=n.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=n.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=n.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=n.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||n.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=n.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=n.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=n.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=n.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},o=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BotInfo:()=>s,BrowserInfo:()=>i,NodeInfo:()=>n,ReactNativeInfo:()=>a,SearchBotDeviceInfo:()=>o,browserName:()=>p,detect:()=>u,detectOS:()=>f,getNodeVersion:()=>g,parseUserAgent:()=>m});var i=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},n=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},o=function(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},a=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function u(e){return e?m(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new a:"undefined"!=typeof navigator?m(navigator.userAgent):g()}function h(e){return""!==e&&l.reduce((function(t,r){var i=r[0],n=r[1];if(t)return t;var o=n.exec(e);return!!o&&[i,o]}),!1)}function p(e){var t=h(e);return t?t[0]:null}function m(e){var t=h(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new s;var a=n[1]&&n[1].split(/[._]/).slice(0,3);a?a.length<3&&(a=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}(a,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length))):a=[];var l=a.join("."),d=f(e),u=c.exec(e);return u&&u[1]?new o(r,l,d,u[1]):new i(r,l,d)}function f(e){for(var t=0,r=d.length;t<r;t++){var i=d[t],n=i[0];if(i[1].exec(e))return n}return null}function g(){return"undefined"!=typeof process&&process.version?new n(process.version.slice(1)):null}},2845:(e,t,r)=>{"use strict";const{Deflate:i,deflate:n,deflateRaw:o,gzip:s}=r(9880),{Inflate:a,inflate:c,inflateRaw:l,ungzip:d}=r(1380),u=r(1271);e.exports.Deflate=i,e.exports.deflate=n,e.exports.deflateRaw=o,e.exports.gzip=s,e.exports.Inflate=a,e.exports.inflate=c,e.exports.inflateRaw=l,e.exports.ungzip=d,e.exports.constants=u},9880:(e,t,r)=>{"use strict";const i=r(5789),n=r(9761),o=r(7944),s=r(2950),a=r(878),c=Object.prototype.toString,{Z_NO_FLUSH:l,Z_SYNC_FLUSH:d,Z_FULL_FLUSH:u,Z_FINISH:h,Z_OK:p,Z_STREAM_END:m,Z_DEFAULT_COMPRESSION:f,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:b}=r(1271);function v(e){this.options=n.assign({level:f,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==p)throw new Error(s[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=i.deflateSetDictionary(this.strm,e),r!==p)throw new Error(s[r]);this._dict_set=!0}}function y(e,t){const r=new v(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}v.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?h:l,"string"==typeof e?r.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===d||a===u)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(s=i.deflate(r,a),s===m)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=i.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===p;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===p&&(this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=v,e.exports.deflate=y,e.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,y(e,t)},e.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,y(e,t)},e.exports.constants=r(1271)},1380:(e,t,r)=>{"use strict";const i=r(5020),n=r(9761),o=r(7944),s=r(2950),a=r(878),c=r(7357),l=Object.prototype.toString,{Z_NO_FLUSH:d,Z_FINISH:u,Z_OK:h,Z_STREAM_END:p,Z_NEED_DICT:m,Z_STREAM_ERROR:f,Z_DATA_ERROR:g,Z_MEM_ERROR:b}=r(1271);function v(e){this.options=n.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=i.inflateInit2(this.strm,t.windowBits);if(r!==h)throw new Error(s[r]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=i.inflateSetDictionary(this.strm,t.dictionary),r!==h)))throw new Error(s[r])}function y(e,t){const r=new v(t);if(r.push(e),r.err)throw r.msg||s[r.err];return r.result}v.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,c,v;if(this.ended)return!1;for(c=t===~~t?t:!0===t?u:d,"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=i.inflate(r,c),a===m&&s&&(a=i.inflateSetDictionary(r,s),a===h?a=i.inflate(r,c):a===g&&(a=m));r.avail_in>0&&a===p&&r.state.wrap>0&&0!==e[r.next_in];)i.inflateReset(r),a=i.inflate(r,c);switch(a){case f:case g:case m:case b:return this.onEnd(a),this.ended=!0,!1}if(v=r.avail_out,r.next_out&&(0===r.avail_out||a===p))if("string"===this.options.to){let e=o.utf8border(r.output,r.next_out),t=r.next_out-e,i=o.buf2string(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==h||0!==v){if(a===p)return a=i.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=v,e.exports.inflate=y,e.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,y(e,t)},e.exports.ungzip=y,e.exports.constants=r(1271)},9761:e=>{"use strict";const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);e.exports.assign=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const r in i)t(i,r)&&(e[r]=i[r])}}return e},e.exports.flattenChunks=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,i=0,n=e.length;t<n;t++){let n=e[t];r.set(n,i),i+=n.length}return r}},7944:e=>{"use strict";let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}const r=new Uint8Array(256);for(let e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;r[254]=r[254]=1,e.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,i,n,o,s=e.length,a=0;for(n=0;n<s;n++)r=e.charCodeAt(n),55296==(64512&r)&&n+1<s&&(i=e.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),o=0,n=0;o<a;n++)r=e.charCodeAt(n),55296==(64512&r)&&n+1<s&&(i=e.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},e.exports.buf2string=(e,i)=>{const n=i||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,i));let o,s;const a=new Array(2*n);for(s=0,o=0;o<n;){let t=e[o++];if(t<128){a[s++]=t;continue}let i=r[t];if(i>4)a[s++]=65533,o+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&o<n;)t=t<<6|63&e[o++],i--;i>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((e,r)=>{if(r<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let i="";for(let t=0;t<r;t++)i+=String.fromCharCode(e[t]);return i})(a,s)},e.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+r[e[i]]>t?i:t}},5562:e=>{"use strict";e.exports=(e,t,r,i)=>{let n=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{n=n+t[i++]|0,o=o+n|0}while(--s);n%=65521,o%=65521}return n|o<<16|0}},1271:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4299:e=>{"use strict";const t=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());e.exports=(e,r,i,n)=>{const o=t,s=n+i;e^=-1;for(let t=n;t<s;t++)e=e>>>8^o[255&(e^r[t])];return-1^e}},5789:(e,t,r)=>{"use strict";const{_tr_init:i,_tr_stored_block:n,_tr_flush_block:o,_tr_tally:s,_tr_align:a}=r(9564),c=r(5562),l=r(4299),d=r(2950),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:p,Z_FINISH:m,Z_BLOCK:f,Z_OK:g,Z_STREAM_END:b,Z_STREAM_ERROR:v,Z_DATA_ERROR:y,Z_BUF_ERROR:w,Z_DEFAULT_COMPRESSION:S,Z_FILTERED:x,Z_HUFFMAN_ONLY:k,Z_RLE:C,Z_FIXED:E,Z_DEFAULT_STRATEGY:_,Z_UNKNOWN:T,Z_DEFLATED:I}=r(1271),M=258,A=262,O=103,P=113,D=666,R=(e,t)=>(e.msg=d[t],t),L=e=>(e<<1)-(e>4?9:0),F=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let B=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const N=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},V=(e,t)=>{o(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,N(e.strm)},j=(e,t)=>{e.pending_buf[e.pending++]=t},U=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},z=(e,t,r,i)=>{let n=e.avail_in;return n>i&&(n=i),0===n?0:(e.avail_in-=n,t.set(e.input.subarray(e.next_in,e.next_in+n),r),1===e.state.wrap?e.adler=c(e.adler,t,n,r):2===e.state.wrap&&(e.adler=l(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)},$=(e,t)=>{let r,i,n=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-A?e.strstart-(e.w_size-A):0,l=e.window,d=e.w_mask,u=e.prev,h=e.strstart+M;let p=l[o+s-1],m=l[o+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do{if(r=t,l[r+s]===m&&l[r+s-1]===p&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<h);if(i=M-(h-o),o=h-M,i>s){if(e.match_start=t,s=i,i>=a)break;p=l[o+s-1],m=l[o+s]}}}while((t=u[t&d])>c&&0!=--n);return s<=e.lookahead?s:e.lookahead},q=e=>{const t=e.w_size;let r,i,n,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-A)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,r=i;do{n=e.head[--r],e.head[r]=n>=t?n-t:0}while(--i);i=t,r=i;do{n=e.prev[--r],e.prev[r]=n>=t?n-t:0}while(--i);o+=t}if(0===e.strm.avail_in)break;if(i=z(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=B(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=B(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<A&&0!==e.strm.avail_in)},H=(e,t)=>{let r,i;for(;;){if(e.lookahead<A){if(q(e),e.lookahead<A&&t===u)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=B(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-A&&(e.match_length=$(e,r)),e.match_length>=3)if(i=s(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=B(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=B(e,e.ins_h,e.window[e.strstart+1]);else i=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(V(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===m?(V(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(V(e,!1),0===e.strm.avail_out)?1:2},W=(e,t)=>{let r,i,n;for(;;){if(e.lookahead<A){if(q(e),e.lookahead<A&&t===u)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=B(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-A&&(e.match_length=$(e,r),e.match_length<=5&&(e.strategy===x||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=s(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=B(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(V(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=s(e,0,e.window[e.strstart-1]),i&&V(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===m?(V(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(V(e,!1),0===e.strm.avail_out)?1:2};function K(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}const G=[new K(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(q(e),0===e.lookahead&&t===u)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,V(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-A&&(V(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(V(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(V(e,!1),e.strm.avail_out),1)})),new K(4,4,8,4,H),new K(4,5,16,8,H),new K(4,6,32,32,H),new K(4,4,16,16,W),new K(8,16,32,32,W),new K(8,16,128,128,W),new K(8,32,128,256,W),new K(32,128,258,1024,W),new K(32,258,258,4096,W)];function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Z=e=>{if(!e||!e.state)return R(e,v);e.total_in=e.total_out=0,e.data_type=T;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:P,e.adler=2===t.wrap?0:1,t.last_flush=u,i(t),g},Q=e=>{const t=Z(e);var r;return t===g&&((r=e.state).window_size=2*r.w_size,F(r.head),r.max_lazy_match=G[r.level].max_lazy,r.good_match=G[r.level].good_length,r.nice_match=G[r.level].nice_length,r.max_chain_length=G[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},X=(e,t,r,i,n,o)=>{if(!e)return v;let s=1;if(t===S&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),n<1||n>9||r!==I||i<8||i>15||t<0||t>9||o<0||o>E)return R(e,v);8===i&&(i=9);const a=new J;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=n+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<n+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=r,Q(e)};e.exports.deflateInit=(e,t)=>X(e,t,I,15,8,_),e.exports.deflateInit2=X,e.exports.deflateReset=Q,e.exports.deflateResetKeep=Z,e.exports.deflateSetHeader=(e,t)=>e&&e.state?2!==e.state.wrap?v:(e.state.gzhead=t,g):v,e.exports.deflate=(e,t)=>{let r,i;if(!e||!e.state||t>f||t<0)return e?R(e,v):v;const o=e.state;if(!e.output||!e.input&&0!==e.avail_in||o.status===D&&t!==m)return R(e,0===e.avail_out?w:v);o.strm=e;const c=o.last_flush;if(o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,j(o,31),j(o,139),j(o,8),o.gzhead?(j(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),j(o,255&o.gzhead.time),j(o,o.gzhead.time>>8&255),j(o,o.gzhead.time>>16&255),j(o,o.gzhead.time>>24&255),j(o,9===o.level?2:o.strategy>=k||o.level<2?4:0),j(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(j(o,255&o.gzhead.extra.length),j(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=l(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(j(o,0),j(o,0),j(o,0),j(o,0),j(o,0),j(o,9===o.level?2:o.strategy>=k||o.level<2?4:0),j(o,3),o.status=P);else{let t=I+(o.w_bits-8<<4)<<8,r=-1;r=o.strategy>=k||o.level<2?0:o.level<6?1:6===o.level?2:3,t|=r<<6,0!==o.strstart&&(t|=32),t+=31-t%31,o.status=P,U(o,t),0!==o.strstart&&(U(o,e.adler>>>16),U(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(r=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),N(e),r=o.pending,o.pending!==o.pending_buf_size));)j(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),N(e),r=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,j(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),0===i&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),N(e),r=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,j(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>r&&(e.adler=l(e.adler,o.pending_buf,o.pending-r,r)),0===i&&(o.status=O)}else o.status=O;if(o.status===O&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&N(e),o.pending+2<=o.pending_buf_size&&(j(o,255&e.adler),j(o,e.adler>>8&255),e.adler=0,o.status=P)):o.status=P),0!==o.pending){if(N(e),0===e.avail_out)return o.last_flush=-1,g}else if(0===e.avail_in&&L(t)<=L(c)&&t!==m)return R(e,w);if(o.status===D&&0!==e.avail_in)return R(e,w);if(0!==e.avail_in||0!==o.lookahead||t!==u&&o.status!==D){let r=o.strategy===k?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(q(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,r=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(V(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(V(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(V(e,!1),0===e.strm.avail_out)?1:2})(o,t):o.strategy===C?((e,t)=>{let r,i,n,o;const a=e.window;for(;;){if(e.lookahead<=M){if(q(e),e.lookahead<=M&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=e.strstart-1,i=a[n],i===a[++n]&&i===a[++n]&&i===a[++n])){o=e.strstart+M;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<o);e.match_length=M-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(V(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(V(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(V(e,!1),0===e.strm.avail_out)?1:2})(o,t):G[o.level].func(o,t);if(3!==r&&4!==r||(o.status=D),1===r||3===r)return 0===e.avail_out&&(o.last_flush=-1),g;if(2===r&&(t===h?a(o):t!==f&&(n(o,0,0,!1),t===p&&(F(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),N(e),0===e.avail_out))return o.last_flush=-1,g}return t!==m?g:o.wrap<=0?b:(2===o.wrap?(j(o,255&e.adler),j(o,e.adler>>8&255),j(o,e.adler>>16&255),j(o,e.adler>>24&255),j(o,255&e.total_in),j(o,e.total_in>>8&255),j(o,e.total_in>>16&255),j(o,e.total_in>>24&255)):(U(o,e.adler>>>16),U(o,65535&e.adler)),N(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?g:b)},e.exports.deflateEnd=e=>{if(!e||!e.state)return v;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==O&&t!==P&&t!==D?R(e,v):(e.state=null,t===P?R(e,y):g)},e.exports.deflateSetDictionary=(e,t)=>{let r=t.length;if(!e||!e.state)return v;const i=e.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return v;if(1===n&&(e.adler=c(e.adler,t,r,0)),i.wrap=0,r>=i.w_size){0===n&&(F(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(r-i.w_size,r),0),t=e,r=i.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,q(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=B(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,q(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,i.wrap=n,g},e.exports.deflateInfo="pako deflate (from Nodeca project)"},7357:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4980:e=>{"use strict";e.exports=function(e,t){let r,i,n,o,s,a,c,l,d,u,h,p,m,f,g,b,v,y,w,S,x,k,C,E;const _=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),n=e.next_out,E=e.output,o=n-(t-e.avail_out),s=n+(e.avail_out-257),a=_.dmax,c=_.wsize,l=_.whave,d=_.wnext,u=_.window,h=_.hold,p=_.bits,m=_.lencode,f=_.distcode,g=(1<<_.lenbits)-1,b=(1<<_.distbits)-1;e:do{p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),v=m[h&g];t:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,0===y)E[n++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(h&(1<<y)-1)];continue t}if(32&y){_.mode=12;break e}e.msg="invalid literal/length code",_.mode=30;break e}w=65535&v,y&=15,y&&(p<y&&(h+=C[r++]<<p,p+=8),w+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),v=f[h&b];r:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=f[(65535&v)+(h&(1<<y)-1)];continue r}e.msg="invalid distance code",_.mode=30;break e}if(S=65535&v,y&=15,p<y&&(h+=C[r++]<<p,p+=8,p<y&&(h+=C[r++]<<p,p+=8)),S+=h&(1<<y)-1,S>a){e.msg="invalid distance too far back",_.mode=30;break e}if(h>>>=y,p-=y,y=n-o,S>y){if(y=S-y,y>l&&_.sane){e.msg="invalid distance too far back",_.mode=30;break e}if(x=0,k=u,0===d){if(x+=c-y,y<w){w-=y;do{E[n++]=u[x++]}while(--y);x=n-S,k=E}}else if(d<y){if(x+=c+d-y,y-=d,y<w){w-=y;do{E[n++]=u[x++]}while(--y);if(x=0,d<w){y=d,w-=y;do{E[n++]=u[x++]}while(--y);x=n-S,k=E}}}else if(x+=d-y,y<w){w-=y;do{E[n++]=u[x++]}while(--y);x=n-S,k=E}for(;w>2;)E[n++]=k[x++],E[n++]=k[x++],E[n++]=k[x++],w-=3;w&&(E[n++]=k[x++],w>1&&(E[n++]=k[x++]))}else{x=n-S;do{E[n++]=E[x++],E[n++]=E[x++],E[n++]=E[x++],w-=3}while(w>2);w&&(E[n++]=E[x++],w>1&&(E[n++]=E[x++]))}break}}break}}while(r<i&&n<s);w=p>>3,r-=w,p-=w<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=n,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=n<s?s-n+257:257-(n-s),_.hold=h,_.bits=p}},5020:(e,t,r)=>{"use strict";const i=r(5562),n=r(4299),o=r(4980),s=r(881),{Z_FINISH:a,Z_BLOCK:c,Z_TREES:l,Z_OK:d,Z_STREAM_END:u,Z_NEED_DICT:h,Z_STREAM_ERROR:p,Z_DATA_ERROR:m,Z_MEM_ERROR:f,Z_BUF_ERROR:g,Z_DEFLATED:b}=r(1271),v=12,y=30,w=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const x=e=>{if(!e||!e.state)return p;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,d},k=e=>{if(!e||!e.state)return p;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,x(e)},C=(e,t)=>{let r;if(!e||!e.state)return p;const i=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,k(e))},E=(e,t)=>{if(!e)return p;const r=new S;e.state=r,r.window=null;const i=C(e,t);return i!==d&&(e.state=null),i};let _,T,I=!0;const M=e=>{if(I){_=new Int32Array(512),T=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,T,0,e.work,{bits:5}),I=!1}e.lencode=_,e.lenbits=9,e.distcode=T,e.distbits=5},A=(e,t,r,i)=>{let n;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>i&&(n=i),o.window.set(t.subarray(r-i,r-i+n),o.wnext),(i-=n)?(o.window.set(t.subarray(r-i,r),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0};e.exports.inflateReset=k,e.exports.inflateReset2=C,e.exports.inflateResetKeep=x,e.exports.inflateInit=e=>E(e,15),e.exports.inflateInit2=E,e.exports.inflate=(e,t)=>{let r,S,x,k,C,E,_,T,I,O,P,D,R,L,F,B,N,V,j,U,z,$,q=0;const H=new Uint8Array(4);let W,K;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return p;r=e.state,r.mode===v&&(r.mode=13),C=e.next_out,x=e.output,_=e.avail_out,k=e.next_in,S=e.input,E=e.avail_in,T=r.hold,I=r.bits,O=E,P=_,$=d;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;I<16;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(2&r.wrap&&35615===T){r.check=0,H[0]=255&T,H[1]=T>>>8&255,r.check=n(r.check,H,2,0),T=0,I=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&T)<<8)+(T>>8))%31){e.msg="incorrect header check",r.mode=y;break}if((15&T)!==b){e.msg="unknown compression method",r.mode=y;break}if(T>>>=4,I-=4,z=8+(15&T),0===r.wbits)r.wbits=z;else if(z>r.wbits){e.msg="invalid window size",r.mode=y;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&T?10:v,T=0,I=0;break;case 2:for(;I<16;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(r.flags=T,(255&r.flags)!==b){e.msg="unknown compression method",r.mode=y;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=y;break}r.head&&(r.head.text=T>>8&1),512&r.flags&&(H[0]=255&T,H[1]=T>>>8&255,r.check=n(r.check,H,2,0)),T=0,I=0,r.mode=3;case 3:for(;I<32;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.head&&(r.head.time=T),512&r.flags&&(H[0]=255&T,H[1]=T>>>8&255,H[2]=T>>>16&255,H[3]=T>>>24&255,r.check=n(r.check,H,4,0)),T=0,I=0,r.mode=4;case 4:for(;I<16;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.head&&(r.head.xflags=255&T,r.head.os=T>>8),512&r.flags&&(H[0]=255&T,H[1]=T>>>8&255,r.check=n(r.check,H,2,0)),T=0,I=0,r.mode=5;case 5:if(1024&r.flags){for(;I<16;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.length=T,r.head&&(r.head.extra_len=T),512&r.flags&&(H[0]=255&T,H[1]=T>>>8&255,r.check=n(r.check,H,2,0)),T=0,I=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(D=r.length,D>E&&(D=E),D&&(r.head&&(z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(S.subarray(k,k+D),z)),512&r.flags&&(r.check=n(r.check,S,D,k)),E-=D,k+=D,r.length-=D),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===E)break e;D=0;do{z=S[k+D++],r.head&&z&&r.length<65536&&(r.head.name+=String.fromCharCode(z))}while(z&&D<E);if(512&r.flags&&(r.check=n(r.check,S,D,k)),E-=D,k+=D,z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===E)break e;D=0;do{z=S[k+D++],r.head&&z&&r.length<65536&&(r.head.comment+=String.fromCharCode(z))}while(z&&D<E);if(512&r.flags&&(r.check=n(r.check,S,D,k)),E-=D,k+=D,z)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;I<16;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(T!==(65535&r.check)){e.msg="header crc mismatch",r.mode=y;break}T=0,I=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=v;break;case 10:for(;I<32;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}e.adler=r.check=w(T),T=0,I=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=C,e.avail_out=_,e.next_in=k,e.avail_in=E,r.hold=T,r.bits=I,h;e.adler=r.check=1,r.mode=v;case v:if(t===c||t===l)break e;case 13:if(r.last){T>>>=7&I,I-=7&I,r.mode=27;break}for(;I<3;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}switch(r.last=1&T,T>>>=1,I-=1,3&T){case 0:r.mode=14;break;case 1:if(M(r),r.mode=20,t===l){T>>>=2,I-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=y}T>>>=2,I-=2;break;case 14:for(T>>>=7&I,I-=7&I;I<32;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if((65535&T)!=(T>>>16^65535)){e.msg="invalid stored block lengths",r.mode=y;break}if(r.length=65535&T,T=0,I=0,r.mode=15,t===l)break e;case 15:r.mode=16;case 16:if(D=r.length,D){if(D>E&&(D=E),D>_&&(D=_),0===D)break e;x.set(S.subarray(k,k+D),C),E-=D,k+=D,_-=D,C+=D,r.length-=D;break}r.mode=v;break;case 17:for(;I<14;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(r.nlen=257+(31&T),T>>>=5,I-=5,r.ndist=1+(31&T),T>>>=5,I-=5,r.ncode=4+(15&T),T>>>=4,I-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=y;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;I<3;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.lens[G[r.have++]]=7&T,T>>>=3,I-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},$=s(0,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,$){e.msg="invalid code lengths set",r.mode=y;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;q=r.lencode[T&(1<<r.lenbits)-1],F=q>>>24,B=q>>>16&255,N=65535&q,!(F<=I);){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(N<16)T>>>=F,I-=F,r.lens[r.have++]=N;else{if(16===N){for(K=F+2;I<K;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(T>>>=F,I-=F,0===r.have){e.msg="invalid bit length repeat",r.mode=y;break}z=r.lens[r.have-1],D=3+(3&T),T>>>=2,I-=2}else if(17===N){for(K=F+3;I<K;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}T>>>=F,I-=F,z=0,D=3+(7&T),T>>>=3,I-=3}else{for(K=F+7;I<K;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}T>>>=F,I-=F,z=0,D=11+(127&T),T>>>=7,I-=7}if(r.have+D>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=y;break}for(;D--;)r.lens[r.have++]=z}}if(r.mode===y)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=y;break}if(r.lenbits=9,W={bits:r.lenbits},$=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,$){e.msg="invalid literal/lengths set",r.mode=y;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},$=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,$){e.msg="invalid distances set",r.mode=y;break}if(r.mode=20,t===l)break e;case 20:r.mode=21;case 21:if(E>=6&&_>=258){e.next_out=C,e.avail_out=_,e.next_in=k,e.avail_in=E,r.hold=T,r.bits=I,o(e,P),C=e.next_out,x=e.output,_=e.avail_out,k=e.next_in,S=e.input,E=e.avail_in,T=r.hold,I=r.bits,r.mode===v&&(r.back=-1);break}for(r.back=0;q=r.lencode[T&(1<<r.lenbits)-1],F=q>>>24,B=q>>>16&255,N=65535&q,!(F<=I);){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(B&&0==(240&B)){for(V=F,j=B,U=N;q=r.lencode[U+((T&(1<<V+j)-1)>>V)],F=q>>>24,B=q>>>16&255,N=65535&q,!(V+F<=I);){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}T>>>=V,I-=V,r.back+=V}if(T>>>=F,I-=F,r.back+=F,r.length=N,0===B){r.mode=26;break}if(32&B){r.back=-1,r.mode=v;break}if(64&B){e.msg="invalid literal/length code",r.mode=y;break}r.extra=15&B,r.mode=22;case 22:if(r.extra){for(K=r.extra;I<K;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.length+=T&(1<<r.extra)-1,T>>>=r.extra,I-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;q=r.distcode[T&(1<<r.distbits)-1],F=q>>>24,B=q>>>16&255,N=65535&q,!(F<=I);){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(0==(240&B)){for(V=F,j=B,U=N;q=r.distcode[U+((T&(1<<V+j)-1)>>V)],F=q>>>24,B=q>>>16&255,N=65535&q,!(V+F<=I);){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}T>>>=V,I-=V,r.back+=V}if(T>>>=F,I-=F,r.back+=F,64&B){e.msg="invalid distance code",r.mode=y;break}r.offset=N,r.extra=15&B,r.mode=24;case 24:if(r.extra){for(K=r.extra;I<K;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}r.offset+=T&(1<<r.extra)-1,T>>>=r.extra,I-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=y;break}r.mode=25;case 25:if(0===_)break e;if(D=P-_,r.offset>D){if(D=r.offset-D,D>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=y;break}D>r.wnext?(D-=r.wnext,R=r.wsize-D):R=r.wnext-D,D>r.length&&(D=r.length),L=r.window}else L=x,R=C-r.offset,D=r.length;D>_&&(D=_),_-=D,r.length-=D;do{x[C++]=L[R++]}while(--D);0===r.length&&(r.mode=21);break;case 26:if(0===_)break e;x[C++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;I<32;){if(0===E)break e;E--,T|=S[k++]<<I,I+=8}if(P-=_,e.total_out+=P,r.total+=P,P&&(e.adler=r.check=r.flags?n(r.check,x,P,C-P):i(r.check,x,P,C-P)),P=_,(r.flags?T:w(T))!==r.check){e.msg="incorrect data check",r.mode=y;break}T=0,I=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;I<32;){if(0===E)break e;E--,T+=S[k++]<<I,I+=8}if(T!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=y;break}T=0,I=0}r.mode=29;case 29:$=u;break e;case y:$=m;break e;case 31:return f;default:return p}return e.next_out=C,e.avail_out=_,e.next_in=k,e.avail_in=E,r.hold=T,r.bits=I,(r.wsize||P!==e.avail_out&&r.mode<y&&(r.mode<27||t!==a))&&A(e,e.output,e.next_out,P-e.avail_out)?(r.mode=31,f):(O-=e.avail_in,P-=e.avail_out,e.total_in+=O,e.total_out+=P,r.total+=P,r.wrap&&P&&(e.adler=r.check=r.flags?n(r.check,x,P,e.next_out-P):i(r.check,x,P,e.next_out-P)),e.data_type=r.bits+(r.last?64:0)+(r.mode===v?128:0)+(20===r.mode||15===r.mode?256:0),(0===O&&0===P||t===a)&&$===d&&($=g),$)},e.exports.inflateEnd=e=>{if(!e||!e.state)return p;let t=e.state;return t.window&&(t.window=null),e.state=null,d},e.exports.inflateGetHeader=(e,t)=>{if(!e||!e.state)return p;const r=e.state;return 0==(2&r.wrap)?p:(r.head=t,t.done=!1,d)},e.exports.inflateSetDictionary=(e,t)=>{const r=t.length;let n,o,s;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?p:11===n.mode&&(o=1,o=i(o,t,r,0),o!==n.check)?m:(s=A(e,t,r,r),s?(n.mode=31,f):(n.havedict=1,d))):p},e.exports.inflateInfo="pako inflate (from Nodeca project)"},881:e=>{"use strict";const t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),n=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=(e,o,s,a,c,l,d,u)=>{const h=u.bits;let p,m,f,g,b,v,y=0,w=0,S=0,x=0,k=0,C=0,E=0,_=0,T=0,I=0,M=null,A=0;const O=new Uint16Array(16),P=new Uint16Array(16);let D,R,L,F=null,B=0;for(y=0;y<=15;y++)O[y]=0;for(w=0;w<a;w++)O[o[s+w]]++;for(k=h,x=15;x>=1&&0===O[x];x--);if(k>x&&(k=x),0===x)return c[l++]=20971520,c[l++]=20971520,u.bits=1,0;for(S=1;S<x&&0===O[S];S++);for(k<S&&(k=S),_=1,y=1;y<=15;y++)if(_<<=1,_-=O[y],_<0)return-1;if(_>0&&(0===e||1!==x))return-1;for(P[1]=0,y=1;y<15;y++)P[y+1]=P[y]+O[y];for(w=0;w<a;w++)0!==o[s+w]&&(d[P[o[s+w]]++]=w);if(0===e?(M=F=d,v=19):1===e?(M=t,A-=257,F=r,B-=257,v=256):(M=i,F=n,v=-1),I=0,w=0,y=S,b=l,C=k,E=0,f=-1,T=1<<k,g=T-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){D=y-E,d[w]<v?(R=0,L=d[w]):d[w]>v?(R=F[B+d[w]],L=M[A+d[w]]):(R=96,L=0),p=1<<y-E,m=1<<C,S=m;do{m-=p,c[b+(I>>E)+m]=D<<24|R<<16|L|0}while(0!==m);for(p=1<<y-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,w++,0==--O[y]){if(y===x)break;y=o[s+d[w]]}if(y>k&&(I&g)!==f){for(0===E&&(E=k),b+=S,C=y-E,_=1<<C;C+E<x&&(_-=O[C+E],!(_<=0));)C++,_<<=1;if(T+=1<<C,1===e&&T>852||2===e&&T>592)return 1;f=I&g,c[f]=k<<24|C<<16|b-l|0}}return 0!==I&&(c[b+I]=y-E<<24|64<<16|0),u.bits=k,0}},2950:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9564:e=>{"use strict";function t(e){let t=e.length;for(;--t>=0;)e[t]=0}const r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const a=new Array(60);t(a);const c=new Array(512);t(c);const l=new Array(256);t(l);const d=new Array(29);t(d);const u=new Array(30);function h(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}let p,m,f;function g(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(u);const b=e=>e<256?c[e]:c[256+(e>>>7)],v=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},y=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,v(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},w=(e,t,r)=>{y(e,r[2*t],r[2*t+1])},S=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},x=(e,t,r)=>{const i=new Array(16);let n,o,s=0;for(n=1;n<=15;n++)i[n]=s=s+r[n-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=S(i[t]++,t))}},k=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},C=e=>{e.bi_valid>8?v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},E=(e,t,r,i)=>{const n=2*t,o=2*r;return e[n]<e[o]||e[n]===e[o]&&i[t]<=i[r]},_=(e,t,r)=>{const i=e.heap[r];let n=r<<1;for(;n<=e.heap_len&&(n<e.heap_len&&E(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!E(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i},T=(e,t,n)=>{let o,s,a,c,h=0;if(0!==e.last_lit)do{o=e.pending_buf[e.d_buf+2*h]<<8|e.pending_buf[e.d_buf+2*h+1],s=e.pending_buf[e.l_buf+h],h++,0===o?w(e,s,t):(a=l[s],w(e,a+256+1,t),c=r[a],0!==c&&(s-=d[a],y(e,s,c)),o--,a=b(o),w(e,a,n),c=i[a],0!==c&&(o-=u[a],y(e,o,c)))}while(h<e.last_lit);w(e,256,t)},I=(e,t)=>{const r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,c,l=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=i[2*c+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)_(e,r,s);c=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,r[2*c]=r[2*s]+r[2*a],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,r[2*s+1]=r[2*a+1]=c,e.heap[1]=c++,_(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,d,u,h,p,m,f=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)d=e.heap[l],h=r[2*r[2*d+1]+1]+1,h>c&&(h=c,f++),r[2*d+1]=h,d>i||(e.bl_count[h]++,p=0,d>=a&&(p=s[d-a]),m=r[2*d],e.opt_len+=m*(h+p),o&&(e.static_len+=m*(n[2*d+1]+p)));if(0!==f){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,f-=2}while(f>0);for(h=c;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--l],u>i||(r[2*u+1]!==h&&(e.opt_len+=(h-r[2*u+1])*r[2*u],r[2*u+1]=h),d--)}})(e,t),x(r,l,e.bl_count)},M=(e,t,r)=>{let i,n,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=t[2*(i+1)+1],++a<c&&n===s||(a<l?e.bl_tree[2*n]+=a:0!==n?(n!==o&&e.bl_tree[2*n]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=n,0===s?(c=138,l=3):n===s?(c=6,l=3):(c=7,l=4))},A=(e,t,r)=>{let i,n,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),i=0;i<=r;i++)if(n=s,s=t[2*(i+1)+1],!(++a<c&&n===s)){if(a<l)do{w(e,n,e.bl_tree)}while(0!=--a);else 0!==n?(n!==o&&(w(e,n,e.bl_tree),a--),w(e,16,e.bl_tree),y(e,a-3,2)):a<=10?(w(e,17,e.bl_tree),y(e,a-3,3)):(w(e,18,e.bl_tree),y(e,a-11,7));a=0,o=n,0===s?(c=138,l=3):n===s?(c=6,l=3):(c=7,l=4)}};let O=!1;const P=(e,t,r,i)=>{y(e,0+(i?1:0),3),((e,t,r,i)=>{C(e),v(e,r),v(e,~r),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r})(e,t,r)};e.exports._tr_init=e=>{O||((()=>{let e,t,o,g,b;const v=new Array(16);for(o=0,g=0;g<28;g++)for(d[g]=o,e=0;e<1<<r[g];e++)l[o++]=g;for(l[o-1]=g,b=0,g=0;g<16;g++)for(u[g]=b,e=0;e<1<<i[g];e++)c[b++]=g;for(b>>=7;g<30;g++)for(u[g]=b<<7,e=0;e<1<<i[g]-7;e++)c[256+b++]=g;for(t=0;t<=15;t++)v[t]=0;for(e=0;e<=143;)s[2*e+1]=8,e++,v[8]++;for(;e<=255;)s[2*e+1]=9,e++,v[9]++;for(;e<=279;)s[2*e+1]=7,e++,v[7]++;for(;e<=287;)s[2*e+1]=8,e++,v[8]++;for(x(s,287,v),e=0;e<30;e++)a[2*e+1]=5,a[2*e]=S(e,5);p=new h(s,r,257,286,15),m=new h(a,i,0,30,15),f=new h(new Array(0),n,0,19,7)})(),O=!0),e.l_desc=new g(e.dyn_ltree,p),e.d_desc=new g(e.dyn_dtree,m),e.bl_desc=new g(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,k(e)},e.exports._tr_stored_block=P,e.exports._tr_flush_block=(e,t,r,i)=>{let n,c,l=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),I(e,e.l_desc),I(e,e.d_desc),l=(e=>{let t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*o[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),n=e.opt_len+3+7>>>3,c=e.static_len+3+7>>>3,c<=n&&(n=c)):n=c=r+5,r+4<=n&&-1!==t?P(e,t,r,i):4===e.strategy||c===n?(y(e,2+(i?1:0),3),T(e,s,a)):(y(e,4+(i?1:0),3),((e,t,r,i)=>{let n;for(y(e,t-257,5),y(e,r-1,5),y(e,i-4,4),n=0;n<i;n++)y(e,e.bl_tree[2*o[n]+1],3);A(e,e.dyn_ltree,t-1),A(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),T(e,e.dyn_ltree,e.dyn_dtree)),k(e),i&&C(e)},e.exports._tr_tally=(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(l[r]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1),e.exports._tr_align=e=>{y(e,2,3),w(e,256,s),(e=>{16===e.bi_valid?(v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},878:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},3737:(e,t,r)=>{"use strict";e.exports=r(536)},536:(e,t,r)=>{"use strict";var i=t;function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=r(123),i.BufferWriter=r(6673),i.Reader=r(9799),i.BufferReader=r(7038),i.util=r(4165),i.rpc=r(4963),i.roots=r(9009),i.configure=n,n()},9799:(e,t,r)=>{"use strict";e.exports=c;var i,n=r(4165),o=n.LongBits,s=n.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,d="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return n.Buffer?function(e){return(c.create=function(e){return n.Buffer.isBuffer(e)?new i(e):d(e)})(e)}:d};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw a(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){i=e,c.create=u(),i._configure();var t=n.Long?"toLong":"toNumber";n.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return m.call(this)[t](!0)},sfixed64:function(){return m.call(this)[t](!1)}})}},7038:(e,t,r)=>{"use strict";e.exports=o;var i=r(9799);(o.prototype=Object.create(i.prototype)).constructor=o;var n=r(4165);function o(e){i.call(this,e)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},9009:e=>{"use strict";e.exports={}},4963:(e,t,r)=>{"use strict";t.Service=r(9548)},9548:(e,t,r)=>{"use strict";e.exports=n;var i=r(4165);function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,r,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(e,a,t,r,n,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1697:(e,t,r)=>{"use strict";e.exports=n;var i=r(4165);function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new n(r,i)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(i.isString(e)){if(!i.Long)return n.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):o},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;n.fromHash=function(e){return e===s?o:new n((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},4165:function(e,t,r){"use strict";var i=t;function n(e,t,r){for(var i=Object.keys(t),n=0;n<i.length;++n)void 0!==e[i[n]]&&r||(e[i[n]]=t[i[n]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=r(6781),i.base64=r(7026),i.EventEmitter=r(5570),i.float=r(5298),i.inquire=r(6116),i.utf8=r(7958),i.pool=r(804),i.LongBits=r(1697),i.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),i.global=i.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=n,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=o,i.ProtocolError=o("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},123:(e,t,r)=>{"use strict";e.exports=u;var i,n=r(4165),o=n.LongBits,s=n.base64,a=n.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return n.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function p(e,t,r){t[r]=255&e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=h(),u.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},m.prototype=Object.create(c.prototype),m.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(f,10,o.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=o.from(e);return this._push(f,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(f,t.length(),t)},u.prototype.bool=function(e){return this._push(p,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var b=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(n.isString(e)){var r=u.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(b,t,e)},u.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},u.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new c(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){i=e,u.create=h(),i._configure()}},6673:(e,t,r)=>{"use strict";e.exports=o;var i=r(123);(o.prototype=Object.create(i.prototype)).constructor=o;var n=r(4165);function o(){i.call(this)}function s(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},o.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},5163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>y,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>d,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>_,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>p,__extends:()=>n,__generator:()=>u,__importDefault:()=>C,__importStar:()=>k,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>f,__rest:()=>s,__spread:()=>g,__spreadArrays:()=>b,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}function a(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,i){t(r,i,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){o.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:v(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},6353:function(e,t,r){var i;!function(n,o){"use strict";var s="function",a="undefined",c="object",l="string",d="model",u="name",h="type",p="vendor",m="version",f="architecture",g="console",b="mobile",v="tablet",y="smarttv",w="wearable",S="embedded",x="Amazon",k="Apple",C="ASUS",E="BlackBerry",_="Google",T="Huawei",I="LG",M="Microsoft",A="Motorola",O="Samsung",P="Sony",D="Xiaomi",R="Zebra",L="Facebook",F=function(e){var t={};for(var r in e)t[e[r].toUpperCase()]=e[r];return t},B=function(e,t){return typeof e===l&&-1!==N(t).indexOf(N(e))},N=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,255)},j=function(e,t){for(var r,i,n,a,l,d,u=0;u<t.length&&!l;){var h=t[u],p=t[u+1];for(r=i=0;r<h.length&&!l;)if(l=h[r++].exec(e))for(n=0;n<p.length;n++)d=l[++i],typeof(a=p[n])===c&&a.length>0?2==a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3==a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):o:this[a[0]]=d?a[1].call(this,d,a[2]):o:4==a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):o):this[a]=d||o;u+=2}},U=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(B(t[r][i],e))return"?"===r?o:r}else if(B(t[r],e))return"?"===r?o:r;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,m],[/opios[\/ ]+([\w\.]+)/i],[m,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[m,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[m,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],m],[/\bfocus\/([\w\.]+)/i],[m,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[m,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[m,[u,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,L],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[m,U,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,N]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",N]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,N]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,O],[h,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,O],[h,b]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[p,k],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,k],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,T],[h,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[d,[p,T],[h,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,D],[h,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,D],[h,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[d,[p,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,A],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,A],[h,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,I],[h,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,I],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[h,b]],[/(pixel c)\b/i],[d,[p,_],[h,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,_],[h,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,P],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,P],[h,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,x],[h,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,x],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,E],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,C],[h,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,C],[h,b]],[/(nexus 9)/i],[d,[p,"HTC"],[h,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,"Sharp"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,v]],[/(surface duo)/i],[d,[p,M],[h,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,b]],[/(u304aa)/i],[d,[p,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,v]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,v]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,v]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,v]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,v]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,v]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,v]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,b]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,v]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,v]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,v]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[h,v]],[/(sprint) (\w+)/i],[p,d,[h,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,M],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,R],[h,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,R],[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,g]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[d,[p,P],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,M],[h,g]],[/smart-tv.+(samsung)/i],[p,[h,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,O],[h,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,I],[h,y]],[/(apple) ?tv/i],[p,[d,"Apple TV"],[h,y]],[/crkey/i],[[d,"Chromecast"],[p,_],[h,y]],[/droid.+aft(\w)( bui|\))/i],[d,[p,x],[h,y]],[/\(dtv[\);].+(aquos)/i],[d,[p,"Sharp"],[h,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,V],[d,V],[h,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,y]],[/((pebble))app/i],[p,d,[h,w]],[/droid.+; (glass) \d/i],[d,[p,_],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,R],[h,w]],[/(quest( 2)?)/i],[d,[p,L],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,v]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[m,U,z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[m,U,z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,m],[/\(bb(10);/i],[m,[u,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,m],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,m]]},q=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof q))return new q(e,t).getResult();var r=e||(typeof n!==a&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r}($,t):$;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,j.call(t,r,i.browser),t.major=typeof(e=t.version)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,j.call(e,r,i.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,j.call(e,r,i.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,j.call(e,r,i.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,j.call(e,r,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>255?V(e,255):e,this},this.setUA(r),this};q.VERSION="1.0.1",q.BROWSER=F([u,m,"major"]),q.CPU=F([f]),q.DEVICE=F([d,p,h,g,b,y,v,w,S]),q.ENGINE=q.OS=F([u,m]),typeof t!==a?(e.exports&&(t=e.exports=q),t.UAParser=q):r.amdO?(i=function(){return q}.call(t,r,t,e))===o||(e.exports=i):typeof n!==a&&(n.UAParser=q);var H=typeof n!==a&&(n.jQuery||n.Zepto);if(H&&!H.ua){var W=new q;H.ua=W.getResult(),H.ua.get=function(){return W.getUA()},H.ua.set=function(e){W.setUA(e);var t=W.getResult();for(var r in t)H.ua[r]=t[r]}}}("object"==typeof window?window:this)},2204:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},1763:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23969fa8%27/%3e%3c/svg%3e"},2469:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},7486:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},15:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23e74c3c%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23e74c3c%27 stroke=%27none%27/%3e%3c/svg%3e"},6254:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},8179:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23283848%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},5647:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},1692:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},6529:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27var%28--bs-body-color%29%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},6770:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},8931:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},6199:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},1116:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},1217:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},9134:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%2318bc9c%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"},8309:e=>{"use strict";e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M3.5 0l-.5 1.19c-.1.03-.19.08-.28.13l-1.19-.5-.72.72.5 1.19c-.05.1-.09.18-.13.28l-1.19.5v1l1.19.5c.04.1.08.18.13.28l-.5 1.19.72.72 1.19-.5c.09.04.18.09.28.13l.5 1.19h1l.5-1.19c.09-.04.19-.08.28-.13l1.19.5.72-.72-.5-1.19c.04-.09.09-.19.13-.28l1.19-.5v-1l-1.19-.5c-.03-.09-.08-.19-.13-.28l.5-1.19-.72-.72-1.19.5c-.09-.04-.19-.09-.28-.13l-.5-1.19h-1zm.5 2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"\n  />\n</svg>'},5485:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__(988);app_meetingV2=__webpack_exports__})();